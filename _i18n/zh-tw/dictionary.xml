<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="e80842c9211bc376ee42d583c70ae408" category="doc">NetApp平台</block>
  <block id="932ba7da1da9b241bfc5ddbb10e49da2" category="paragraph">企業越來越多地採用 DevOps 實踐來創建新產品、縮短發布週期並快速添加新功能。由於其固有的敏捷特性，容器和微服務在支援 DevOps 實踐方面發揮著至關重要的作用。然而，在企業環境中以生產規模實踐 DevOps 也面臨著自身的挑戰，並對底層基礎設施提出了一定的要求，例如：</block>
  <block id="43ee156205e7f74e32a02d556537fe90" category="list-text">堆疊中所有層的高可用性</block>
  <block id="b59807af538b77fee1fb3d1d3c81f9a8" category="list-text">簡化部署程序</block>
  <block id="2748d7182409b378e23f62724be778fd" category="list-text">無中斷運作和升級</block>
  <block id="1a4af279491c72d7c36b4c9767ae712f" category="list-text">API 驅動且可編程的基礎設施，以跟上微服務的敏捷性</block>
  <block id="0cdff7d38ef496f6b5510c5034fedf15" category="list-text">具有效能保證的多租戶</block>
  <block id="c67346d734cf1873532bdc9f9a1421da" category="list-text">能夠同時運行虛擬化和容器化工作負載</block>
  <block id="71d00a17a6d603b0b4ebb168354950db" category="list-text">根據工作負載需求獨立擴展基礎設施的能力</block>
  <block id="2b8932b35916e8cecb6216546111322e" category="paragraph">Red Hat OpenShift Container Platform 是一個完全支援的企業級 Kubernetes 平台。  Red Hat 對開源 Kubernetes 進行了多項改進，以提供一個完全整合所有元件的應用程式平台，用於建置、部署和管理容器化應用程式。</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link">這裡</block>
  <block id="73677e8d319e77c91f647e668e868ecb" category="paragraph">欲了解更多信息，請訪問 OpenShift 網站<block ref="35d5a627a33ce17e4bd125258d59fbc4" category="inline-link-rx"></block>。</block>
  <block id="660d073f0987fac312dc40bd5dc868bd" category="paragraph">NetApp擁有多種非常適合企業資料中心和混合雲端部署的儲存系統。  NetApp產品組合包括NetApp ONTAP、 NetApp Element和NetApp e-Series 儲存系統，所有這些系統都可以為容器化應用程式提供持久性儲存。</block>
  <block id="f582083d849d313b57029bcb7e14f0b5" category="paragraph">如需了解更多信息，請訪問NetApp網站<block ref="95da63d781dead5af723667a3f69096a" category="inline-link-rx"></block>。</block>
  <block id="52793fa37eb7686ddfd1adbb418ea88b" category="paragraph">Trident是一個開源且完全支援的儲存編排器，適用於容器和 Kubernetes 發行版（如 {k8s_distribution_name}）。</block>
  <block id="674132e161f2169b0ec0b4ccbd09312c" category="paragraph">欲了解更多信息，請訪問Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="367ed9b12ca74138f4b935c22d3372f4" category="paragraph">NetApp擁有多個符合Trident的儲存平台，可為容器化應用程式設定、保護和管理資料。</block>
  <block id="5e8f0f670e38fbdf628b0883f946934f" category="inline-image-macro">此圖顯示輸入/輸出對話框或表示書面內容</block>
  <block id="794b7480b9144c16979c06a95be8a070" category="paragraph"><block ref="794b7480b9144c16979c06a95be8a070" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50bc4bb14f0d89a22c593112574d0fb3" category="list-text">AFF和FAS系統運行NetApp ONTAP並為基於檔案 (NFS) 和基於區塊 (iSCSI) 的用例提供儲存。</block>
  <block id="bf3bfadca5040d5a50a8703c7dbb7ef1" category="list-text">Cloud Volumes ONTAP和ONTAP Select分別在雲端和虛擬空間中提供相同的優勢。</block>
  <block id="63617ca0b43f2c1f725b03637e6647cf" category="list-text">Google Cloud NetApp Volumes （AWS/GCP）和Azure NetApp Files在雲端提供基於檔案的儲存。</block>
  <block id="1268e1be2d69bcbe60fed1b018c4c7be" category="list-text">NetApp Element儲存系統涵蓋高度可擴充環境中的基於區塊的（iSCSI）用例。</block>
  <block id="c64f419c58469b610f6840042d2d188c" category="admonition">NetApp產品組合中的每個儲存系統都可以簡化資料管理和內部站點與雲端之間的移動，以便您的資料位於您的應用程式所在的位置。</block>
  <block id="8d866fd138999801041cd8ebf044c39f" category="paragraph">以下頁麵包含有關在 {solution_name} 解決方案中驗證的NetApp儲存系統的詳細資訊：</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="inline-link-macro">NetApp ONTAP</block>
  <block id="31190025c7f2a3470ada77c7c360ad75" category="list-text"><block ref="31190025c7f2a3470ada77c7c360ad75" category="inline-link-macro-rx"></block></block>
  <block id="fcda5b98e8c212807dc088477e802757" category="inline-link-macro">NetApp Element</block>
  <block id="15155104ed4dffb0c6f48a716c490eb6" category="list-text"><block ref="15155104ed4dffb0c6f48a716c490eb6" category="inline-link-macro-rx"></block></block>
  <block id="9d312703c40c2d87b835076063682d59" category="paragraph">NetApp ONTAP是一款功能強大的儲存軟體工具，具有直覺的 GUI、具有自動化整合的 REST API、基於 AI 的預測分析和糾正措施、無中斷硬體升級以及跨儲存導入等功能。</block>
  <block id="48235fec2427a785c4a09d7150fc11fc" category="inline-link">NetApp ONTAP網站</block>
  <block id="e65027864c84a42fc0799d878ffa0005" category="paragraph">有關NetApp ONTAP儲存系統的更多信息，請訪問<block ref="be9464a7a83e639a645a801fff2791d9" category="inline-link-rx"></block>。</block>
  <block id="3716516b242be48f15f8cbce6557a296" category="paragraph">ONTAP提供以下功能：</block>
  <block id="3e23168685787e9deffccb3bdb29d98a" category="list-text">一個統一的儲存系統，可同時存取和管理 NFS、CIFS、iSCSI、FC、FCoE 和 FC-NVMe 協定的資料。</block>
  <block id="11927aa24f71bc959d85115c8dd8c3a9" category="list-text">不同的部署模型包括全快閃、混合和全 HDD 硬體配置上的本地部署；受支援的虛擬機器管理程式（如ONTAP Select）上的基於 VM 的儲存平台；以及在雲端中的Cloud Volumes ONTAP。</block>
  <block id="65c42edcb28a34e276f92dd9b2172613" category="list-text">透過支援自動資料分層、內聯資料壓縮、重複資料刪除和壓縮，提高了ONTAP系統上的資料儲存效率。</block>
  <block id="f0a8a62c8d7ea4d12a7f1c95b40d3cb3" category="list-text">基於工作負載、QoS 控制的儲存。</block>
  <block id="8bd43c9f55116966ac61fd08aa3cd4bf" category="list-text">與公有雲無縫集成，實現資料分層與保護。  ONTAP還提供強大的資料保護功能，使其在任何環境中都脫穎而出：</block>
  <block id="613db5a747bd15eeccbcbedce5bd8888" category="list-text">* NetApp Snapshot 副本。 *使用最少的磁碟空間快速進行時間點資料備份，且不產生額外的效能開銷。</block>
  <block id="8f666d296151faf9c472110831227243" category="list-text">* NetApp SnapMirror。 *將資料的 Snapshot 副本從一個儲存系統鏡像到另一個儲存系統。  ONTAP也支援將資料鏡像到其他實體平台和雲端原生服務。</block>
  <block id="5685b3f13393b751231ff096f77e6747" category="list-text">* NetApp SnapLock。 *透過將不可重寫資料寫入在指定時間內無法覆寫或擦除的特殊捲，可以有效地管理這些資料。</block>
  <block id="dff1063d1e007396b7fb75f266dd48b7" category="list-text">* NetApp SnapVault。 *將來自多個儲存系統的資料備份到中央 Snapshot 副本，作為所有指定係統的備份。</block>
  <block id="779cb4084f09228e9562ca3bedc5555c" category="list-text">* NetAppSyncMirror。 *為實體連接到同一控制器的兩個不同磁碟叢提供即時 RAID 等級資料鏡像。</block>
  <block id="929a0581ca4b2982313e21e51effbc10" category="list-text">* NetApp SnapRestore。 *提供從 Snapshot 副本按需快速恢復備份資料的功能。</block>
  <block id="4e3f9a03501932f914205c4ad0e682ea" category="list-text">* NetApp FlexClone。 *根據 Snapshot 副本提供NetApp磁碟區的完全可讀、可寫入副本的即時配置。</block>
  <block id="774a065cb3548cc61fb0ec3bc1494fbe" category="inline-link">ONTAP 9 文檔中心</block>
  <block id="d06c8b79097ede1a26446d68bec0ca39" category="paragraph">有關ONTAP的更多信息，請參閱<block ref="b961dc88c1ac3ab8c78f9fff5ef05edb" category="inline-link-rx"></block>。</block>
  <block id="c389369b80a8ce8ead607b4c7088682e" category="admonition">NetApp ONTAP可在本機、虛擬化或雲端使用。</block>
  <block id="7fe152f424c1b9adb613191ffd1e7aea" category="paragraph"><block ref="7fe152f424c1b9adb613191ffd1e7aea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a69e0f8303b40f9f4d56038d3d260c9" category="section-title">NetApp AFF/ FAS</block>
  <block id="f4fc33973424c12639f93790b1c6f370" category="paragraph">NetApp提供強大的全快閃 (AFF) 和橫向擴展混合 (FAS) 儲存平台，這些平台具有低延遲效能、整合資料保護和多協定支援等特點。</block>
  <block id="1c17e6d2341ed81f40ea6b64de41e6d7" category="paragraph">這兩個系統均由NetApp ONTAP資料管理軟體提供支持，這是業界最先進的資料管理軟體，可實現簡化、高可用、雲端整合的儲存管理，為您的資料結構需求提供企業級的速度、效率和安全性。</block>
  <block id="992c24be8f66e4259b38ce763c115251" category="paragraph">有關 NETAPP AFF/ FAS平台的更多信息，請按一下<block ref="629508ef5a91b5835f70894f34eed424" category="inline-link-rx"></block>。</block>
  <block id="3a3a5cd068731551120f43f37950768b" category="section-title">ONTAP Select</block>
  <block id="158de41b0c768154e1c26d384097971b" category="paragraph">ONTAP Select是NetApp ONTAP的軟體定義部署，可部署到您環境中的虛擬機器管理程式。它可以安裝在 VMware vSphere 或 KVM 上，並提供基於硬體的ONTAP系統的全部功能和體驗。</block>
  <block id="3f0bbee5abf3eed060d4147cb0d060b9" category="paragraph">有關ONTAP Select的更多信息，請單擊<block ref="7c1424ed7be035c303f12b0763e38ece" category="inline-link-rx"></block>。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="section-title">Cloud Volumes ONTAP</block>
  <block id="9c38b2d834f16a22a033cc493828d911" category="paragraph">NetApp Cloud Volumes ONTAP是NetApp ONTAP的雲端部署版本，可部署在許多公有雲中，包括 Amazon AWS、Microsoft Azure 和 Google Cloud。</block>
  <block id="c7fa0d52c3955385f084d0e67c59f963" category="paragraph">有關Cloud Volumes ONTAP 的更多信息，請單擊<block ref="75c9b0075008bbe40ac851ad7f6dda6a" category="inline-link-rx"></block>。</block>
  <block id="87517df6852cb879fffc1e5811e773eb" category="paragraph">NetApp提供多種產品來協助您協調、管理、保護和遷移有狀態的容器化應用程式及其資料。</block>
  <block id="d8c97b16fc0393403d454727d6719db4" category="paragraph"><block ref="d8c97b16fc0393403d454727d6719db4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d3fb24019e0cc5250fe07af0c12fa7b" category="paragraph">NetApp Trident是一個開源且完全支援的儲存編排器，適用於容器和 Kubernetes 發行版（如 {k8s_distribution_name}）。欲了解更多信息，請訪問Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="ccbb3765ebd50818c2e13a7aba362360" category="paragraph">以下頁麵包含有關已在 {solution_name} 解決方案中針對應用程式和持久性儲存管理進行驗證的NetApp產品的詳細資訊：</block>
  <block id="e71e852dc96d4d0e2da95de923a6f8ff" category="inline-link-macro">NetApp Trident</block>
  <block id="25b90e1180939c55a6c004f0caece01e" category="list-text"><block ref="25b90e1180939c55a6c004f0caece01e" category="inline-link-macro-rx"></block></block>
  <block id="cb857ac0e7804032ead22f167cd7975d" category="paragraph">Trident是一個開源的、完全支援的儲存編排器，適用於容器和 Kubernetes 發行版（如 {k8s_distribution_name}）。  Trident可與整個NetApp儲存產品組合搭配使用，包括NetApp ONTAP和 Element 儲存系統，並且還支援 NFS 和 iSCSI 連線。  Trident允許最終用戶從其NetApp儲存系統配置和管理存儲，而無需儲存管理員的干預，從而加速 DevOps 工作流程。</block>
  <block id="a4957cf974ce20219897bbbf5b131cb8" category="paragraph">管理員可以根據專案需求和儲存系統模型配置多個儲存後端，以實現進階儲存功能，包括壓縮、特定磁碟類型或保證一定效能等級的 QoS 等級。定義完成後，開發人員可以在他們的專案中使用這些後端來建立持久性卷聲明 (PVC) 並根據需要將持久性儲存附加到他們的容器。</block>
  <block id="c1169b92d2702ce17fd2fd00ee52298d" category="paragraph"><block ref="c1169b92d2702ce17fd2fd00ee52298d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1a87a98cf239ab6c40a301d699d36ce" category="paragraph">Trident的開發週期很快，和 Kubernetes 一樣，每年發布四次。</block>
  <block id="2e0b4ead344201a59336e8b95c4c575f" category="paragraph">Trident的最新版本是 2022 年 4 月發布的 22.04。已測試過哪個版本的Trident以及可以找到哪個 Kubernetes 發行版的支援矩陣<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="ed42e52f359216f47260ed1d21ef331c" category="paragraph">從 20.04 版本開始， Trident設定由Trident操作員執行。該操作員使大規模部署變得更容易，並提供額外的支持，包括作為Trident安裝的一部分部署的 pod 的自我修復。</block>
  <block id="4a85fdd5a26454abc330a5ec2a46a326" category="paragraph">隨著 21.01 版本的發布，Helm 圖表可用於簡化Trident Operator 的安裝。</block>
  <block id="c0018d5f0e0d9decd39a8059cc2bc473" category="summary">本頁提供的範例是 Anthos with NetApp的解決方案驗證和用例。</block>
  <block id="d48e549b4fdcc889e0243c53bbb4dda0" category="doc">解決方案驗證和用例</block>
  <block id="fc31dc82d7754f65126c60eab5625947" category="inline-link-macro">使用 Google Cloud Console 安裝應用程式</block>
  <block id="e41ed2ca65cd2c48386be2ec8ef5bdbd" category="paragraph"><block ref="e41ed2ca65cd2c48386be2ec8ef5bdbd" category="inline-link-macro-rx"></block></block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="summary"></block>
  <block id="4bb047f8c530785002e490ef17fa725e" category="doc">在哪裡可以找到更多信息</block>
  <block id="1be465260df7c846768e06c988594a6a" category="paragraph">要了解有關本文檔中描述的信息的更多信息，請查看以下網站：</block>
  <block id="6f4e4d9fbe846fd8bf7decf7dcffbd63" category="list-text">NetApp文檔</block>
  <block id="1497398039e94eb756be9a3cff5649c7" category="inline-link"><block ref="1497398039e94eb756be9a3cff5649c7" category="inline-link-rx"></block></block>
  <block id="f2d3084aa0f70da5e15757ee3292cda7" category="paragraph"><block ref="f2d3084aa0f70da5e15757ee3292cda7" category="inline-link-rx"></block></block>
  <block id="78e584e510e96276ebd784fceafb9bdb" category="list-text">NetApp Trident文檔</block>
  <block id="b74877ef96b7f6ef3d913a0c3ebca5e8" category="inline-link"><block ref="b74877ef96b7f6ef3d913a0c3ebca5e8" category="inline-link-rx"></block></block>
  <block id="086fce5f74cc93b0516aadec33636e09" category="paragraph"><block ref="086fce5f74cc93b0516aadec33636e09" category="inline-link-rx"></block></block>
  <block id="7cfc9495aac39bbaa5defc76b7f4e8db" category="list-text">Anthos Clusters on VMware 文檔</block>
  <block id="3001330ca359a25f2bb0fb3a80b81f98" category="inline-link"><block ref="3001330ca359a25f2bb0fb3a80b81f98" category="inline-link-rx"></block></block>
  <block id="ce31d50048cf83e159c11cdf9571f300" category="paragraph"><block ref="ce31d50048cf83e159c11cdf9571f300" category="inline-link-rx"></block></block>
  <block id="9ee8ef3c59727b8b17070caf87743214" category="list-text">Anthos on Bare Metal 文檔</block>
  <block id="bc10096da41c680de98ecf3f1def7d17" category="inline-link"><block ref="bc10096da41c680de98ecf3f1def7d17" category="inline-link-rx"></block></block>
  <block id="d642746f7d7a37b7cb340d9a62d751a5" category="paragraph"><block ref="d642746f7d7a37b7cb340d9a62d751a5" category="inline-link-rx"></block></block>
  <block id="4666fc2f640685636f115f8b2b6b8ce0" category="list-text">VMware vSphere 文檔</block>
  <block id="9c2eeeb25388391ff52a45ac0567fa73" category="inline-link"><block ref="9c2eeeb25388391ff52a45ac0567fa73" category="inline-link-rx"></block></block>
  <block id="71aa41fc980571d5a324adedae614f9c" category="paragraph"><block ref="71aa41fc980571d5a324adedae614f9c" category="inline-link-rx"></block></block>
  <block id="fdd1d4ba64f526087e6e49e35a884fbd" category="summary">本節專門介紹實際使用者在將此解決方案部署到生產時可能需要執行的自訂，例如部署自訂負載平衡器執行個體。</block>
  <block id="0bc570c518e7c4f356ebceb14fa8372f" category="doc">進階配置選項</block>
  <block id="b432301f7ba469598e6ea2eb86e4859a" category="paragraph">通常，最容易部署的解決方案是最好的，但在某些情況下，需要進行高級自訂才能滿足特定應用程式或解決方案部署到的環境的要求或規格。為此，Red Hat OpenShift 與NetApp解決方案允許以下客製化以滿足這些需求。</block>
  <block id="e9f8a0ceeb83fb28487ef50dc197de0e" category="admonition">在本節中，我們記錄了一些進階設定選項，例如使用第三方負載平衡器或建立用於託管自訂容器映像的私人註冊表，這兩者都是安裝NetApp Trident Protect 的先決條件。</block>
  <block id="02b655f637212514780af2795fd74fc4" category="paragraph">以下頁麵包含有關 Red Hat OpenShift with NetApp解決方案中驗證的進階設定選項的更多資訊：</block>
  <block id="de3b8bd79707b5ac064727a07d81d808" category="summary">Anthos on Bare Metal 的硬體無關功能讓您可以選擇針對您的個人化用例優化的運算平台，同時還提供許多額外的好處。</block>
  <block id="aa69ca65720dd2e4eef99ebfb7816268" category="doc">裸機上的 Anthos</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">好處</block>
  <block id="a5fcf88905522eca0a7500198fc13ea9" category="paragraph">範例包括：</block>
  <block id="b872ec62b57abae84b75461c58e0a0a7" category="list-text">*自備伺服器。 *您可以使用與現有基礎架構相符的伺服器來降低資本支出和管理成本。</block>
  <block id="231a9d200c75839cf9b4ffeecde45821" category="list-text">*自備 Linux 作業系統。 *選擇要部署 Anthos-on-bare-metal 環境的 Linux 作業系統，您可以確保 Anthos 環境能夠完美地融入您現有的基礎架構和管理方案。</block>
  <block id="8f3c025cf8c4fb1a7841163ea4213611" category="list-text">*提高性能並降低成本。 *無需虛擬機器管理程序，Anthos-on-bare-metal 叢集就可以直接存取伺服器硬體資源，包括 GPU 等效能最佳化的硬體設備。</block>
  <block id="5c96e444541cebd597916a4a84177f6b" category="list-text">*提高網路效能並降低延遲。 *由於 Anthos-on-bare-metal 伺服器節點直接連接到您的網絡，而無需虛擬化抽象層，因此可以對它們進行最佳化以實現低延遲和效能。</block>
  <block id="47dee50ad0138b8f5ca70e40e86e6c04" category="section-title">硬體需求</block>
  <block id="a623a8d0366bf079411aa30be45b2d10" category="section-title">運算</block>
  <block id="2c912ca37607e38556f15eebae425241" category="paragraph">Google Cloud 會定期透過其 Anthos Ready 平台合作夥伴計畫請求合作夥伴伺服器平台使用新版本的 Anthos 進行更新驗證。可以找到目前已驗證的伺服器平台和支援的 Anthos 版本的列表<block ref="3b2369e07f297fb9367d6c18ca70e2ac" category="inline-link-rx"></block>。</block>
  <block id="6a655d9810c4c5ea4ab7a5520d43ca6f" category="paragraph">下表包含已由NetApp和NetApp合作夥伴工程師測試的用於驗證 Anthos on 裸機部署的伺服器平台。</block>
  <block id="c0bd7654d5b278e65f21cf4e9153fdb4" category="cell">製造商</block>
  <block id="529a05ca6c1263aab080ec4f20754411" category="cell">製作</block>
  <block id="a559b87068921eec05086ce5485e9784" category="cell">模型</block>
  <block id="7b1d1185b835814de783483f686e9825" category="cell">Cisco</block>
  <block id="21f20abdc637c3f2ef02355079dac15d" category="cell">UCS</block>
  <block id="8746d13b8a20e92a40041de84ef0df6f" category="cell">B200 M5</block>
  <block id="3cd9b23ed31110b2ebcbcc8c9a1dc8c0" category="cell">慧與</block>
  <block id="dcaa84314614529edc3d258cff7f565a" category="cell">Proliant</block>
  <block id="76cca00a6b1e58467cea8165c904fe4f" category="cell">DL360</block>
  <block id="64d354dc5879cf570ce7b4ef676e75bd" category="section-title">作業系統</block>
  <block id="08c2b93847522285403aa57a50c67356" category="paragraph">Anthos-on-bare-metal 節點可以根據客戶的選擇配置幾種不同的 Linux 發行版，以協助搭配他們目前的資料中心基礎架構。</block>
  <block id="c5c8661ff74179fd251af29468f2ee7d" category="paragraph">下表列出了NetApp及其合作夥伴用於驗證解決方案的 Linux 作業系統。</block>
  <block id="b8e7b465df7c5979dc731d06e84ce2cf" category="cell">發布</block>
  <block id="97f1ca2cfbf4529686b9719bf26e07c0" category="cell">Anthos 版本</block>
  <block id="aa1fc3398e84bda331b47203c1e53ad5" category="cell">CentOS</block>
  <block id="09ee2ff894d42056476c4e659964e53d" category="cell">8.4.2105</block>
  <block id="9f281f23fa0eaa9fab3de640f4c4ed29" category="cell">1.14</block>
  <block id="c73bbd3786350b0a8d3577d82afdf489" category="cell">紅帽企業 Linux</block>
  <block id="6762f053abca7510f6648c71492724a7" category="cell">8.4</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="cell">Ubuntu</block>
  <block id="fdd2aab0f0128709917906c63ac4ead9" category="cell">18.04.5 LTS（內核 5.4.0-81-generic）</block>
  <block id="c8d51ff28b5d8ab2f7a2a108c7318d3e" category="cell">20.04.2 LTS</block>
  <block id="26181b11798a17989dc697461dc3e9d0" category="section-title">附加硬體</block>
  <block id="629f0a0ce45378aa8d3f93d405eb19cc" category="paragraph">為了完成 Anthos on Bare Metal 的部署，使其成為經過全面驗證的解決方案， NetApp和我們的合作夥伴工程師已經對用於網路和儲存的其他資料中心元件進行了測試。</block>
  <block id="9e5fa7e53550abb6c768c926e7888df7" category="paragraph">下表包含有關這些附加基礎設施組件的資訊。</block>
  <block id="b763f3ad097c7d9beb9849be170a627a" category="cell">硬體名稱</block>
  <block id="8c692721fdfc559bf4689567aa48fb47" category="cell">關係</block>
  <block id="5cb4ead83aaa15a241ef0e8c36f0678c" category="cell">C9336C-FX2</block>
  <block id="cfaa375bf6c7f9fcc1bc04d4f30c9154" category="cell">NetApp</block>
  <block id="c8984126713ed072b9cb0a44a162be4d" category="cell">AFF</block>
  <block id="969f1705e87aebac2415f45faaf8ef89" category="cell">A250、A220</block>
  <block id="8bb152d8bbc90b878b63c05b6b953334" category="section-title">附加軟體</block>
  <block id="effae9170216f08fb6cb3265a4cae9cc" category="paragraph">下表包括在驗證環境中部署的其他軟體版本的清單。</block>
  <block id="91c8cbe28b4928f6ea19ea8d1894623a" category="cell">軟體名稱</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">版本</block>
  <block id="604081aa29d106416ce93ba7c42a41e3" category="cell">NXOS</block>
  <block id="55e62f54b487de5f2a89d645f80d77b4" category="cell">9.3(5)</block>
  <block id="253b40ae359ba25b56231803430c4873" category="cell">ONTAP</block>
  <block id="60c153e0ec5ee4601950a2256ca730fa" category="cell">9.11.1P4</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="cell">Trident</block>
  <block id="93edfe5491b7772fd10045fef48289e7" category="cell">23.01.0</block>
  <block id="e0f2ed66fa5adfb40b7738ba72a899c9" category="paragraph">在NetApp和我們在 World Wide Technology (WWT) 的合作夥伴團隊執行 Anthos Ready 平台驗證期間，實驗室環境是根據下圖構建的，這使我們能夠測試解決方案中部署的每種伺服器類型、作業系統、網路設備和儲存系統的功能。</block>
  <block id="1126fba791a29eca6a914fb9cc520b2d" category="inline-image-macro">Anthos BareMetal 實體硬體圖</block>
  <block id="79d758c8d244aeaeb6ff675747719e7a" category="paragraph"><block ref="79d758c8d244aeaeb6ff675747719e7a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f95cad6e29b1c5d602bd5bc840867b18" category="inline-image-macro">Anthos BareMetal 邏輯網絡圖</block>
  <block id="07d0a22ea67554590949bb82da51df67" category="paragraph"><block ref="07d0a22ea67554590949bb82da51df67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9401797270b98418222b9be6674161bc" category="admonition">此多作業系統環境展示了與 Anthos-on-bare-metal 解決方案支援的作業系統版本的互通性。我們預計客戶將在其部署中對一個或一個子集的作業系統進行標準化。</block>
  <block id="c7a2b443f8714e7071c1d55a3bd2715f" category="section-title">基礎設施支援資源</block>
  <block id="f8f0e385abfb7fc517b1b9b4e9e8d19e" category="paragraph">在裸機上部署 Anthos 之前，應準備好以下基礎架構：</block>
  <block id="3a6810b280d17ed872c226f7c95dac46" category="list-text">至少有一個提供可從管理網路存取的完整主機名稱解析的 DNS 伺服器。</block>
  <block id="14de5275438fed7bf294f7d1ef6ebfce" category="list-text">至少一個可從管理網路存取的 NTP 伺服器。</block>
  <block id="ab851d2f29c7c89b9bc55851dd1002d2" category="list-text">（可選）內管理網路的出站網路連線。</block>
  <block id="82d4df3a9be244e5548f2913b75e403c" category="admonition">本文檔的影片和演示部分有一個 Anthos on bare metal 部署的演示影片。</block>
  <block id="e66e12138810859d8abf5fa2081fb491" category="summary">如何使用 Google Cloud Console 將應用程式部署到本地 Anthos GKE 叢集。</block>
  <block id="0fedf382c8cab1bb4bd4137b2edd4ddf" category="doc">從 Google Cloud Console Marketplace 部署應用程式</block>
  <block id="0366cc0ad13ff79b1787f5d794b5a6ad" category="paragraph">本節詳細介紹如何使用 Google Cloud Console 將應用程式部署到本機 Anthos GKE 叢集。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">先決條件</block>
  <block id="db974f321885ec32e283b3ba19624bf5" category="list-text">已在本地部署並在 Google Cloud Console 中註冊的 Anthos 集群</block>
  <block id="86baa7935f2da05d24c2736b997d56af" category="list-text">在您的 Anthos 叢集中配置的 MetalLB 負載平衡器</block>
  <block id="0e4a5cc43eded7fb6f9688b4db42749c" category="list-text">具有將應用程式部署到叢集的權限的帳戶</block>
  <block id="0abcad93e8aa42fe77227a82e7bfac88" category="list-text">如果您選擇具有相關費用的應用程序，則需要 Google Cloud 的結算帳戶（可選）</block>
  <block id="241b7771ea8f8a56aa7c79c94ea05b45" category="section-title">部署應用程式</block>
  <block id="7519665b833135b7a83098238355d197" category="paragraph">對於此用例，我們使用 Google Cloud Console 將一個簡單的 WordPress 應用程式部署到我們的一個 Anthos 叢集。此部署使用NetApp ONTAP在預先定義儲存類別中提供的持久性儲存。然後，我們演示了兩種不同的方法來修改應用程式的預設服務，以便 MetalLB 負載平衡器為其提供 IP 位址並將其公開給全世界。</block>
  <block id="0f46ecb3b1113d47388dd5a45b007f77" category="paragraph">若要以這種方式部署應用程序，請完成以下步驟：</block>
  <block id="284e9ebcc65faa3412015e1aef0b212f" category="list-text">驗證您要部署到的叢集是否可以在 Google Cloud Console 中存取。</block>
  <block id="c5ae9e1da0751273beff7dba35e9f3a0" category="inline-image-macro">註冊集群</block>
  <block id="06eb01def20560e62dffdad82c884961" category="paragraph"><block ref="06eb01def20560e62dffdad82c884961" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ffca2e9c9a134c6025fcd79da7b2c759" category="list-text">從左側選單中選擇應用程序，選擇頂部的三個點選項選單，然後選擇從市場部署，這將打開一個新窗口，您可以從中從 Google Cloud 市場中選擇一個應用程式。</block>
  <block id="0684d335d9a7c1f72f6bfcd5a3f89e00" category="inline-image-macro">應用市場</block>
  <block id="8a118a984a2347a1d259edda78f288b6" category="paragraph"><block ref="8a118a984a2347a1d259edda78f288b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1116a3fdba8715414e3ef4e4f99912" category="list-text">搜尋您想要安裝的應用程序，在本例中為 WordPress。</block>
  <block id="822f5bce2ee65cbb4bdffaba2710ba34" category="inline-image-macro">搜尋 WordPress</block>
  <block id="382d0fd2b2048049b2a9d328d41ecf90" category="paragraph"><block ref="382d0fd2b2048049b2a9d328d41ecf90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="510d39751378d8f38e07c02ea0fc6be6" category="list-text">選擇 WordPress 應用程式後，將顯示概覽畫面。點選配置按鈕。</block>
  <block id="10caa5e50634911a226bf4aadc5a0c7a" category="inline-image-macro">WordPress 概覽畫面</block>
  <block id="d452e5b4d46877348253fbd17b831b15" category="paragraph"><block ref="d452e5b4d46877348253fbd17b831b15" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6ef5c869d6fe64bd1b351a45360b963" category="list-text">在下一頁中，您必須選擇要部署到的集群，在我們的例子中是 Demo-Cluster。選擇或建立新的命名空間和應用程式實例名稱，並選擇 WordPress 應用程式及其支援 MariaDB 資料庫所需的儲存類別和持久性磁碟區大小。在這兩種情況下，我們都選擇了ONTAP-NAS-CSI 儲存類別。</block>
  <block id="355246a53a979cfb1041a2b1940f6879" category="inline-image-macro">WordPress 設定</block>
  <block id="cd222714e2565e3e2a033fd9d4009baa" category="paragraph"><block ref="cd222714e2565e3e2a033fd9d4009baa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45d655c70f06a3434e67cbfc80248a9a" category="admonition">不要選擇“啟用公共 IP 存取”。這樣做會建立一個 NodePort 類型的服務，該服務無法從本機 Anthos 部署存取。</block>
  <block id="afab588b2fdc93623ccf8cb877caf4da" category="list-text">點擊“部署”按鈕後，您將看到一個提供應用程式詳細資訊的頁面。您可以刷新此頁面或使用 CLI 登入您的叢集來檢查部署狀態。</block>
  <block id="31e41095bfaa14799239e8d9ba7ad438" category="inline-image-macro">申請詳情</block>
  <block id="6d1aa4cbe2a9c3746c1c2ae010226c39" category="paragraph"><block ref="6d1aa4cbe2a9c3746c1c2ae010226c39" category="inline-image-macro-rx" type="image"></block></block>
  <block id="182bdd798d19f66a7142e53dc7ba7d03" category="list-text">透過執行命令來獲取應用程式命名空間中的 pod 信息，可以使用 CLI 檢查應用程式部署時的狀態：<block ref="f33e7514e1b666008863c58a5b3b8fc3" prefix=" " category="inline-code"></block> 。</block>
  <block id="4fdb8b8bf983b608be34dc4a03f63bae" category="inline-image-macro">Kubectl 取得 Pod</block>
  <block id="c47ad77ef8d5e7ac06ff160614a91d45" category="paragraph"><block ref="c47ad77ef8d5e7ac06ff160614a91d45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e9914dac3fe74f2b341b37fde931ccc8" category="admonition">請注意，此螢幕截圖中有一個部署程式容器處於錯誤狀態。這是正常的。此 pod 是 Google Cloud Console 用來部署應用程式的輔助 pod，它會在其他 pod 開始初始化過程後自行終止。</block>
  <block id="9d8881c161170e208f09b8b2a142a66f" category="list-text">片刻之後，驗證您的應用程式是否正在運行。</block>
  <block id="ce0590d3b5f26b188a077af82f7344a2" category="inline-image-macro">應用程式運行</block>
  <block id="250f1901b1fdb4f892b48474ba7bb72d" category="paragraph"><block ref="250f1901b1fdb4f892b48474ba7bb72d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad3acabe74bca98e10c24bed74bda730" category="section-title">公開應用程式</block>
  <block id="76ce15c259c30934261379d5c782fb7a" category="paragraph">應用程式部署後，您有兩種方法可以為其分配一個全球可達的 IP。</block>
  <block id="636274e5bcac1260da12a33d8dae0b1e" category="section-title">使用 Google Cloud Console</block>
  <block id="affe13ca759d7abbd8dd52510dcccb9d" category="paragraph">您可以使用 Google Cloud Console 公開應用程序，並在瀏覽器中編輯服務的 YAML 輸出以設定可公開存取的 IP。為此，請執行以下步驟：</block>
  <block id="e14de37e4860e0a27178cce381f79223" category="list-text">在 Google Cloud Console 中，點選左側選單中的服務和入口。</block>
  <block id="7888520f99ee2ce14da11b431d5ae318" category="inline-image-macro">服務和入口</block>
  <block id="3385f1a5a399835e028edaed1b8336b7" category="paragraph"><block ref="3385f1a5a399835e028edaed1b8336b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6187f833f4cb9c4f7b8ee4db49498f1b" category="list-text">點選<block ref="038c7925bdf387b6bedcaa4b32ec3a83" prefix=" " category="inline-code"></block>服務。這將打開服務詳情畫面。點擊頂部的“編輯”按鈕。</block>
  <block id="d203ca99d4a0afdab1bcfe540a547944" category="inline-image-macro">編輯服務詳情</block>
  <block id="762e108c80328d3158b90bfbb90c01d8" category="paragraph"><block ref="762e108c80328d3158b90bfbb90c01d8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="668b0ecfd7e72dc665e312c2993930b3" category="list-text">開啟「編輯服務詳細資料」頁面，其中包含該服務的 YAML 資訊。向下滾動直到看到<block ref="084d5d41838f6b2d8b0c1f1176d66d01" prefix=" " category="inline-code"></block>部分和<block ref="3190100143eef75fa97ee36e98fa3f8b" prefix=" " category="inline-code"></block>值，設定為<block ref="8fa769eb2083a1e8b123c7328287e112" prefix=" " category="inline-code"></block>。將此值變更為<block ref="a38b02b14f77fc6ad85cfb7df9d27b2e" prefix=" " category="inline-code"></block>並點選儲存按鈕。</block>
  <block id="d6b6ff61b6af359d37d3635e95073c9d" category="inline-image-macro">類型 ClusterIP 值</block>
  <block id="cefa1e452a48b727092da8faf27e90a9" category="paragraph"><block ref="cefa1e452a48b727092da8faf27e90a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5f9f0194a478fbc7f5f93f46c2953de" category="inline-image-macro">類型負載平衡器值</block>
  <block id="3e5c69b4903e03de38b53bd6f3f048c5" category="paragraph"><block ref="3e5c69b4903e03de38b53bd6f3f048c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e7331da14461f4638eebbff81857db51" category="list-text">當您返回服務詳情頁面時，<block ref="e659b52eba1f0299b2d8ca3483919e72" prefix=" " category="inline-code"></block>現在列出<block ref="a38b02b14f77fc6ad85cfb7df9d27b2e" prefix=" " category="inline-code"></block>和<block ref="918d33b6c8dd822ec40bbef2e2f58f3e" prefix=" " category="inline-code"></block>欄位列出了從 MetalLB 池分配的 IP 位址以及應用程式可存取的連接埠。</block>
  <block id="3ec7f6e26f5dfb369960a71540f97a1f" category="inline-image-macro">服務詳情最終版</block>
  <block id="d522a1fe5fe5cfc008304aa306eeedcc" category="paragraph"><block ref="d522a1fe5fe5cfc008304aa306eeedcc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74e17d078471c59b2bf53ed27db0fb1f" category="section-title">使用 Kubectl 修補服務</block>
  <block id="f022ee3e39dabcf83208cc99a6eb4a8b" category="paragraph">您可以使用 CLI 和<block ref="b40dfaf71508ce779421b1c4dde5f99f" prefix=" " category="inline-code"></block>命令來修改您的部署並設定可公開存取的 IP。為此，請完成以下步驟：</block>
  <block id="7d217d270c695202071f85ac46866514" category="list-text">使用以下命令列出與命名空間中的 Pod 關聯的服務<block ref="3841f6ce7a9f7be216fe99eef26477f6" prefix=" " category="inline-code"></block>命令。</block>
  <block id="fe7c7c8f844859020a7db7a331ade810" category="inline-image-macro">清單服務</block>
  <block id="ef2301caf87a9b05fbe6769ececce103" category="paragraph"><block ref="ef2301caf87a9b05fbe6769ececce103" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6969be1fd50af4592e0d142a1d8d70cd" category="list-text">修改服務類型<block ref="8fa769eb2083a1e8b123c7328287e112" prefix=" " category="inline-code"></block>鍵入<block ref="5c89f521cbb8685d397906bd6ce0efa1" prefix=" " category="inline-code"></block>使用以下命令：</block>
  <block id="ee64374fc07de409e3af533d716265a7" category="paragraph">此新服務類型會自動從 MetalLB 池中指派一個可用的 IP 位址。</block>
  <block id="c2a179dcfc744c6d0e1f8e669f780a31" category="inline-image-macro">將服務修補為 LoadBalancer 類型</block>
  <block id="272ffffe95d28655539f409918b0b8c6" category="paragraph"><block ref="272ffffe95d28655539f409918b0b8c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="515ddbc3d2b92a28024949cdc11effe0" category="section-title">在暴露的外部IP上存取應用程式</block>
  <block id="9f32f710fb943684fe7ac71944e06000" category="paragraph">現在您已經透過可公開存取的 IP 位址公開了應用程序，您可以使用瀏覽器存取您的 WordPress 實例。</block>
  <block id="3922853243ef47d8d33c4ed74259c64a" category="inline-image-macro">瀏覽器中的 WordPress</block>
  <block id="90a9bd14ef0bc228bedd5314bd37a59a" category="paragraph"><block ref="90a9bd14ef0bc228bedd5314bd37a59a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b6757a6af2937cac7096646ee8dedb8" category="summary">F5 BIG-IP 是一種應用交付控制器 (ADC)，它提供廣泛的先進生產級流量管理和安全服務，如 L4-L7 負載平衡、SSL/TLS 卸載、DNS、防火牆等。這些服務大大提高了應用程式的可用性、安全性和效能。</block>
  <block id="abb33c60fb7710d77680621bb6bb0433" category="doc">安裝 F5 BIG-IP 負載平衡器</block>
  <block id="4f3422718812b2a40b70340da35b565c" category="paragraph">F5 BIG-IP 是一種應用交付控制器 (ADC)，它提供廣泛的先進生產級流量管理和安全服務，如 L4-L7 負載平衡、SSL/TLS 卸載、DNS、防火牆等。這些服務大大提高了應用程式的可用性、安全性和效能。</block>
  <block id="81d91349803cba0e1b0d0f84948ff37c" category="paragraph">F5 BIG-IP 可以透過多種方式部署和使用，包括在專用硬體上、在雲端或作為本地虛擬設備。請參閱此處的文件來探索和部署 F5 BIG-IP。</block>
  <block id="402c558f65f9d58557e4d79511d71f01" category="paragraph">F5 BIG-IP 是第一個與 Anthos On-Prem 一起提供的捆綁負載平衡器解決方案，並被用於 Anthos with NetApp解決方案的許多早期 Anthos Ready 合作夥伴驗證中。</block>
  <block id="cb9f661ea2c5b0b25cb936398de81286" category="admonition">F5 BIG-IP 可以採用獨立模式部署，也可以採用叢集模式部署。為了進行此驗證，F5 BIG-IP 以獨立模式部署。但是，出於生產目的， NetApp建議建立一個 BIG-IP 實例集群，以避免單點故障。</block>
  <block id="0d3e8be481c0c23fd0a68da9a9340ef7" category="admonition">F5 BIG-IP 系統可以部署在專用硬體上、雲端或作為本地虛擬設備部署，版本高於 12.x，以便與 F5 CIS 整合。為了本文檔的目的，F5 BIG-IP 系統被驗證為虛擬設備，例如使用 BIG-IP VE 版本。</block>
  <block id="39bc153685f2a0c6d56db4227295a3b0" category="section-title">已驗證版本</block>
  <block id="b662a8c121a377d9111fe64265c8d819" category="paragraph">此解決方案利用在 VMware vSphere 中部署的虛擬設備。根據您的網路環境，F5 Big-IP 虛擬設備的網路可以配置為雙臂或三臂配置。本文檔中的部署基於雙臂配置。關於如何配置虛擬設備以與 Anthos 配合使用的詳細信息，請參閱<block ref="f18a28d0c935319437c4d1b1e33e5728" category="inline-link-rx"></block>。</block>
  <block id="9c62eb7c12e4e6a75fc74fffecb2db09" category="paragraph">NetApp的解決方案工程團隊已在我們的實驗室中驗證了下表中的版本，以便與 Anthos On-Prem 的部署搭配使用：</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">類型</block>
  <block id="37f438df6a6d5ba4c17ef8ca58562f00" category="cell">F5</block>
  <block id="90524e294c6b7accf9b320977f3f5baa" category="cell">BIG-IP虛擬網絡</block>
  <block id="bc75f10c94df92e80198364d879456ab" category="cell">15.0.1-0.0.11</block>
  <block id="c2c889e06ea18c0e72996bc4b43c8115" category="cell">16.1.0-0.0.19</block>
  <block id="7cd8fb6e31cc946c078d2740c76a9899" category="section-title">安裝</block>
  <block id="674751c31a2db2596bf7788e2953b80f" category="paragraph">若要安裝 F5 BIG-IP，請完成以下步驟：</block>
  <block id="ee5cd6f83412e93266bf30ff048db6ff" category="list-text">從 F5 下載虛擬應用程式開放虛擬設備 (OVA) 文件<block ref="cafae381bde5e2381c6df42a3aa937c6" category="inline-link-rx"></block>。</block>
  <block id="fff9995f30a825c5d3e5709e7b78117a" category="admonition">要下載設備，用戶必須在 F5 註冊。他們為 Big-IP Virtual Edition Load Balancer 提供了 30 天的演示許可。  NetApp建議對設備的生產部署使用永久的 10Gbps 許可證。</block>
  <block id="1a104d04970b6b80d8cf31f554404f4d" category="list-text">右鍵點選基礎架構資源池並選擇部署 OVF 範本。將啟動精靈，讓您選擇在步驟 1 中剛下載的 OVA 檔案。按一下“下一步”。</block>
  <block id="fdf7304b13d736c791bc745a330e7309" category="inline-image-macro">部署 Big-IP 設備</block>
  <block id="43eb30dc400849ee6ecfee54a2263cb6" category="paragraph"><block ref="43eb30dc400849ee6ecfee54a2263cb6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6762efea56447c717fea204b2676851" category="list-text">按一下「下一步」繼續執行每個步驟並接受每個螢幕顯示的預設值，直到到達儲存選擇畫面。選擇您想要部署虛擬機器的 VM_Datastore，然後按一下下一步。</block>
  <block id="fbd07b7802c1a124a9359b27b9f46968" category="list-text">精靈顯示的下一個畫面可讓您自訂在環境中使用的虛擬網路。在外部欄位中選擇 VM_Network，在管理欄位中選擇 Management_Network。 Internal 和 HA 用於 F5 Big-IP 設備的高級配置，未配置。這些參數可以保持不變，也可以配置為連接到非基礎設施、分散式連接埠群組。按一下“下一步”。</block>
  <block id="5869793ca55f5fc50960cbd965138c70" category="inline-image-macro">部署 Big_IP 設備，第 2 部分</block>
  <block id="ddc3c0b3a2143a477aef07b46318c67a" category="paragraph"><block ref="ddc3c0b3a2143a477aef07b46318c67a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93353313944577e80d34c3d9491db6ce" category="list-text">查看裝置的摘要畫面，如果所有資訊正確，請按一下「完成」以開始部署。</block>
  <block id="68b984a73f20c874fb80feeaa4621109" category="list-text">虛擬設備部署完成後，右鍵單擊並啟動它。它應該在管理網路上接收 DHCP 位址。該裝置基於 Linux，並且部署了 VMware Tools，因此您可以在 vSphere 用戶端中查看它接收的 DHCP 位址。</block>
  <block id="ca9eda681850d46169f2940362b1548f" category="inline-image-macro">部署 Big-IP Appliance，第 3 部分</block>
  <block id="9a5b6f8184fdc8f5f7c76f324cba19f4" category="paragraph"><block ref="9a5b6f8184fdc8f5f7c76f324cba19f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d92e443c00989a23096c72b760af7de8" category="list-text">開啟 Web 瀏覽器並使用上一個步驟中的 IP 位址連線到裝置。預設登入名稱為 admin/admin，首次登入後，裝置會立即提示您變更管理員密碼。然後它會返回到一個螢幕，您必須使用新的憑證登入。</block>
  <block id="dbe135d0d5ae1eb2c137c81f0ce0bdfb" category="inline-image-macro">Big-IP 配置</block>
  <block id="da270bb20b1f9864719d3ac159d6eec4" category="paragraph"><block ref="da270bb20b1f9864719d3ac159d6eec4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bdb0e3e1ff63b6d5f08545e207448035" category="list-text">第一個畫面提示使用者完成設定實用程式。按一下“下一步”啟動該實用程式。</block>
  <block id="6e7de45031877e6ff00d3069664fbcaf" category="inline-image-macro">Big-IP 配置，第 2 部分</block>
  <block id="325f5c5dc6bcbca0d5b9d52e778d882d" category="paragraph"><block ref="325f5c5dc6bcbca0d5b9d52e778d882d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8523c09995ae3cfb4593cd6c4e09029f" category="list-text">下一個畫面提示啟動設備的許可證。點擊“激活”開始。當下一頁出現提示時，貼上您在註冊下載時收到的 30 天評估許可證金鑰或您購買裝置時獲得的永久許可證。按一下“下一步”。</block>
  <block id="b648434aacde9879c494bb807f510d0a" category="inline-image-macro">Big-IP 配置，第 3 部分</block>
  <block id="719b24bba19ea09a951e19945c14e009" category="paragraph"><block ref="719b24bba19ea09a951e19945c14e009" category="inline-image-macro-rx" type="image"></block></block>
  <block id="38d2bfb14ed98f122ce9d9b9cdb2a127" category="admonition">為了使設備執行激活，管理介面上定義的網路必須能夠存取互聯網。</block>
  <block id="6ba845d7cd0e966d0a2a21209623a5b4" category="list-text">在下一個畫面上，將顯示最終使用者授權協議 (EULA)。如果許可證中的條款可以接受，請按一下「接受」。</block>
  <block id="c14be37e927625fe613c8c559de70df1" category="list-text">下一個畫面將計算經過的時間，以驗證迄今為止所做的配置變更。按一下“繼續”以恢復初始配置。</block>
  <block id="48f2578529c2f8c811567604f610cb5f" category="inline-image-macro">Big-IP 配置，第 4 部分</block>
  <block id="9116d82083927f302dac219ee889c7ce" category="paragraph"><block ref="9116d82083927f302dac219ee889c7ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c3d807fce3ffcb905b00324d2f7e2b9" category="list-text">配置變更視窗關閉，設定公用程式顯示資源配置選單。此視窗列出了目前許可的功能以及虛擬設備和每個正在運行的服務的當前資源分配。</block>
  <block id="bfadbbb449bc1cce93c56d86a1a7df03" category="inline-image-macro">Big-IP 配置，第 5 部分</block>
  <block id="252af3d558bee49b1b5df03703744ce8" category="paragraph"><block ref="252af3d558bee49b1b5df03703744ce8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="117c183bcbd703e6b0520f843e971c9b" category="list-text">點擊左側的平台選單選項可以對平台進行進一步修改。修改包括設定使用 DHCP 設定的管理 IP 位址、設定設備安裝的主機名稱和時區，以及保護設備免受 SSH 存取。</block>
  <block id="c9fd499e062b35d18ef68efd381c6c09" category="inline-image-macro">Big-IP 配置，第 6 部分</block>
  <block id="e54306c0087558150eae746af8563506" category="paragraph"><block ref="e54306c0087558150eae746af8563506" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fad130ca7ff2a3734a8b7547b3ebc404" category="list-text">接下來點擊網頁選單，它使您能夠配置標準網路功能。按一下「下一步」開始標準網路設定精靈。</block>
  <block id="f4e4f5e5f31a0b8312fb2338d9015dd0" category="inline-image-macro">Big-IP 配置，第 7 部分</block>
  <block id="2b1cd29ffb6b93e60c6e30c4d1ecede9" category="paragraph"><block ref="2b1cd29ffb6b93e60c6e30c4d1ecede9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c574654bbbf1cf9927e54a1cf4152c71" category="list-text">精靈的第一頁配置冗餘；保留預設設定並按下一步。下一頁可讓您在負載平衡器上設定內部介面。介面 1.1 對應到 OVF 部署精靈中標記為內部的 VMNIC。</block>
  <block id="19ee7bbff17fca60aeffed9079a87c6b" category="inline-image-macro">Big-IP 配置，第 8 部分</block>
  <block id="24ac884e1d0657922087c4ee456e62c2" category="paragraph"><block ref="24ac884e1d0657922087c4ee456e62c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37f1b31abf7679b5f5e495d8796a48a7" category="admonition">此頁面中用於自 IP 位址、網路遮罩和浮動 IP 位址的空間可以用不可路由的 IP 填充，以用作佔位符。如果您正在部署三臂配置，它們還可以填入已配置為虛擬用戶端分散式連接埠群組的內部網路。必須完成這些操作才能繼續嚮導。</block>
  <block id="93e0638cb95146eb8773223a90aa6d86" category="list-text">下一頁可讓您設定外部網絡，用於將服務對應到 Kubernetes 中部署的 pod。從 VM_Network 範圍中選擇一個靜態 IP、適當的子網路遮罩以及來自相同範圍的浮動 IP。介面 1.2 對應到 OVF 部署精靈中標記為外部的 VMNIC。</block>
  <block id="803c8b846cb5b5c6c8d5a2b0b07f4dba" category="inline-image-macro">Big-IP 配置，第 9 部分</block>
  <block id="cc3690611fbb8d9a7f76eb93de616a5c" category="paragraph"><block ref="cc3690611fbb8d9a7f76eb93de616a5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3966f18c8da763e8d9f315b3e44811e" category="list-text">在下一頁中，如果您在環境中部署多個虛擬設備，則可以設定內部 HA 網路。若要繼續，您必須填寫 Self-IP 位址和網路遮罩字段，並且必須選擇接口 1.3 作為 VLAN 接口，該接口會對應到 OVF 範本精靈定義的 HA 網路。</block>
  <block id="9cd42351da162e75b1a0178bdd0ded20" category="inline-image-macro">Big-IP 配置，第 10 部分</block>
  <block id="b70ff7d233c0f30cfebf886267311050" category="paragraph"><block ref="b70ff7d233c0f30cfebf886267311050" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d469ac29aab926968093104ad6265df" category="list-text">下一頁可讓您設定 NTP 伺服器。然後按一下「下一步」繼續 DNS 設定。 DNS 伺服器和網域搜尋清單應該已經由 DHCP 伺服器填入。點擊“下一步”接受預設設定並繼續。</block>
  <block id="97a60c27b370d45c17075cff06f473a3" category="list-text">對於精靈的剩餘部分，按一下「下一步」繼續完成進階對等設置，其配置超出了本文檔的範圍。然後按一下「完成」退出精靈。</block>
  <block id="0953ce81fac634b21f33efe8dee24c28" category="list-text">為 Anthos 管理員叢集和環境中部署的每個使用者叢集建立單獨的分區。點擊左側選單中的“系統”，導航到“使用者”，然後點擊“分區清單”。</block>
  <block id="ad99125325ea694a08a4db92eabb18a1" category="inline-image-macro">Big-IP 配置，第 11 部分</block>
  <block id="20b3d0d7160e29219d8972e307bf05a7" category="paragraph"><block ref="20b3d0d7160e29219d8972e307bf05a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99a0344c261b0475e6caf01bb585530f" category="list-text">顯示的畫面僅顯示目前的公共分區。點擊右側的創建，創建第一個附加分割區，並命名為<block ref="7b8bd901f7c351d00688bb6fecf79a3c" prefix=" " category="inline-code"></block>。然後按一下重複，並將分割區命名為<block ref="b328b4839c0f0e2bfc22ab6fca60065e" prefix=" " category="inline-code"></block>。再次按一下重複按鈕以命名下一個分割區<block ref="916e48fa5c2bc8c7765c99a8f011dccb" prefix=" " category="inline-code"></block>。最後按一下「完成」以完成精靈。分區清單畫面返回，其中列出了所有分區。</block>
  <block id="938c47fe40c045ae4bc242bf2339ab01" category="inline-image-macro">Big-IP 配置，第 12 部分</block>
  <block id="5a04cbd2b53a64ab71c77e9e71f9bcda" category="paragraph"><block ref="5a04cbd2b53a64ab71c77e9e71f9bcda" category="inline-image-macro-rx" type="image"></block></block>
  <block id="616e4c989df3c842830310568b54cee6" category="section-title">與 Anthos 集成</block>
  <block id="1dc19630e1d9c7f2a85a541796c5ec51" category="paragraph">每個設定檔中都有一個部分，分別針對管理員群集和您選擇部署的每個使用者集群，以配置負載平衡器，以便由 Anthos On Prem 管理。</block>
  <block id="38779167fbee63015f17c4c1b453dd32" category="paragraph">以下腳本是 GKE-Admin 叢集分區配置的範例。需要取消註解和修改的值以粗體顯示如下：</block>
  <block id="bbdfa4f0841eb6d317a11ae76992b8b8" category="summary">本節專門為想要使用NetApp部署客製化 Anthos 的使用者探索負載平衡器選項。</block>
  <block id="288c554e356764c1144e77f0d78f97bf" category="doc">探索負載平衡器選項</block>
  <block id="807a04fd6be3315608f66b00ab708987" category="paragraph">部署在 Anthos 中的應用程式透過部署在 Anthos 本地環境中的負載平衡器提供的服務向全世界公開。</block>
  <block id="b935e49429349d1edf159cd09a0b8ff5" category="paragraph">以下頁麵包含有關 Anthos with NetApp解決方案中驗證的負載平衡器選項的更多資訊：</block>
  <block id="5690bda4f5bf6f785884d9163cb5d7e1" category="list-text"><block ref="5690bda4f5bf6f785884d9163cb5d7e1" category="inline-link-macro-rx"></block></block>
  <block id="a8fba1abc3fbaa027d18daed3f6e170d" category="inline-link-macro">安裝 MetalLB 負載平衡器</block>
  <block id="31001ebd2abf7634579201839add9d16" category="list-text"><block ref="31001ebd2abf7634579201839add9d16" category="inline-link-macro-rx"></block></block>
  <block id="b0215348c4b61c9ef3af7e95c45db79b" category="inline-link-macro">安裝 SeeSaw 負載平衡器</block>
  <block id="418cf15cfefcd62c609f38705f650fe4" category="list-text"><block ref="418cf15cfefcd62c609f38705f650fe4" category="inline-link-macro-rx"></block></block>
  <block id="7eba670f1ea5a6e2fba9cff6b6399064" category="summary">本頁詳細介紹了 MetalLB 負載平衡器的安裝和設定說明。</block>
  <block id="48501496ee9b06b63701de94b6ffc3a5" category="paragraph">本頁列出了 MetalLB 託管負載平衡器的安裝和設定說明。</block>
  <block id="32333b5f74abf17bffedb6e7abeb7b5f" category="section-title">安裝 MetalLB 負載平衡器</block>
  <block id="ccd779a5e754b22c1589256334866c0a" category="paragraph">MetalLB 負載平衡器與 VMware 上的 Anthos Clusters 完全集成，並從 1.11 版本開始作為管理員和使用者叢集設定的一部分執行自動部署。相應的文字區塊<block ref="c6ce65430f0e0c334f6b50da737f2e9b" prefix=" " category="inline-code"></block>您必須修改這些設定檔才能提供負載平衡器資訊。它在您的 Anthos 叢集上自託管，而不需要像其他受支援的負載平衡器解決方案那樣部署外部資源。它還允許您建立一個 IP 池，該 IP 池會在不在雲端提供者上執行的叢集中建立負載平衡器類型的 Kubernetes 服務時自動指派位址。</block>
  <block id="b938ac6243408826bd53c58d2a6a6f1f" category="paragraph">為 Anthos 管理員啟用 MetalLB 負載平衡器時，您必須修改<block ref="d4b71de62fea2275aed3155c187cb766" prefix=" " category="inline-code"></block>存在於<block ref="b58bb01ef49e2b97a31ca0536ef027fd" prefix=" " category="inline-code"></block>文件。您必須修改的唯一值是設定<block ref="0256ba7412d85da2acbcf1930256c21b" prefix=" " category="inline-code"></block>地址，然後設定<block ref="c4b58542f9e0392c2110da5afb7437af" prefix=" " category="inline-code"></block>作為 MetalLB。請參閱以下程式碼片段作為範例：</block>
  <block id="79fdf71abab382ca3fbab93d863f835c" category="paragraph">為 Anthos 使用者叢集啟用 MetalLB 負載平衡器時，每個叢集中有兩個區域<block ref="aba03e96a3a4305fd83dc510e1607415" prefix=" " category="inline-code"></block>您必須更新的文件。首先，以類似於<block ref="b58bb01ef49e2b97a31ca0536ef027fd" prefix=" " category="inline-code"></block>文件，您必須修改<block ref="0256ba7412d85da2acbcf1930256c21b" prefix=" " category="inline-code"></block>，<block ref="4fa041ebf362f3965af3570da03ef0fe" prefix=" " category="inline-code"></block> ， 和<block ref="c4b58542f9e0392c2110da5afb7437af" prefix=" " category="inline-code"></block>中的值<block ref="d4b71de62fea2275aed3155c187cb766" prefix=" " category="inline-code"></block>部分。請參閱以下程式碼片段作為範例：</block>
  <block id="c173f58ae6718fb7dc80d6ddb9b392e5" category="admonition">ingressVIP IP 位址必須存在於稍後設定中指派給 MetalLB 負載平衡器的 IP 位址池中。</block>
  <block id="77960f17a334c28c4bacd9515ac55817" category="paragraph">然後你需要導航到<block ref="0ea77e636e8d12d9ce07b2dab6268822" prefix=" " category="inline-code"></block>小節並修改<block ref="045d68a12437e8212f812d2bf506dbc0" prefix=" " category="inline-code"></block>透過在<block ref="146d8d83713f4abd99cafc739779598c" prefix=" " category="inline-code"></block>多變的。您還必須建立一個 IP 位址池，MetalLB 可以透過為以下位址提供一個範圍來將其指派給 LoadBalancer 類型的服務：<block ref="336f9e008319434aa314ef3c1b8a682f" prefix=" " category="inline-code"></block>多變的。</block>
  <block id="8dfd015968f24ba6c3e2d8386cd40cbe" category="admonition">位址池可以像範例中那樣以範圍的形式提供，將其限制為特定子網路中的多個位址，或者如果整個子網路可用，則可以以 CIDR 表示法的形式提供。</block>
  <block id="ea4a20324a094d5f515252d5669a60ca" category="list-text">當建立 LoadBalancer 類型的 Kubernetes 服務時，MetalLB 會自動為服務指派一個 externalIP，並透過回應 ARP 請求來通告該 IP 位址。</block>
  <block id="13a74472f5a5018f40319d30a728d03e" category="paragraph">NetApp ONTAP是一款功能強大的儲存軟體工具，具有直覺的 GUI、具有自動化整合的 REST API、基於 AI 的預測分析和糾正措施、無中斷硬體升級和跨儲存導入等功能。</block>
  <block id="1e16ebc829d46d68a51d55ac22293b1e" category="list-text">與公有雲無縫集成，實現資料分層與保護。  ONTAP還提供強大的資料保護功能，使其在任何環境中都脫穎而出：</block>
  <block id="f1bcd982a417f561201a3262b52a84d7" category="list-text">* NetApp SnapLock。 *透過將不可重寫的資料寫入在指定時間內無法覆蓋或擦除的特殊卷，可以有效地管理這些資料。</block>
  <block id="96f474208f638efbbd85fac3a46a2ed4" category="paragraph">有關ONTAP的更多信息，請參閱<block ref="eb1214e3900207403ada8715d3d4c764" category="inline-link-rx"></block>。</block>
  <block id="05c10047ab7b3613fff3f97b9c177de4" category="paragraph"><block ref="05c10047ab7b3613fff3f97b9c177de4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="678cbe37bb872d145128736b4650ef68" category="paragraph">NetApp提供強大的全快閃 (AFF) 和橫向擴展混合 (FAS) 儲存平台，這些平台具有低延遲效能、整合資料保護和多協定支援等特點。</block>
  <block id="b321b5ab2c84403c3a4dd82bce8757ab" category="paragraph">這兩種系統均採用NetApp ONTAP資料管理軟體，這是業界最先進的資料管理軟體，具有高可用性、雲端整合、簡化的儲存管理，可提供資料結構所需的企業級速度、效率和安全性。</block>
  <block id="a9b90f3200d3b94ea47e85db3a435816" category="paragraph">有關 NETAPP AFF和FAS平台的更多信息，請單擊<block ref="629508ef5a91b5835f70894f34eed424" category="inline-link-rx"></block>。</block>
  <block id="b008e805d13d953ddb5cbb220d8ef9b6" category="paragraph">ONTAP Select是NetApp ONTAP的軟體定義部署，可部署到您環境中的虛擬機器管理程式。它可以安裝在 VMware vSphere 或 KVM 上，並提供基於硬體的ONTAP系統的全部功能和體驗。</block>
  <block id="f0f4b6de2040d7dc57e7f4f6baee7ec3" category="paragraph">NetApp Cloud Volumes ONTAP是NetApp ONTAP的雲端部署版本，可部署在許多公有雲中，包括：Amazon AWS、Microsoft Azure 和 Google Cloud。</block>
  <block id="957478b81604fc0a340d863f3b89a2da" category="summary">NetApp擁有多個符合我們的Trident Storage Orchestrator 要求的儲存平台，可為部署在 Anthos 上的應用程式設定儲存。</block>
  <block id="77caa49b32b4fc8ce3276158f57f9229" category="doc">NetApp儲存概述</block>
  <block id="4513c9751d66d2e2c06342e8efd125d2" category="paragraph">NetApp擁有多個符合我們的Trident Storage Orchestrator 要求的儲存平台，可為作為容器部署的應用程式配置儲存。</block>
  <block id="205648ecca5c254d12179eaccc5a3309" category="paragraph"><block ref="205648ecca5c254d12179eaccc5a3309" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f772b6350e0abf44f0cfee9e8b1c0ac3" category="list-text">Google Cloud NetApp Volumes (GCP) 和Azure NetApp Files在雲端提供基於檔案的儲存。</block>
  <block id="a59d40ff49aa25bc9e110fac9a9d1bdf" category="list-text">Amazon FSx ONTAP是 AWS 上的完全託管服務，為基於檔案的用例提供儲存。</block>
  <block id="cb050b8fb8c2102a0ab337119eb19f0f" category="admonition">NetApp產品組合中的每個儲存系統都可以簡化資料管理和內部站點與雲端之間的移動，確保您的資料位於應用程式所在的位置。</block>
  <block id="7768400c23564e6141f156e229944614" category="summary">Anthos 將開發和 IT 營運統一在單一平台上，以便在本地和混合雲端基礎架構上一致地建置、部署和管理應用程式。  Anthos 以虛擬或裸機格式將 GKE Kubernetes 叢集直接帶入您的資料中心環境。</block>
  <block id="346f4310b75e0cc51fdf8a1db6149978" category="doc">Anthos 概覽</block>
  <block id="89ef90a5be38c2b656627392eee1a2a9" category="paragraph">Anthos with NetApp是一種經過驗證的最佳實踐混合雲架構，用於以可靠且值得信賴的方式部署本地 Google Kubernetes Engine (GKE) 環境。此NetApp驗證架構參考文件既可作為設計指南，也可作為部署到裸機和虛擬環境的 Anthos with NetApp解決方案的部署驗證。本文檔中所述的架構已過NetApp和 Google Cloud 的主題專家驗證，可提供在企業資料中心環境中執行 Anthos 的優勢。</block>
  <block id="72efb373513d77a08aa5dd7e375a418f" category="section-title">安托斯</block>
  <block id="5b1a0b45a2d6518143a0c9b299e736b4" category="paragraph">Anthos 是一種混合雲 Kubernetes 資料中心解決方案，可讓組織建立和管理現代混合雲基礎架構，同時採用專注於應用程式開發的敏捷工作流程。 Anthos on VMware 是一種基於開源技術的解決方案，在基於 VMware vSphere 的基礎架構中本地運行，可與 Google Cloud 中的 Anthos GKE 連接和互通。採用容器、服務網格和其他轉換技術使組織能夠在本地和基於雲端的環境中體驗一致的應用程式開發週期和可用於生產的工作負載。下圖描述了 Anthos 解決方案以及本地資料中心中的部署如何與雲端中的基礎架構互連。</block>
  <block id="001a38f118eab6df015a51079735d9c9" category="paragraph">有關 Anthos 的更多信息，請參閱 Anthos 網站<block ref="984918f1ee4e70aa6181e0564d0768e7" category="inline-link-rx"></block>。</block>
  <block id="ea2625d89edeb5ba9cb41ca58df54e93" category="paragraph">Anthos 提供以下功能：</block>
  <block id="c10e0a21a04a29dfca9609b3ec4bab76" category="list-text">Anthos 配置管理。自動化混合 Kubernetes 部署的策略和安全性。</block>
  <block id="e8c4d5cbaf3932ffa3fa7a097bff923e" category="list-text">*Anthos 服務網格。 *透過 Istio 驅動的服務網格增強應用程式的可觀察性、安全性和控制力。</block>
  <block id="ed4b514e0a9558c7acbec81ecc5fe0e1" category="list-text">*適用於 Kubernetes 應用程式的 Google Cloud Marketplace。 *可供輕鬆部署的精選容器應用程式目錄。</block>
  <block id="b2f70465e1ea6dcdc0843dc8ed3b7f55" category="list-text">*遷移至 Anthos。 *實體服務和虛擬機器從本地自動遷移到雲端。</block>
  <block id="52bc26b321a0b4cd1f91f7961a0783c8" category="list-text">*Stackdriver。 *  Google 提供的用於記錄和監控雲端實例的管理服務。</block>
  <block id="fb067dfce4b20d2e2c1fda3014dad1ce" category="paragraph"><block ref="fb067dfce4b20d2e2c1fda3014dad1ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4777b2291cea091fd5877d9051ff1a3" category="section-title">Anthos 的部署方法</block>
  <block id="0b7914a951055f790f36ed2e8e90bf01" category="section-title">VMware 上的 Anthos 集群</block>
  <block id="1702288bedca391f972e58fc0561e9ed" category="paragraph">對於大多數最終用戶 Kubernetes 工作負載而言，部署到 VMware vSphere 環境的 Anthos 叢集易於部署、維護和快速擴展。</block>
  <block id="3ff462b8be3eae55940a9720d059b948" category="paragraph">有關使用NetApp部署的 VMware Anthos 叢集的更多信息，請訪問頁面<block ref="462985cd6fc7eed8464102a5c28dbadf" category="inline-link-macro-rx"></block>。</block>
  <block id="45a6d5427a773bd692ba6faf09ae9200" category="paragraph">部署在裸機伺服器上的 Anthos 叢集與硬體無關，並允許您選擇針對個人化用例最佳化的運算平台。</block>
  <block id="e3836069d2d4813b8bc05aa64f38b266" category="paragraph">有關使用NetApp部署的 Anthos on Bare Metal 叢集的更多信息，請訪問<block ref="f3e30699ba84df9264e546fedad66564" category="inline-link-macro-rx"></block>。</block>
  <block id="872c01365a01300e2a8a772cd65e51b1" category="summary">本頁詳細介紹了 SeeSaw 負載平衡器的安裝和設定說明。</block>
  <block id="1ffbf83c6ff924ed568f0f88c922ac88" category="paragraph">本頁列出了 SeeSaw 託管負載平衡器的安裝和設定說明。</block>
  <block id="2498fd03c323b46a1d209aa07977fa55" category="paragraph">Seesaw 是安裝在 VMware Anthos Clusters 環境中（版本 1.6 至 1.10）的預設託管網路負載平衡器。</block>
  <block id="1de0bfc08643a28f36a8fcd5662e17f0" category="section-title">安裝 SeeSaw 負載平衡器</block>
  <block id="7e83a37698e612c5150b6c3a383cf59b" category="paragraph">SeeSaw 負載平衡器與 VMware 上的 Anthos Clusters 完全集成，並作為管理員和使用者叢集設定的一部分執行自動部署。有文字區塊<block ref="c6ce65430f0e0c334f6b50da737f2e9b" prefix=" " category="inline-code"></block>必須修改設定檔以提供負載平衡器信息，然後在叢集部署之前還有一個額外的步驟，使用內建的<block ref="fb87177c7509d5723aa1bbc241ec2f7b" prefix=" " category="inline-code"></block>工具。</block>
  <block id="3d4d180e7186ad7195269636446a1c4c" category="admonition">SeeSaw 負載平衡器可以 HA 或非 HA 模式部署。為了進行此驗證，SeeSaw 負載平衡器以非 HA 模式部署，這是預設值。出於生產目的， NetApp建議在 HA 配置中部署 SeeSaw，以實現容錯和可靠性。</block>
  <block id="613f73d2545e2e4434e09e47400d96a6" category="paragraph">每個設定檔中都有一個部分，分別用於管理員叢集和您選擇部署的每個使用者集群，以配置負載平衡器，以便由 Anthos On-Prem 管理。</block>
  <block id="aa2bdb165616b7814c712fd55ecd1ce8" category="paragraph">以下文字是 GKE-Admin 叢集分區配置的範例。需要取消註解和修改的值以粗體顯示如下：</block>
  <block id="71f92aabf82706f3d2a00af1b3a34f95" category="paragraph">SeeSaw 負載平衡器還具有單獨的靜態<block ref="d218bc0ba36a7fb2d7aea32df7659206" prefix=" " category="inline-code"></block>您必須為每個集群部署提供該檔案。該文件必須位於與<block ref="c6ce65430f0e0c334f6b50da737f2e9b" prefix=" " category="inline-code"></block>部署文件，或必須在上面的部分指定完整路徑。</block>
  <block id="cda0b5b1eab2f931076d0edc39a6920a" category="paragraph">樣本<block ref="1db10b36979626249cbedcd8e8818146" prefix=" " category="inline-code"></block>文件類似以下腳本：</block>
  <block id="b7e1a8e2925f8cb0b4f88b8532edd6d7" category="admonition">該文件提供了負載平衡器向底層叢集提供的網路的網關和網路掩碼，以及為運行負載平衡器而部署的虛擬機器的管理 IP 和主機名稱。</block>
  <block id="d46a5e1e10f8a4a33306d0696cef14f5" category="summary">本參考文件提供了 Anthos with NetApp解決方案的部署驗證，該解決方案已部署在多個資料中心環境中，並經過NetApp和我們的工程合作夥伴的驗證。</block>
  <block id="9d171bf7d3d65afb2e7e56d43b4b9ed5" category="doc">NVA-1165：Anthos 與NetApp的合作</block>
  <block id="dbadbc59fa29afd33e371d5285fde4cf" category="paragraph">Banu Sundhar 和 Suresh Thoppay， NetApp</block>
  <block id="09b5959687a5ebe98c383e8290a7e8ec" category="paragraph">本參考文件提供了NetApp及其工程合作夥伴在多資料中心環境中部署 Anthos with NetApp解決方案時進行的部署驗證。它還詳細介紹了透過使用Trident儲存編排器來管理持久性存儲，實現與NetApp儲存系統的儲存整合。最後，我們探索並記錄了許多解決方案驗證和實際用例。</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="section-title">用例</block>
  <block id="9b3053daf2ec8e22b4a577982f08f107" category="paragraph">Anthos with NetApp解決方案旨在透過以下用例為客戶提供卓越的價值：</block>
  <block id="0d3aabd1c9ad032e07b543d0aff99cb1" category="list-text">使用提供的<block ref="f9d1b8d1854865b695167e2c5829f633" prefix=" " category="inline-code"></block>裸機上的工具或<block ref="fb87177c7509d5723aa1bbc241ec2f7b" prefix=" " category="inline-code"></block>VMware vSphere 上的工具。</block>
  <block id="cbc828fed325d3834b2bf3b1f2b5e639" category="inline-link">庫貝維爾特</block>
  <block id="341508ebeee3f32bbf4f6fee6cb456a0" category="list-text">結合企業容器和虛擬化工作負載的強大功能，Anthos 虛擬部署在 vSphere 或裸機上，<block ref="3149dc0a8051bd1d167afbb1fe9775d9" category="inline-link-rx"></block> 。</block>
  <block id="7abf65c31b8f3f6197b9957f7e0ea40c" category="list-text">實際配置和用例突出顯示了與NetApp儲存和Trident（Kubernetes 的開源儲存編排器）一起使用時的 Anthos 功能。</block>
  <block id="f08561bbd831bfa1923e6acf045ef13a" category="section-title">商業價值</block>
  <block id="ee1ef628edbfb6bb102163064fbd3d8e" category="paragraph">Anthos with NetApp解決方案承認這些挑戰，並提出了一種解決方案，透過在客戶選擇的資料中心環境中實施 Anthos on prem 的全自動部署來幫助解決每個問題。</block>
  <block id="a1f13b9a0674cc0beb81e208dfb68d05" category="section-title">技術概述</block>
  <block id="22acab0d08b6253aa6c7d6be2fd3f4d3" category="paragraph">Anthos with NetApp解決方案由以下主要元件組成：</block>
  <block id="c6e52ea38355d1c4527e874a4c673b5b" category="section-title">Anthos On Prem</block>
  <block id="385c65f480dfcbc7cb530a2c6c807ae9" category="paragraph">Anthos On Prem 是一個完全支援的企業級 Kubernetes 平台，可以部署在 VMware vSphere 虛擬機器管理程式中，也可以部署在您選擇的裸機基礎架構上。</block>
  <block id="81f74b2a02db97d708bd7cbf08d2463a" category="section-title">NetApp儲存系統</block>
  <block id="5534dc7dafa6f321e51a117c53baff02" category="paragraph">NetApp擁有多種非常適合企業資料中心和混合雲端部署的儲存系統。  NetApp產品組合包括NetApp ONTAP、 Cloud Volumes ONTAP、 Google Cloud NetApp Volumes、 Azure NetApp Files和 FSx ONTAP for NetApp ONTAP儲存系統，所有這些產品都可以為容器化應用程式提供持久性儲存。</block>
  <block id="aa4193984de53d2a6d8fcc2d77c09bda" category="paragraph">欲了解更多信息，請訪問NetApp網站<block ref="95da63d781dead5af723667a3f69096a" category="inline-link-rx"></block>。</block>
  <block id="069b087e8e1e69cc928f18a85f683523" category="section-title">NetApp儲存集成</block>
  <block id="0d9d3475cd793588b3ac71ca4ce9696f" category="paragraph">Trident是一個開源且完全支援的容器和 Kubernetes 發行版（包括 Anthos）儲存編排器。</block>
  <block id="aa44798f04a58b33c3699abd02a59c57" category="paragraph">本節專門介紹實際使用者在將此解決方案部署到生產時可能需要執行的自訂，例如建立專用私有映像登錄檔或部署自訂負載平衡器執行個體。</block>
  <block id="382742bb5fff6a719c144a0a01cd17e3" category="section-title">已驗證版本的目前支援矩陣</block>
  <block id="57f64c5c85667657a2c67b472c545e5a" category="paragraph">看<block ref="0c665fc00d0d39d9ca9d157ca926b271" category="inline-link-rx"></block>用於已驗證版本的支援矩陣。</block>
  <block id="21e8ffc6f822b183559b39b43061c1d2" category="summary">NetApp提供了多種產品來幫助我們的客戶在基於容器的環境（如 Anthos）中編排和管理持久性資料。</block>
  <block id="2515fbef39d57544723402c683215c64" category="doc">NetApp儲存整合概述</block>
  <block id="5b9abd64aa4865a31820ebec932e54f2" category="section-title">Anthos Ready 儲存合作夥伴計畫。</block>
  <block id="7a8b9d74335d44fbaaf7f5d5aebf0cfd" category="paragraph">Google Cloud 會透過其 Anthos Ready 儲存合作夥伴計畫定期要求更新合作夥伴儲存與 Anthos 新版本的整合驗證。可以找到目前已驗證的儲存解決方案、CSI 驅動程式、可用功能以及支援的 Anthos 版本的列表<block ref="0ccc93736ba595a77f031ff105798de0" category="inline-link-rx"></block>。</block>
  <block id="a2671785dbaedf79e11966b715bd2597" category="paragraph">NetApp每季都會定期遵守要求，以驗證我們符合Trident CSI 的儲存編排器和帶有 Anthos 版本的ONTAP儲存系統。</block>
  <block id="f30969a97d147237c7c42a7369a86e66" category="paragraph">下表包含NetApp和NetApp合作夥伴工程師在 Anthos Ready 儲存合作夥伴計畫中為驗證NetApp Trident CSI 驅動程式和功能集而測試的 Anthos 版本：</block>
  <block id="02046ad0e82ff27f6e1774aa588fd853" category="cell">部署類型</block>
  <block id="1552eec8291d257c4b855dcfa425d802" category="cell">儲存系統</block>
  <block id="e64d14806cb56de755bd93bd36d8af66" category="cell">Trident版本</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">協定</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="cell">特徵</block>
  <block id="56079badd056a19303cc26e6a4fcc7e0" category="cell">VMware</block>
  <block id="0f07773d1d3bbe9fd494333211f6feaa" category="cell">1.28</block>
  <block id="594e1ec3daa27e540baa061f731f028f" category="cell">ONTAP 9.12.1</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="cell">24.02</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">網路儲存</block>
  <block id="7f7813d8ff1a7fae9bca0ef452fb1346" category="cell">多重寫入器、磁碟區擴展、快照、PVCDataSource</block>
  <block id="62a0282d39568be094470486eaf70c4f" category="cell">儲存區域網絡</block>
  <block id="8c56d327dfefc3dfd3c4c4fbe25a8bd1" category="cell">原始區塊、磁碟區擴展、快照、PVCDataSource</block>
  <block id="0083e57a258edd18b949d3afbf6cfc2a" category="cell">1.15</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="cell">23.04</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="cell">23.01</block>
  <block id="9fe6d7d50b2c6958117a19834e038c82" category="cell">1.13</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="cell">22.10</block>
  <block id="cb9cc8981898224a2fe45ac6ff7d4244" category="cell">1.11</block>
  <block id="74eb178224c5fa701fbcd96998feaafe" category="cell">ONTAP 9.9.1</block>
  <block id="e764fe6b8f8825a307a87cedbef45678" category="cell">22.04</block>
  <block id="e5db66c80967b6fa50a1eede0ce50e2f" category="cell">多重寫入器、磁碟區擴充、快照</block>
  <block id="4c606f506efd3b3bef3499e3342b5933" category="cell">原始區塊、磁碟區擴展、快照</block>
  <block id="e0076fd5294e757abc41b2328ed8c57d" category="cell">元素 12.3</block>
  <block id="a2da3c930443e5d1421caec9ee18a376" category="cell">裸機</block>
  <block id="bdca6efb043178ef172612dd1e173dde" category="cell">1.10</block>
  <block id="2abfff2974f589f7a217325f304e0ec5" category="cell">ONTAP 9.8</block>
  <block id="955ddf0f7e289ee80cdea4b5324b620d" category="cell">22.01</block>
  <block id="84aafd4e962655f32c5bdea750278fba" category="paragraph">NetApp提供了多種產品來幫助您在基於容器的環境（如 Anthos）中編排和管理持久性資料。</block>
  <block id="822a22bf8b93f7025f7320ca5a771bd4" category="paragraph">NetApp Trident是一個開源的、完全支援的儲存編排器，適用於容器和 Kubernetes 發行版（包括 Anthos）。欲了解更多信息，請訪問Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="ea3f2894c4df21a157c45dcbcf989bda" category="paragraph">以下頁麵包含有關NetApp產品的更多信息，這些產品已在 Anthos with NetApp解決方案中經過應用程式和持久性儲存管理驗證。</block>
  <block id="8e0bd613649f232fe1f718134898ea21" category="summary">要實現Trident與NetApp ONTAP儲存系統的集成，您必須建立一個能夠與儲存系統通訊的後端。</block>
  <block id="60423d24e49c8db4836be0abd09fb78d" category="doc">NetApp ONTAP iSCSI 設定</block>
  <block id="3ca99f0e09d3b1ea097a113dd72c9317" category="list-text">下載的安裝檔案中提供了範例後端文件<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block>資料夾層次結構。對於服務 iSCSI 的NetApp ONTAP系統，複製<block ref="684351d8ace6c8daa15d6a5ec881647e" prefix=" " category="inline-code"></block>文件到您的工作目錄並編輯該文件。</block>
  <block id="fa346018b8222fdc195d0b73016cf5a0" category="list-text">編輯此文件中的 managementLIF、dataLIF、svm、使用者名稱和密碼值。</block>
  <block id="38ace6c607c7db13cd4cc319f9b0225b" category="list-text">有了這個後端文件，運行以下命令來創建您的第一個後端。</block>
  <block id="d8f188eff4c16fa87dd87f51db847f73" category="list-text">建立後端後，接下來必須建立儲存類別。與後端一樣，有一個範例儲存類別文件，可以根據 sample-inputs 資料夾中提供的環境進行編輯。將其複製到工作目錄並進行必要的編輯以反映已建立的後端。</block>
  <block id="eb22c0d536e50f388da6dfd91ba4c0b6" category="list-text">對此文件唯一需要做的編輯是定義<block ref="55b56fb238360663afa6230ad82e74a0" prefix=" " category="inline-code"></block>將值設定為新建立的後端的儲存驅動程式的名稱。還要注意名稱欄位值，該值必須在後續步驟中引用。</block>
  <block id="da0289d58f35e36d18325d6e8038b226" category="admonition">有一個可選字段稱為<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>這是在這個文件中定義的。在 iSCSI 後端，可以將此值設定為特定的 Linux 檔案系統類型（XFS、ext4 等），也可以將其刪除以允許工作節點作業系統決定使用哪個檔案系統。</block>
  <block id="00d32067724b7191cb5b0ffaf99cc3fe" category="list-text">運行<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>命令來建立儲存類別。</block>
  <block id="71cb54ab06aa16af27a0ec2157972648" category="list-text">建立儲存類別後，您必須建立第一個持久化磁碟區宣告 (PVC)。有一個範例<block ref="a46b72c0e3ff39640d78567a663da1aa" prefix=" " category="inline-code"></block>也可用於執行位於 sample-inputs 中的此操作的檔案。</block>
  <block id="afc499f2f95809cedce5c8922067065f" category="list-text">對此文件唯一需要做的編輯是確保<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>字段與剛剛建立的字段相符。  PVC 定義可以根據要設定的工作負載的需要進一步客製化。</block>
  <block id="36a95a56c85c06906ce9ed37f6c88bbe" category="list-text">透過發出<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>命令。創建可能需要一些時間，具體取決於所創建的備份卷的大小，因此您可以在創建完成時觀察該過程。</block>
  <block id="cbaa3aa588b8aa5c85dca443c15a0195" category="doc">NetApp ONTAP NFS 配置</block>
  <block id="89441fb0b16307f49090afa2b479b9fa" category="list-text">下載的安裝檔案中提供了範例後端文件<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block>資料夾層次結構。對於服務 NFS 的NetApp ONTAP系統，複製<block ref="d897e4d05156cbf9998e98200d6190aa" prefix=" " category="inline-code"></block>文件到您的工作目錄並編輯該文件。</block>
  <block id="87f6ff6bf74013e1dfe6df49a1cf1986" category="list-text">編輯此檔案中的 backendName、managementLIF、dataLIF、svm、username 和 password 值。</block>
  <block id="f897eefba2c59919d6493db4825e2db2" category="admonition">最佳做法是將自訂 backendName 值定義為 storageDriverName 和為 NFS 提供服務的 dataLIF 的組合，以便於識別。</block>
  <block id="00d6947fd6a153943286b857dcd0f339" category="admonition">有一個可選字段稱為<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>這是在這個文件中定義的。可以在 NFS 後端刪除此行。</block>
  <block id="38371fce1a5a5624906f4174135ca977" category="summary">Trident是一個完全支援的開源儲存編排器，適用於容器和 Kubernetes 發行版（包括 Anthos）。</block>
  <block id="1fdd8c73a319eed7bf9c10862e3ccde5" category="doc">Trident概述</block>
  <block id="b01daa55b9d9959fd631c89839b1cd32" category="paragraph">Trident是一個完全支援的開源儲存編排器，適用於容器和 Kubernetes 發行版（包括 Anthos）。  Trident可與整個NetApp儲存產品組合搭配使用，包括NetApp ONTAP，並且還支援 NFS 和 iSCSI 連線。  Trident允許最終用戶從其NetApp儲存系統配置和管理存儲，而無需儲存管理員的干預，從而加速 DevOps 工作流程。</block>
  <block id="e16f8b7c3b79f3d80b3d5b5862b4481a" category="paragraph">管理員可以根據專案需求和儲存系統模型配置多個儲存後端，以實現進階儲存功能，包括壓縮、特定磁碟類型和保證一定效能等級的 QoS 等級。定義完成後，開發人員可以在他們的專案中使用這些後端來建立持久性卷聲明 (PVC) 並根據需要將持久性儲存附加到他們的容器。</block>
  <block id="cacc5da01514f9fa700d86e18966b3ef" category="paragraph"><block ref="cacc5da01514f9fa700d86e18966b3ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="783c5d4bcd70f34a1ac53de76b17e00d" category="paragraph">最新版本的Trident的文件可以在<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。已測試過哪個版本的Trident以及可以找到哪個 Kubernetes 發行版的支援矩陣<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="b62bb4786ef52ad76706950add6991dd" category="paragraph">從 20.04 版本開始， Trident設定由Trident操作員執行。該操作員使大規模部署變得更容易，並提供額外的支持，包括作為Trident安裝的一部分部署的 pod 的自我修復。</block>
  <block id="1efa4d2f8950cdd5154a6c130953c9f2" category="paragraph">隨著 22.04 版本的發布，Helm 圖表已可用，以簡化Trident Operator 的安裝。</block>
  <block id="d5ceedf0fbe688f1315aeef68b4bd00d" category="paragraph">有關Trident安裝的詳細信息，請參閱<block ref="df28848dc0c60e349970187bfd75a0df" category="inline-link-rx"></block>。</block>
  <block id="6cfca408e9e3b476e6440302dbe3a550" category="section-title">建立儲存系統後端</block>
  <block id="6d82ca16bfbce249e1f9ea541bff13ff" category="inline-link-macro">創建後端。</block>
  <block id="0ce840bddfd38211a3fa14afcf54b563" category="paragraph">完成Trident Operator 安裝後，您必須為正在使用的特定NetApp儲存平台設定後端。按照下面的連結繼續設定並設定Trident。<block ref="6afa050ddd54f270f14f9071966035ab" category="inline-link-macro-rx"></block></block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">建立儲存類別</block>
  <block id="f1e3764062d0208c91b1cbb929dbe6c4" category="paragraph">建立後端後，您必須建立一個儲存類，Kubernetes 使用者在需要磁碟區時將指定該儲存類別。 Kubernetes 使用者透過使用持久性卷宣告 (PVC) 來配置卷，透過名稱指定儲存類別。按照下面的連結建立儲存類別。<block ref="d71f4f7b9c3f7c9426171d42e12723d2" category="inline-link-macro-rx"></block></block>
  <block id="50cbd0d28725f746b370915ee052232c" category="section-title">動態配置磁碟區</block>
  <block id="72407fd74e9ce26b706ed85bc90bd124" category="inline-link-macro">創建 PVC</block>
  <block id="54fc27fa939861851f69424ace384dc2" category="paragraph">您必須使用儲存類別建立 Kubernetes 持久性磁碟區宣告 (PVC) 物件來動態設定磁碟區。按照下面的連結建立一個 PVC 物件。<block ref="c60059241533eaa052b5302a867dee16" category="inline-link-macro-rx"></block></block>
  <block id="279865aaa331ec925a99c3272eb45478" category="section-title">使用音量</block>
  <block id="fed9c63a200801110024280f08877e16" category="inline-link-macro">將卷掛載到 Pod 中</block>
  <block id="1e2f7a8dd5d4ae913a1fd565f75f47f6" category="paragraph">應用程式可以透過將上述步驟中配置的磁碟區掛載到 pod 中來使用該磁碟區。下面的連結顯示了一個範例。<block ref="089227f27218a48e27ca586faba48d0e" category="inline-link-macro-rx"></block></block>
  <block id="70e2a62f68d21714178b04c1c938d7ea" category="section-title">範例配置</block>
  <block id="5f81609404aa3c8258fda936db387e50" category="inline-link-macro">iSCSI 協定的範例清單，window=_blank</block>
  <block id="0e0e30c744337b798d795bb0f72b0366" category="paragraph"><block ref="0e0e30c744337b798d795bb0f72b0366" category="inline-link-macro-rx"></block></block>
  <block id="d51bcf02e4ee8592abc3f54657dde8dd" category="inline-link-macro">nfs 協定的範例清單，window=_blank</block>
  <block id="dbeac2a6da996e718ff03ec5e51a5cc4" category="paragraph"><block ref="dbeac2a6da996e718ff03ec5e51a5cc4" category="inline-link-macro-rx"></block></block>
  <block id="122aacda8785e42ca8fd7bd6ebce84f8" category="summary">VMware vSphere 是一個虛擬化平台，用於集中管理在 ESXi 虛擬機器管理程式上運行的大量虛擬化伺服器和網路。</block>
  <block id="87f76f310cf20e85a098d49fa77367e5" category="doc">VMware 上的 Anthos 集群</block>
  <block id="305e6830d9a37648b6048edc110fb7e4" category="paragraph">VMware 上的 Anthos 叢集是 Google Kubernetes Engine 的擴展，部署在最終使用者的私人資料中心。組織可以在本地 Kubernetes 叢集中部署旨在在 Google Cloud 容器中運行的相同應用程式。  Anthos on VMware 叢集可以部署到您資料中心現有的 VMware vSphere 環境中，從而節省資本支出並實現更快速的部署和擴展操作。</block>
  <block id="b107e7085d2931bbe4118d8c5eed9643" category="paragraph">Anthos clusters on VMware 的部署包括以下元件：</block>
  <block id="305e92355c5c05eac28d2fbad20eaa5c" category="list-text">*Anthos 管理員工作站。 *部署主機<block ref="fb87177c7509d5723aa1bbc241ec2f7b" prefix=" " category="inline-code"></block>和<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>可以運行命令來部署並與 Anthos 部署進行互動。</block>
  <block id="3cd74a54f5924b896bf9cb97397e8b35" category="list-text">*管理員集群。 *在 VMware 上設定 Anthos 叢集時部署的初始叢集。此叢集管理所有下屬使用者叢集操作，包括部署、擴充和升級。</block>
  <block id="11b774f9c0d1531100a341b6da7d98fa" category="list-text">*用戶集群。 *每個用戶集群都部署有自己的負載平衡器實例或分區，使其可以作為單一用戶或群組的獨立 Kubernetes 集群，從而幫助實現完全多租戶。</block>
  <block id="b4dfd3f706cb0162d524cf7c36093e7c" category="paragraph">下圖是 Anthos-clusters-on-VMware 部署的描述。</block>
  <block id="e0a89487b2139b200583e1bb08a45a74" category="paragraph"><block ref="e0a89487b2139b200583e1bb08a45a74" category="inline-image-macro-rx" type="image"></block></block>
  <block id="348ed6380fe1c4753877d1f13d95d39a" category="paragraph">Anthos clusters on VMware 有以下優點：</block>
  <block id="cf97925041bebbd35543bc4fc24fa499" category="list-text">*高級多租戶。 *可以為每個最終使用者分配自己的使用者集群，並部署其自己的開發環境所需的虛擬資源。</block>
  <block id="f34111b15d3f3387462dd512dde1392f" category="list-text">*節省成本*最終用戶可以透過將多個使用者叢集部署到同一實體環境並利用自己的實體資源進行應用程式部署（而不是在其 Google Cloud 環境或大型裸機叢集上配置資源）來實現顯著的成本節省。</block>
  <block id="a6c34625dcf8367e84732b5219f81cb7" category="list-text">*開發然後發布。 *在應用程式開發過程中可以使用內部部署，這樣可以在雲端公開發布應用程式之前，在本地資料中心的隱私環境中測試應用程式。</block>
  <block id="844236b21d302f8c93eda00636abfff8" category="list-text">*安全要求*對安全性有較高要求或敏感資料集無法儲存在公有雲中的客戶可以從其自己的資料中心的安全環境中運行其應用程序，從而滿足組織要求。</block>
  <block id="8887a9a417a1629326acdb917d224337" category="section-title">VMware vSphere</block>
  <block id="68bc8529d7c57946fe13e6b3399ee287" category="inline-link">VMware vSphere 網站</block>
  <block id="80888e73d00a224bebfc22e8e4539b6d" category="paragraph">有關 VMware vSphere 的更多信息，請參見<block ref="8e822bbeb5824c0a05189bf9ff98da5c" category="inline-link-rx"></block>。</block>
  <block id="cb4d59b9004b7c584811a3d656f78bc5" category="paragraph">VMware vSphere 提供以下功能：</block>
  <block id="a542faac65568ba146d392d835d7fb33" category="list-text">VMware vCenter 伺服器。  VMware vCenter Server 透過單一控制台統一管理所有主機和虛擬機，並彙總叢集、主機和虛擬機的效能監控。</block>
  <block id="f89d1a459fed3d81a3b4a7360d0e85fc" category="list-text">VMware vSphere vMotion。  VMware vCenter 可讓您根據請求以無中斷的方式在叢集中的節點之間熱遷移虛擬機器。</block>
  <block id="4418ae814387892bd88d45091a182234" category="list-text">vSphere 高可用性。為了避免主機發生故障時造成中斷，VMware vSphere 允許對主機進行叢集化和配置以實現高可用性。因主機故障而中斷的虛擬機器將在叢集中的其他主機上短暫重新啟動，從而恢復服務。</block>
  <block id="46b35ead34118cb2c50327c71e4aa640" category="list-text">分散式資源調度程序 (DRS)。可以設定 VMware vSphere 叢集來平衡其託管的虛擬機器的資源需求。存在資源爭用的虛擬機器可以熱遷移到叢集中的其他節點，以確保有足夠的資源可用。</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="section-title">作業系統</block>
  <block id="ab7854373386a8b1e9ba4f90bfee6e0a" category="paragraph">VMware 上的 Anthos 叢集可以根據客戶的選擇部署到 vSphere 7 和 8 環境中，以協助匹配其目前的資料中心基礎架構。</block>
  <block id="e7a811d106a4076d6c6992a7b97734a0" category="paragraph">下表列出了NetApp及其合作夥伴用於驗證解決方案的 vSphere 版本。</block>
  <block id="0c008dad767075dab996c133e44d5d2f" category="cell">資料中心</block>
  <block id="33fe6d8f3148d10c2ff7ce3ff095dd41" category="cell">8.0.1</block>
  <block id="89f7e5d7117ac9eb1ece116273f5f012" category="paragraph">為了完成 Anthos 與NetApp的部署，使其成為經過全面驗證的解決方案， NetApp和我們的合作夥伴工程師已經對用於網路和儲存的其他資料中心元件進行了測試。</block>
  <block id="b2311a2cf7a04db2bfe860c3fa17635c" category="cell">硬體組件</block>
  <block id="fe02a8fc8838381700e175498b8e1db0" category="cell">Mellanox</block>
  <block id="7b42b4827c459034b51ee8ce9f497ca3" category="cell">交換器（資料網路）</block>
  <block id="d5cbf018e46e897c3774dc4576d35dbe" category="cell">交換器（管理網路）</block>
  <block id="4c6ba3c2ecfdab7b2b5151a4715c51c0" category="cell">AFF儲存系統</block>
  <block id="dd4a9a41d8672c9659041812469e1df2" category="paragraph">下表包括在驗證環境中部署的軟體版本清單。</block>
  <block id="da0d53141f6343167596fe8598964773" category="cell">軟體名稱</block>
  <block id="eba1f3287bdc33dfa25c084b5e15a4c5" category="cell">9.12.1</block>
  <block id="50ce33a86e6915635518e9752cf0a12f" category="cell">24.02.0</block>
  <block id="a6eee2bc9df13513ff08680b88b5140c" category="paragraph">在NetApp執行的 Anthos Ready 平台驗證期間，實驗室環境是根據下圖建構的，這使我們能夠使用各種NetApp ONTAP儲存後端測試多種場景。</block>
  <block id="deea7ba388e7104a54678758ad731de7" category="paragraph"><block ref="deea7ba388e7104a54678758ad731de7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="35b5078b5953437a59ffd4f77c464800" category="section-title">網路基礎設施支援資源</block>
  <block id="13d18f8604b3585f7ab88b87766a8d38" category="paragraph">在部署 Anthos 之前，應具備以下基礎架構：</block>
  <block id="9335616a8b7dc0e6f94fd0c6aa720efe" category="list-text">至少有一個 DNS 伺服器提供完整的主機名稱解析，可從帶內管理網路和 VM 網路存取。</block>
  <block id="905a394004d9055ec4708e53880cac66" category="list-text">至少一個可從帶內管理網路和 VM 網路存取的 NTP 伺服器。</block>
  <block id="92b7a761f185f74bf3bf9d2229c67a28" category="list-text">如果叢集需要動態擴展，則 DHCP 伺服器可按需提供網路位址租約。</block>
  <block id="447cb4a01965e3df01476db3576e0399" category="list-text">（選購）內管理網路和 VM 網路的出站網際網路連線。</block>
  <block id="a181412a291a7d0ae8a71300abf746b8" category="section-title">生產部署的最佳實踐</block>
  <block id="0f19aa91cffca51fd061e34dee1e5c79" category="paragraph">本節列出了組織在將此解決方案部署到生產中之前應考慮的幾種最佳實踐。</block>
  <block id="8256d4d5c73a64213343972bedd38f45" category="section-title">將 Anthos 部署到至少包含三個節點的 ESXi 集群</block>
  <block id="0dc619d5fd0af9a7a1c5ddea5b3e05a4" category="paragraph">雖然可以在少於三個節點的 vSphere 叢集中安裝 Anthos 以用於演示或評估目的，但不建議將其用於生產工作負載。雖然兩個節點允許基本的 HA 和容錯功能，但必須修改 Anthos 叢集配置以停用預設主機親和性，且 Google Cloud 不支援這種部署方法。</block>
  <block id="9dc31e1598f94b9476a025632cee3e19" category="section-title">配置虛擬機器和主機關聯性</block>
  <block id="150754dbd257c09eef8557a399e5ebc2" category="paragraph">透過啟用虛擬機器和主機親和性，可以將 Anthos 叢集節點分散在多個虛擬機器管理程式節點上。</block>
  <block id="c23c2371397ad3490af42526283948a4" category="paragraph">親和性或反親和性是一種為虛擬機器和/或主機集定義規則的方法，用於確定虛擬機器是否在同一主機或群組中的主機上一起執行，還是在不同的主機上運行。它透過建立由具有一組相同參數和條件的虛擬機器和/或主機組成的親和性群組應用於虛擬機器。根據親和性群組中的虛擬機器是運行在群組內的同一主機上還是運行在群組內的多個主機上，還是分別運行在不同的主機上，親和性群組的參數可以定義正親和性或負親和性。</block>
  <block id="67243afe565a819d977d538c55049340" category="admonition">Anthos 在每個單獨的<block ref="c6ce65430f0e0c334f6b50da737f2e9b" prefix=" " category="inline-code"></block>檔案會自動建立節點親和性規則，可以根據環境中的 ESXi 主機數量啟用或停用這些規則。</block>
  <block id="77bedaf9f53677fe0de2767932e2bea2" category="summary">閱讀博客，了解有關將ONTAP儲存與NetApp虛擬化解決方案整合的實用指導和最佳實踐。</block>
  <block id="443d1fc79f18c579a33932abbb2d0511" category="doc">閱讀NetApp專家的容器解決方案博客</block>
  <block id="9b3421f2a55c6246b7355a42185c1709" category="paragraph">閱讀博客，了解有關將ONTAP儲存與NetApp容器解決方案整合的實用指導和最佳實踐。</block>
  <block id="fa666c258157b1bf20d32ed720fd552c" category="section-title">OpenShift 部署與集成</block>
  <block id="5d75f5aaeff1717868c1534e23d2ac15" category="inline-link-macro">使用新認證的Trident Operator 簡化 Red Hat OpenShift 上的Trident安裝</block>
  <block id="658f38183b275d6a7dc6d6f85ecd4aec" category="list-text"><block ref="658f38183b275d6a7dc6d6f85ecd4aec" category="inline-link-macro-rx"></block></block>
  <block id="ffda8cbb6134698d32ff5eb9d87ff0d6" category="inline-link-macro">解鎖無縫 iSCSI 儲存整合：iSCSI ROSA 叢集上的 FSxN 指南</block>
  <block id="78e9383c7c5d7be519c9e86b67494581" category="list-text"><block ref="78e9383c7c5d7be519c9e86b67494581" category="inline-link-macro-rx"></block></block>
  <block id="f5c70fb78d7035dbe8369675c9ac9836" category="inline-link-macro">使用託管控制平面的Amazon FSx for NetApp ONTAP與 AWS 上的 Red Hat OpenShift 服務 (ROSA)</block>
  <block id="aa536f5451e07bfafb6934dc651e5caf" category="list-text"><block ref="aa536f5451e07bfafb6934dc651e5caf" category="inline-link-macro-rx"></block></block>
  <block id="ba6fd9874b6697cb1aa44d44e6fee41c" category="inline-link-macro">在 Red Hat OpenShift 上安裝NetApp Trident – 如何解決 Docker 的「toomanyrequests」問題！</block>
  <block id="ce1f05b584a4b8ad928c91ed745ca8b5" category="list-text"><block ref="ce1f05b584a4b8ad928c91ed745ca8b5" category="inline-link-macro-rx"></block></block>
  <block id="57f6f27ab521e19b38b9f505e2a80f19" category="section-title">資料保護和備份</block>
  <block id="064eb0be7def019cd697cd0139a667a1" category="inline-link-macro">使用Trident 25.02 對 OpenShift 虛擬化虛擬機進行崩潰一致的備份和復原作業</block>
  <block id="b3a56474a20cda0629a8e8071f9fc00b" category="list-text"><block ref="b3a56474a20cda0629a8e8071f9fc00b" category="inline-link-macro-rx"></block></block>
  <block id="e198344509e0c390b36395d4132af109" category="inline-link-macro">OpenShift 虛擬化中虛擬機器資料保護的備份和復原選項</block>
  <block id="0629e04dc1aa9dadc6e07088562f0358" category="list-text"><block ref="0629e04dc1aa9dadc6e07088562f0358" category="inline-link-macro-rx"></block></block>
  <block id="9cd99356785dc38a15cde43989f0a3a0" category="section-title">虛擬化和虛擬機器操作</block>
  <block id="f053e24d98d9926e6b297c472dc10fd5" category="inline-link-macro">使用 ROSA 上的 OpenShift 虛擬化和Amazon FSx for NetApp ONTAP即時遷移虛擬機</block>
  <block id="091581891f06d3078a22d9ce0f74ee8f" category="list-text"><block ref="091581891f06d3078a22d9ce0f74ee8f" category="inline-link-macro-rx"></block></block>
  <block id="7a10fbde6c85ea2871a3dde163078594" category="inline-link-macro">適用於 OpenShift 虛擬化虛擬機器的ONTAP ：無中斷磁碟區移動操作由您掌控</block>
  <block id="42d1b195b2673129ae12e838bb7b7a14" category="list-text"><block ref="42d1b195b2673129ae12e838bb7b7a14" category="inline-link-macro-rx"></block></block>
  <block id="31f576f08c7fe191ddeb00ecbb49e8d9" category="section-title">儲存整合和效能</block>
  <block id="6d3b254fcc0ec65e40af8a4609458626" category="inline-link-macro">使用 NVMe/TCP 在 VMware 上為現代容器化應用程式使用ONTAP存儲</block>
  <block id="086448df12463da4ce3f320cbf050a23" category="list-text"><block ref="086448df12463da4ce3f320cbf050a23" category="inline-link-macro-rx"></block></block>
  <block id="6084df8e3d19bdc55b40a7d00057997f" category="inline-link-macro">ONTAP作為 OpenShift 容器平台中整合映像註冊表的後端存儲</block>
  <block id="dae2dffe7f752e2ece3cb1aefce17a4f" category="list-text"><block ref="dae2dffe7f752e2ece3cb1aefce17a4f" category="inline-link-macro-rx"></block></block>
  <block id="da486bad0d4eece3276578e7d93bcd22" category="inline-link-macro">NetApp ONTAP兼作 Red Hat OpenShift 容器平台中的日誌存儲</block>
  <block id="5a555ddb9b7bf1753c0f8011c4375e4a" category="list-text"><block ref="5a555ddb9b7bf1753c0f8011c4375e4a" category="inline-link-macro-rx"></block></block>
  <block id="7311f08c36c8889389509660495254bc" category="section-title">Kubernetes 和 VMware 生態系統</block>
  <block id="ec7f98a3714557d87968dc6a898f7912" category="inline-link-macro">使用 VMware Tanzu 和ONTAP加速您的 Kubernetes 之旅</block>
  <block id="32e124b0349f41e06bf1e03f11950665" category="list-text"><block ref="32e124b0349f41e06bf1e03f11950665" category="inline-link-macro-rx"></block></block>
  <block id="6ffc220bcf68cdea1a7ee60630b3770b" category="inline-link-macro">vSphere 上的 Kubernetes（第 1 部分）</block>
  <block id="718b7fcd61673194858446821c8dea31" category="list-text"><block ref="718b7fcd61673194858446821c8dea31" category="inline-link-macro-rx"></block></block>
  <block id="c6960ae743737cb2431e58eb8f3f4c8c" category="inline-link-macro">vSphere 上的 Kubernetes（第 2 部分）</block>
  <block id="6f01eedbaa404894cc11e49fa3f62506" category="list-text"><block ref="6f01eedbaa404894cc11e49fa3f62506" category="inline-link-macro-rx"></block></block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律聲明</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">法律聲明提供對版權聲明、商標、專利等的存取。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版權</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP、NETAPP 標誌和NetApp商標頁面上列出的標誌是NetApp, Inc. 的商標。其他公司和產品名稱可能是其各自所有者的商標。</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">專利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">NetApp擁有的專利的最新清單可在以下位置找到：</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隱私權政策</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="4a37cfbb226d27fca2db1d9de9dff51e" category="doc">了解有關 Red Hat OpenShift 虛擬化與NetApp儲存整合的其他資源</block>
  <block id="2c991ff927be651e007be2a7337379e2" category="paragraph">存取其他資源，這些資源提供有關在各種平台和技術上支援使用ONTAP部署、管理和最佳化 Red Hat OpenShift Virtualization 的更多資訊。</block>
  <block id="b427c728eaaa53d5c94c13cde0411106" category="list-text">Trident文檔</block>
  <block id="21b11dbf6ab3c6d36a76f280fe8ec75d" category="list-text">Red Hat OpenShift 文檔</block>
  <block id="74201863479cf5c9b89330c920283301" category="inline-link"><block ref="74201863479cf5c9b89330c920283301" category="inline-link-rx"></block></block>
  <block id="3e10ed3875c45f9dc9064324660fc2b1" category="paragraph"><block ref="3e10ed3875c45f9dc9064324660fc2b1" category="inline-link-rx"></block></block>
  <block id="06fd33ae9f869a89e860634ec94b9793" category="list-text">Red Hat OpenStack 平台文檔</block>
  <block id="647d438a62673b6a6c9830682f6bc128" category="inline-link"><block ref="647d438a62673b6a6c9830682f6bc128" category="inline-link-rx"></block></block>
  <block id="705a39bc1a12c50103a847633c3f7493" category="paragraph"><block ref="705a39bc1a12c50103a847633c3f7493" category="inline-link-rx"></block></block>
  <block id="8d79e9650a1f62f89d77743225e203c0" category="list-text">Red Hat 虛擬化文檔</block>
  <block id="a1bcc86cb4d53b458f0fdad36c20a0c0" category="inline-link"><block ref="a1bcc86cb4d53b458f0fdad36c20a0c0" category="inline-link-rx"></block></block>
  <block id="6d6038842b529e3d97aa9a8a9d81d866" category="paragraph"><block ref="6d6038842b529e3d97aa9a8a9d81d866" category="inline-link-rx"></block></block>
  <block id="4c37a5afd480a0042f69d7628cadd57d" category="summary">NetApp協助 Red Hat OpenShift 上 Kubernetes 的高階叢集管理</block>
  <block id="de59be6e44d20d9dd12412571b745c5f" category="doc">應用程式生命週期管理</block>
  <block id="fa19c463235a810b3a93333d6ee51d6c" category="paragraph">要建立一個應用程式並跨一組叢集管理它，</block>
  <block id="920db239cf01c8ded4b7f364194ab540" category="list-text">從側邊欄導航到“管理應用程式”，然後按一下“建立應用程式”。提供您想要建立的應用程式的詳細信息，然後按一下「儲存」。</block>
  <block id="6b41f909eb299f214abfb15580583456" category="inline-image-macro">創建應用程式</block>
  <block id="3f824abd348b35a7218b63150bd10f90" category="paragraph"><block ref="3f824abd348b35a7218b63150bd10f90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bcb3e5b76f189a87ea350550f86de83f" category="list-text">應用程式元件安裝完成後，該應用程式就會出現在清單中。</block>
  <block id="d70fc022d09a33f4044c81cd670a71b6" category="inline-image-macro">應用程式列表</block>
  <block id="10f2eb03b2a15c6897518c6b163e441e" category="paragraph"><block ref="10f2eb03b2a15c6897518c6b163e441e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="672d326704c3be4bebf6c816a48495e7" category="list-text">現在可以從控制台監控和管理該應用程式。</block>
  <block id="d10b633b8bd8d022c66a52d93e0ed6ce" category="doc">集群生命週期管理</block>
  <block id="8b9449bdfc859a900fc4da7c79420145" category="paragraph">若要管理不同的 OpenShift 集群，您可以建立它們或將它們匯入進階集群管理。</block>
  <block id="0ef06ef8df800cf71fb95c66e0e08f1a" category="list-text">首先導航到自動化基礎設施&gt;叢集。</block>
  <block id="0becde0fcfda03aec9c722d042326324" category="list-text">若要建立新的 OpenShift 集群，請完成以下步驟：</block>
  <block id="e056bb6efa17796fc810edad8410280d" category="list-text">建立提供者連接：導航至提供者連接並按一下新增連接，提供與所選提供者類型相對應的所有詳細信息，然後按一下新增。</block>
  <block id="50dfc508091b37338da8357e63e6a405" category="inline-image-macro">新增提供者連接</block>
  <block id="6950e4aa9f589c469d0be8f75780b994" category="paragraph"><block ref="6950e4aa9f589c469d0be8f75780b994" category="inline-image-macro-rx" type="image"></block></block>
  <block id="401b252566122602a82ff66bc7ed3e6c" category="list-text">若要建立新集群，請導航至“集群”，然後按一下“新增集群”&gt;“建立集群”。提供集群和相應提供者的詳細信息，然後按一下「建立」。</block>
  <block id="2984cab36bd51d5446963e671e808f5d" category="inline-image-macro">新增集群</block>
  <block id="23b8ad964837a66064ae1029abbbe9f0" category="paragraph"><block ref="23b8ad964837a66064ae1029abbbe9f0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2da6eeb34cf16de43ab8fa2f939d81c7" category="list-text">叢集建立完成後，出現在叢集清單中，狀態為Ready。</block>
  <block id="e6d9a6b38dd36fd9870260249ba5fc1f" category="list-text">若要匯入現有集群，請完成以下步驟：</block>
  <block id="f52ae06380cfd00cae7839562f550e87" category="list-text">導航至集群並點擊新增集群&gt;匯入現有集群。</block>
  <block id="63b7276dd1b569babc28304e786e2041" category="list-text">輸入叢集名稱，點選儲存匯入並產生程式碼。顯示新增現有叢集的命令。</block>
  <block id="be87809a27ab2944f89ccaebd89b7596" category="list-text">按一下“複製命令”，在要新增到中心叢集的叢集上執行該命令。這將啟動叢集上必要代理的安裝，並且此過程完成後，叢集將以「就緒」狀態出現在叢集清單中。</block>
  <block id="9a618414b83afe67c19abcf935be6dbd" category="inline-image-macro">導入現有集群</block>
  <block id="153d72343e42e12e3684942e2cdee878" category="paragraph"><block ref="153d72343e42e12e3684942e2cdee878" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c812d1382d834648706b3bf1e6848135" category="list-text">建立並匯入多個叢集後，您可以從單一控制台監控和管理它們。</block>
  <block id="86c2cc4630e619e2c08c32f54e844297" category="doc">在多個集群上建立資源</block>
  <block id="bc2397695676d1a63e489d4c80c8cd91" category="paragraph">Kubernetes 的高階叢集管理可讓使用者從控制台同時在一個或多個託管叢集上建立資源。例如，如果您在不同的站點擁有 OpenShift 集群，且這些集群由不同的NetApp ONTAP集群支持，並且想要在兩個站點配置 PVC，則可以單擊頂部欄上的 (+) 號。然後選擇要建立 PVC 的集群，貼上資源 YAML，然後按一下建立。</block>
  <block id="24800112d59462f8ea9ff03f5dd456a7" category="inline-image-macro">創建資源</block>
  <block id="7e9a9cb44c804889afaca956d868ee57" category="paragraph"><block ref="7e9a9cb44c804889afaca956d868ee57" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1630dbfdd4887ce201ea82c71cde3d11" category="doc">為 Kubernetes 部署高階叢集管理</block>
  <block id="fad73d4839dc21dc3d330b3940ed763f" category="paragraph">本節介紹使用NetApp在 Red Hat OpenShift 上對 Kubernetes 進行進階叢集管理。</block>
  <block id="39d08ecbb9add7bd87659df206457a73" category="list-text">用於中心叢集的 Red Hat OpenShift 叢集（高於 4.5 版本）</block>
  <block id="f41043c73a62a435944d8abfb45094cb" category="list-text">用於託管叢集的 Red Hat OpenShift 叢集（高於 4.4.3 版本）</block>
  <block id="d60c66eb778a488709534045787b6a26" category="list-text">叢集管理員存取 Red Hat OpenShift 叢集</block>
  <block id="374185e020d06ceed3f020af518a1c14" category="list-text">Red Hat 訂閱 Kubernetes 高階叢集管理</block>
  <block id="9afcd045ce0197d71ba631e3fbe43095" category="paragraph">高階叢集管理是 OpenShift 叢集的一個附加元件，因此根據中心和管理叢集中使用的功能，對硬體資源有一定的要求和限制。在確定集群大小時需要考慮這些問題。查看文件<block ref="a5d2b81b971715f092f7296621743e22" category="inline-link-rx"></block>了解更多詳情。</block>
  <block id="65a62318377ddbc5fe3f73548dc3d677" category="paragraph">或者，如果中心叢集具有用於託管基礎架構元件的專用節點，並且您只想在這些節點上安裝高階叢集管理資源，則需要相應地向這些節點新增容忍度和選擇器。更多詳細資訊請參閱文檔<block ref="df4d7b25534e8f26e8ab3acc1c646101" category="inline-link-rx"></block>。</block>
  <block id="7c613b296892d4712b9041d3081282f8" category="summary">使用NetApp在 Red Hat OpenShift 上對 Kubernetes 進行高階叢集管理。</block>
  <block id="78e1aefe2bbb2518f1156636e761e479" category="paragraph">若要在 OpenShift 叢集上安裝 Kubernetes 進階叢集管理，請完成下列步驟：</block>
  <block id="b17056cdbd9ec695d4348e1ad799ace4" category="list-text">選擇一個 OpenShift 集群作為中心集群，並使用集群管理員權限登入。</block>
  <block id="bc2ab7a7550cebeb52a08cf830b5ecf6" category="list-text">導覽至 Operators &gt; Operators Hub 並蒐索 Kubernetes 的高階叢集管理。</block>
  <block id="2e5d3941e033e96d5317cc2bbd1da914" category="inline-image-macro">ACM磁磚</block>
  <block id="9cba2871ff28eb39207a2645fc9d6f1f" category="paragraph"><block ref="9cba2871ff28eb39207a2645fc9d6f1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4ab802b80978ba1c5de3922d546bdb7" category="list-text">選擇 Kubernetes 的高階叢集管理，然後按一下安裝。</block>
  <block id="cc5a9dd5971b8369354db684e5dbfe2b" category="inline-image-macro">ACM 磁磚細節</block>
  <block id="550443e3be425fc14c0daef2e72e9df5" category="paragraph"><block ref="550443e3be425fc14c0daef2e72e9df5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c972585d6241c4f2ed2604bcc8706358" category="list-text">在「安裝操作員」畫面上，提供必要的詳細資訊（NetApp建議保留預設參數）並按一下「安裝」。</block>
  <block id="72b342ddabad6a9ec11df82389c40b88" category="inline-image-macro">安裝 ACM Operator 磁貼</block>
  <block id="deb0049462c815b6822399ba0a1deddf" category="paragraph"><block ref="deb0049462c815b6822399ba0a1deddf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11458c333e4903e54ca46f822ba6a3b6" category="list-text">等待操作員安裝完成。</block>
  <block id="64524f91c2fdfcd54b4bbcab35392908" category="inline-image-macro">ACM 操作員安裝正在進行中</block>
  <block id="96c387ac3caa3d3c2803b0d990480051" category="paragraph"><block ref="96c387ac3caa3d3c2803b0d990480051" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7bf3d0678c48be5730f20005e6f88aa1" category="list-text">安裝操作員後，按一下建立 MultiClusterHub。</block>
  <block id="e0d84ec6a5b8f92909a7a3bef11455c1" category="inline-image-macro">ACM 操作員多集群中心</block>
  <block id="efe77302287c455d079da45b8902e93f" category="paragraph"><block ref="efe77302287c455d079da45b8902e93f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="95f29f27e373a9759cf065e1fde23e28" category="list-text">在建立 MultiClusterHub 畫面上，提供詳細資訊後按一下建立。這將啟動多集群集線器的安裝。</block>
  <block id="344f0cb43d1b2e7a719bea808fe7c5bf" category="inline-image-macro">建立多集群中心螢幕</block>
  <block id="a3546564dfb5145dcb91fdeefa484d89" category="paragraph"><block ref="a3546564dfb5145dcb91fdeefa484d89" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a50aa5e8249109d6f4902945e968ad7d" category="list-text">當 open-cluster-management 命名空間中的所有 pod 都轉為 Running 狀態，並且操作員轉為 Succeeded 狀態後，Kubernetes 高階叢集管理就安裝完成了。</block>
  <block id="851548d1ad843a23609f325e8b54e72d" category="inline-image-macro">ACM 操作員已安裝</block>
  <block id="bbf8732a6e771744f256e15b7d613a80" category="paragraph"><block ref="bbf8732a6e771744f256e15b7d613a80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="391dd52c88201d377f1572062e22c43e" category="list-text">完成集線器安裝需要一些時間，完成後，多集群集線器將進入運作狀態。</block>
  <block id="c7aa79f0c31ac15d728ee47c7e6eaee2" category="inline-image-macro">多集群集線器已準備就緒</block>
  <block id="e3f0a1732a09065231e9bf0a4fa10e6e" category="paragraph"><block ref="e3f0a1732a09065231e9bf0a4fa10e6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eef36825efd5d2d40e4f833635cd19da" category="list-text">它在 open-cluster-management 命名空間中建立一條路由。連接到路由中的URL，存取高階叢集管理控制台。</block>
  <block id="f761fad3f1c25e94d5f46ebd9e23a901" category="inline-image-macro">ACM 控制台路由</block>
  <block id="8be16232c92dad9e0dfd70e175da411a" category="paragraph"><block ref="8be16232c92dad9e0dfd70e175da411a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3fc5f6755312b7edeef9542bd55ef639" category="doc">治理與風險</block>
  <block id="9d7264067197bc9ff368288f98750fd6" category="paragraph">此功能可讓您為不同的叢集定義合規策略並確保叢集遵守該策略。您可以設定策略來通知或補救任何偏離或違反規則的行為。</block>
  <block id="87f4e127e0ecf99187b35830ca7e78aa" category="list-text">從側邊欄導覽至「治理和風險」。</block>
  <block id="0ecc505d3375f8bb3bd959aaaf7e710a" category="list-text">若要建立合規性策略，請按一下建立策略，輸入策略標準的詳細信息，然後選擇應遵守此策略的叢集。如果您想自動修正違反此策略的行為，請選取「如果支援則強制執行」複選框，然後按一下「建立」。</block>
  <block id="f6262e5369e2b989638aaa9d4f333d91" category="inline-image-macro">創建合規性策略</block>
  <block id="563c01ec25937c5d155725b44cb310f8" category="paragraph"><block ref="563c01ec25937c5d155725b44cb310f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a1575621f2b12d5216e6d1c95eed2e6" category="list-text">配置所有必要的策略後，可以從進階叢集管理中監控和修復任何策略或叢集違規行為。</block>
  <block id="38c080ff2128a92954fb61942ea497c0" category="inline-image-macro">政策監控</block>
  <block id="e3b35cae2cfe8ce9766339e742dd43de" category="paragraph"><block ref="e3b35cae2cfe8ce9766339e742dd43de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31fd0c2c8d388a4cd2c6459234743476" category="doc">可觀察性</block>
  <block id="e98511d60f9850de86f096614f447322" category="paragraph">Kubernetes 的高階叢集管理提供了一種監控所有叢集中的節點、pod、應用程式和工作負載的方法。</block>
  <block id="36aff44ed429ca86d182dc7ee3dfdbb1" category="list-text">導覽至觀察環境 &gt; 概覽。</block>
  <block id="7a6ccefec75a946583cffdd0a8a47e09" category="inline-image-macro">可觀察性首頁</block>
  <block id="e5e0184c6e68858f80111d781d6db759" category="paragraph"><block ref="e5e0184c6e68858f80111d781d6db759" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c9904a9276a489fc238c999d2ddd633f" category="list-text">所有叢集中的所有 pod 和工作負載都根據各種過濾器進行監控和排序。點擊Pods即可查看對應數據。</block>
  <block id="4a973ae1a908770e354f949d3c0592f8" category="inline-image-macro">觀察 Pod</block>
  <block id="42a8f7ef0e3387f7c0f76f365a7736fa" category="paragraph"><block ref="42a8f7ef0e3387f7c0f76f365a7736fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7cd1c61051d3647bc47d839e0efee222" category="list-text">基於各種資料點對叢集中的所有節點進行監控和分析。點擊節點可以深入了解相應的詳細資訊。</block>
  <block id="8a373f777de729c082b5be2d80b7eca6" category="inline-image-macro">觀察節點</block>
  <block id="de2d0b768057392661b178ea76e594d7" category="paragraph"><block ref="de2d0b768057392661b178ea76e594d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4e7f54a0ebc5cd69209a17181d477e4c" category="list-text">所有叢集都根據不同的叢集資源和參數進行監控和組織。按一下「集群」可查看集群詳細資訊。</block>
  <block id="2ececa2c251a851a85e976daae558c81" category="inline-image-macro">觀察集群</block>
  <block id="acb848430f87ae9ce699ef9e3e380d53" category="paragraph"><block ref="acb848430f87ae9ce699ef9e3e380d53" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb5a90af80107b22fd8d5c8ebe2ed939" category="doc">Kubernetes 的高階叢集管理：Red Hat OpenShift 與NetApp - 概述</block>
  <block id="30c15b5a84f4fb26cd25b38dc787b22d" category="paragraph">隨著容器化應用程式從開發過渡到生產，許多組織需要多個 Red Hat OpenShift 叢集來支援該應用程式的測試和部署。同時，組織通常在 OpenShift 叢集上託管多個應用程式或工作負載。因此，每個組織最終都會管理一組集群，而 OpenShift 管理員必須面對額外的挑戰，即管理和維護跨多個本地資料中心和公有雲的一系列環境中的多個集群。為了因應這些挑戰，Red Hat 推出了針對 Kubernetes 的高階叢集管理。</block>
  <block id="1cf7b9db4d7fe091bd1bbb685e5beea8" category="paragraph">Red Hat Advanced Cluster Management for Kubernetes 讓您能夠執行以下任務：</block>
  <block id="808c579683377aa7bd89b8e4d76ba220" category="list-text">跨資料中心和公有雲建立、匯入和管理多個集群</block>
  <block id="7fe0555145a586e3fb769f86902ccc72" category="list-text">從單一控制台部署和管理多個叢集上的應用程式或工作負載</block>
  <block id="416434625b0f2158d99a4af37f233805" category="list-text">監控和分析不同集群資源的健康和狀態</block>
  <block id="fed6fdd49a1e6adda0ea12a93e74ea2d" category="list-text">監控並強制執行跨多個叢集的安全合規性</block>
  <block id="a7516c278242a08b85090e24cbf67218" category="paragraph">Red Hat Advanced Cluster Management for Kubernetes 作為 Red Hat OpenShift 叢集的附加元件安裝，並使用該叢集作為其所有操作的中央控制器。此集群稱為中心集群，它為使用者公開了一個管理平面以連接到高階集群管理。透過進階叢集管理主控台匯入或建立的所有其他 OpenShift 叢集均由中心叢集管理，並稱為託管叢集。它在託管集群上安裝了一個名為 Klusterlet 的代理，將它們連接到中心集群，並滿足與集群生命週期管理、應用程式生命週期管理、可觀察性和安全合規性相關的不同活動的請求。</block>
  <block id="b1000f23e43dfac19b53c74d7ebe66c8" category="inline-image-macro">ACM 架構</block>
  <block id="06b9b6e6c32b6f413afbdcf2bedf9701" category="paragraph"><block ref="06b9b6e6c32b6f413afbdcf2bedf9701" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a376445fd812a7fa27714e6b11bc6163" category="paragraph">有關詳細信息，請參閱文檔<block ref="50c0dc50e188cf3a7847d9a813fd829e" category="inline-link-rx"></block>。</block>
  <block id="a003986254b5a6c136733113505348da" category="doc">安裝 F5 BIG-IP 負載平衡器</block>
  <block id="048600e045fd4c5afe58ec9d65aa4b19" category="paragraph">F5 BIG-IP 是一種應用交付控制器 (ADC)，它提供廣泛的高階生產級流量管理和安全服務，如 L4-L7 負載平衡、SSL/TLS 卸載、DNS、防火牆等。這些服務大大提高了應用程式的可用性、安全性和效能。</block>
  <block id="5c47e8322efb7f77c0aa515fec29477e" category="paragraph">F5 BIG-IP 可以以多種方式部署和使用，可以在專用硬體上、在雲端或作為本地虛擬設備。請參閱此處的文檔，根據要求探索和部署 F5 BIG-IP。</block>
  <block id="16a275a8b38f9c5211732c331edb7135" category="paragraph">為了將 F5 BIG-IP 服務與 Red Hat OpenShift 有效集成，F5 提供了 BIG-IP 容器入口服務 (CIS)。  CIS 作為控制器容器安裝，用於監控 OpenShift API 中的某些自訂資源定義 (CRD) 並管理 F5 BIG-IP 系統配置。  F5 BIG-IP CIS 可以設定為控制 OpenShift 中的服務類型 LoadBalancers 和 Routes。</block>
  <block id="e3ce824a7aff01576faaac58df9e0b18" category="paragraph">此外，為了自動指派 IP 位址來為 LoadBalancer 類型提供服務，您可以利用 F5 IPAM 控制器。  F5 IPAM 控制器作為控制器 pod 安裝，它使用 ipamLabel 註解監視 LoadBalancer 服務的 OpenShift API，以從預先配置池中分配 IP 位址。</block>
  <block id="3b08b142099d42d5280d7b493288bf63" category="paragraph">本頁列出了 F5 BIG-IP CIS 和 IPAM 控制器的安裝和設定說明。作為先決條件，您必須部署並獲得許可的 F5 BIG-IP 系統。它還必須獲得 SDN 服務的許可，該服務預設包含在 BIG-IP VE 基本許可證中。</block>
  <block id="5fb7b483d0c9fa099945579d826691b8" category="admonition">F5 BIG-IP 可以獨立或叢集模式部署。為了進行此驗證，F5 BIG-IP 以獨立模式部署，但出於生產目的，最好使用 BIG-IP 叢集以避免單點故障。</block>
  <block id="e7e767d7c0e58b16e57d3ab16150db80" category="cell">科技</block>
  <block id="40ddf58fef213ff0d6433ef322edfe2e" category="cell">軟體版本</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="cell">紅帽 OpenShift</block>
  <block id="2454407b9991c6c5f417a2feb8ea7970" category="cell">4.6 EUS，4.7</block>
  <block id="00d0a06cc7c922b3bc62b22524723ff8" category="cell">F5 BIG-IP VE 版本</block>
  <block id="5bd03f916d1e7b0410d0d3b2d12c6366" category="cell">16.1.0</block>
  <block id="c6f7874f49f685ffdf1b5a8aad8875c4" category="cell">F5 容器入口服務</block>
  <block id="21f47a5b35d016c2f0f8f57704079407" category="cell">2.5.1</block>
  <block id="9635118f932e26e24f0ca315d3843379" category="cell">F5 IPAM 控制器</block>
  <block id="5256eb2d6e3cf80e003a290e63843800" category="cell">0.1.4</block>
  <block id="088afeececf092d5a406e0f5022a9638" category="cell">F5 AS3</block>
  <block id="425b0ca2d1d9d5c75555116fcd1614bf" category="cell">3.30.0</block>
  <block id="b9a4064fa117596b59fb18df84df74df" category="inline-link">F5 AS3 GitHub 儲存庫</block>
  <block id="6463cf716c052865ec9f4716ff0b5d3f" category="list-text">安裝 F5 應用服務 3 擴充功能以允許 BIG-IP 系統接受 JSON 中的設定而不是命令。前往<block ref="0d4e47593b830323684cdec40cb60c71" category="inline-link-rx"></block>，並下載最新的RPM檔案。</block>
  <block id="4c0802ebd79a8c6e5ea4aed829f023c9" category="list-text">登入 F5 BIG-IP 系統，導覽至 iApps &gt; Package Management LX 並點選 Import。</block>
  <block id="3536ed517a711f49cfe64071db031cf5" category="list-text">點擊“選擇文件”並選擇下載的 AS3 RPM 文件，按一下“確定”，然後按一下“上傳”。</block>
  <block id="2a90f793207a5a0c028d8ccc45e943fd" category="inline-image-macro">iApps 上傳</block>
  <block id="a946929c181ae9c31d48220aee8272e1" category="paragraph"><block ref="a946929c181ae9c31d48220aee8272e1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="caedd771b59d267eda8f88d329e8784f" category="list-text">確認 AS3 擴充功能已成功安裝。</block>
  <block id="c434efeb83b6dc500ea7893f1ad4236b" category="inline-image-macro">AS3 安裝驗證</block>
  <block id="27251de43d24b764fa00a0531d1b9a13" category="paragraph"><block ref="27251de43d24b764fa00a0531d1b9a13" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97e9e05bfde432cfa7291b1e55a52ba7" category="list-text">接下來配置OpenShift和BIG-IP系統之間通訊所需的資源。首先透過在 BIG-IP 系統上為 OpenShift SDN 建立 VXLAN 隧道介面來在 OpenShift 和 BIG-IP 伺服器之間建立隧道。導航至網路 &gt; 隧道 &gt; 設定文件，按一下創建，然後將父設定檔設定為 vxlan，將泛洪類型設定為多播。輸入設定檔的名稱並按一下“完成”。</block>
  <block id="faaca798da0468a250bf3c3bffc26681" category="inline-image-macro">建立 VXLAN 設定檔</block>
  <block id="155a411b699416d0bc09a5b6ec1570ff" category="paragraph"><block ref="155a411b699416d0bc09a5b6ec1570ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45ae0c96657fdc5a20e83839c2386c1e" category="list-text">導覽至網路 &gt; 隧道 &gt; 隧道列表，按一下創建，然後輸入隧道的名稱和本機 IP 位址。選擇上一個步驟建立的隧道設定文件，然後按一下「完成」。</block>
  <block id="1497a4f92d416d6c80392ec3467ff140" category="inline-image-macro">建立VXLAN隧道</block>
  <block id="762ab9036c7e149843e77e617cc2a3cd" category="paragraph"><block ref="762ab9036c7e149843e77e617cc2a3cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc5e5bc480b39177b8cb8c9c3a2266ae" category="list-text">使用叢集管理員權限登入 Red Hat OpenShift 叢集。</block>
  <block id="986e63a308b4bebd3f531e38fa5a06c7" category="list-text">在 OpenShift 上為 F5 BIG-IP 伺服器建立一個 hostsubnet，將子網路從 OpenShift 叢集擴展到 F5 BIG-IP 伺服器。下載主機子網路 YAML 定義。</block>
  <block id="fd4475e12938f5f51ba3f312b42cdd39" category="list-text">編輯主機子網路檔案並為 OpenShift SDN 新增 BIG-IP VTEP（VXLAN 隧道）IP。</block>
  <block id="2e6d8a8db3c4d4a2227ffa0571be2a86" category="admonition">根據您環境的需求變更 hostIP 和其他詳細資訊。</block>
  <block id="7f9916ee1bc520d892dfbbb1e06e2732" category="list-text">建立 HostSubnet 資源。</block>
  <block id="7a46b2d02d466dda0cc67b215cb80bff" category="list-text">取得為 F5 BIG-IP 伺服器所建立的主機子網路的叢集 IP 子網路範圍。</block>
  <block id="cba83e8459cc1d6774061a2e425ad8bd" category="list-text">在 OpenShift VXLAN 上建立一個自身 IP，其 IP 位於與 F5 BIG-IP 伺服器對應的 OpenShift 主機子網路範圍內。登入 F5 BIG-IP 系統，導覽至網路 &gt; 自有 IP，然後按一下建立。輸入為 F5 BIG-IP 主機子網路所建立的叢集 IP 子網路中的 IP，選擇 VXLAN 隧道，然後輸入其他詳細資料。然後按一下“完成”。</block>
  <block id="5c241806c0dd5ebb7030904151cb78ef" category="inline-image-macro">為 VXLAN 建立 Self IP</block>
  <block id="dc9039d125092b54ecbd649e9e830bd8" category="paragraph"><block ref="dc9039d125092b54ecbd649e9e830bd8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d094b7d82871afb601d2f30d416ba8d" category="list-text">在 F5 BIG-IP 系統中建立一個分區，以便與 CIS 一起設定和使用。導覽至系統 &gt; 使用者 &gt; 分區列表，按一下創建，然後輸入詳細資訊。然後按一下“完成”。</block>
  <block id="4d81871723233ec21ed69ab80e638779" category="inline-image-macro">建立 BIG-IP 分區</block>
  <block id="8f0e9105b8c57961e36f922c2ac3a061" category="paragraph"><block ref="8f0e9105b8c57961e36f922c2ac3a061" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37397397fa66431e2fa681b97126c399" category="admonition">F5 建議不要對 CIS 管理的分區進行手動設定。</block>
  <block id="81e4a49e9dbe0b55256fe5abf1b94fa4" category="list-text">使用來自 OperatorHub 的操作員安裝 F5 BIG-IP CIS。使用 cluster-admin 權限登入 Red Hat OpenShift 集群，並使用 F5 BIG-IP 系統登入憑證建立一個 secret，這是操作員的先決條件。</block>
  <block id="5de4ac005898cabf55523098c40c549b" category="list-text">安裝 F5 CIS CRD。</block>
  <block id="0eddace1b16ed738fe1be181481c71b6" category="list-text">導覽至 Operators &gt; OperatorHub，搜尋關鍵字 F5，然後按一下 F5 Container Ingress Service 磁貼。</block>
  <block id="07543409cb05595e273df71050b9a9c0" category="inline-image-macro">OperatorHub 中的 F5 CIS</block>
  <block id="ccc06b019f840a5718a8d6bf9cb7f748" category="paragraph"><block ref="ccc06b019f840a5718a8d6bf9cb7f748" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c25b2a3d320d6d02584fde4190d05d91" category="list-text">閱讀操作員資訊並點擊“安裝”。</block>
  <block id="60d3353ed1910ad5c7bd352d0c1bea85" category="inline-image-macro">OperatorHub 中的 F5 CIS 資訊圖塊</block>
  <block id="e36eb2a64284b730ddd267d710d01cac" category="paragraph"><block ref="e36eb2a64284b730ddd267d710d01cac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="637a1bc658defc200d903b27828aa8fb" category="list-text">在安裝操作員畫面上，保留所有預設參數，然後按一下安裝。</block>
  <block id="ccf254d7c8b666c9c127ec12fe14804b" category="inline-image-macro">安裝 F5 CIS 操作員</block>
  <block id="cd055069228b323bd015d08bdd31e478" category="paragraph"><block ref="cd055069228b323bd015d08bdd31e478" category="inline-image-macro-rx" type="image"></block></block>
  <block id="636d8318702bc67a1613ceadf7ce9d00" category="list-text">安裝操作員需要一段時間。</block>
  <block id="dffa3077bcff43536afd75bd61b11c0c" category="inline-image-macro">F5 CIS Operator 安裝進度</block>
  <block id="3319e4fbd94793c3bf10b04526e47f34" category="paragraph"><block ref="3319e4fbd94793c3bf10b04526e47f34" category="inline-image-macro-rx" type="image"></block></block>
  <block id="197a0a4cc4a45ec9a62fe2b7335d8dfc" category="list-text">操作員安裝完成後，將顯示「安裝成功」訊息。</block>
  <block id="5bf83e99bfa132430d0b690181334933" category="list-text">導覽至 Operators &gt; Installed Operators，按一下 F5 Container Ingress Service，然後按一下 F5BigIpCtlr 圖塊下的 Create Instance。</block>
  <block id="a5f584f06c59c2cf4a4a4e8b42d495a2" category="inline-image-macro">建立 F5BigIpCtlr</block>
  <block id="42d66aa33e3f7ac13ce059611a6ef0a0" category="paragraph"><block ref="42d66aa33e3f7ac13ce059611a6ef0a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5ce9a4ef68c16a3ab5d0dd555305872" category="list-text">點選 YAML View，更新必要的參數後貼上以下內容。</block>
  <block id="2e2beb899f89156ed06287fe6f78e6cf" category="admonition">更新參數<block ref="9117e80b6a6843f23b631387abeed925" prefix=" " category="inline-code"></block>，` openshift_sdn_name`，<block ref="957c32cdfcd5fb9c99f7a4e3311e7768" prefix=" " category="inline-code"></block>和<block ref="1155b6812ea5125b3144173aaaad6205" prefix=" " category="inline-code"></block>在複製內容之前，請先查看以下設定的值。</block>
  <block id="50a17348dc3f981a95001edcc80a428f" category="list-text">貼上此內容後，按一下「建立」。這會在 kube-system 命名空間中安裝 CIS pod。</block>
  <block id="72003ce6faa67d172e943ddd74fab63b" category="inline-image-macro">驗證 F5 CIS pod</block>
  <block id="566eb0684a6ee134ab0c9a8ac1d77cfd" category="paragraph"><block ref="566eb0684a6ee134ab0c9a8ac1d77cfd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc8632c05e82ccafb395157ccae4f5c3" category="admonition">預設情況下，Red Hat OpenShift 提供了一種透過路由公開服務以實現 L7 負載平衡的方法。內建的 OpenShift 路由器負責宣傳和處理這些路由的流量。但是，您也可以設定 F5 CIS 以透過外部 F5 BIG-IP 系統支援路由，該系統可以作為輔助路由器運行，也可以作為自架 OpenShift 路由器的替代品運行。 CIS 在 BIG-IP 系統中建立一個虛擬伺服器，充當 OpenShift 路由的路由器，而 BIG-IP 負責處理廣告和流量路由。有關啟用此功能的參數的信息，請參閱此處的文檔。請注意，這些參數是在 apps/v1 API 中為 OpenShift Deployment 資源定義的。因此，當將這些與 F5BigIpCtlr 資源 cis.f5.com/v1 API 一起使用時，請將參數名稱中的連字符 (-) 替換為下劃線 (_)。</block>
  <block id="a6e55fc1fe932b26a294a0f2880478aa" category="list-text">傳遞給 CIS 資源所建立的參數包括<block ref="49dcf57b3a065d02c9969c595e32ea50" prefix=" " category="inline-code"></block>和<block ref="5d0d2663dc7f08b0183abaddf17f8307" prefix=" " category="inline-code"></block>。這些參數是啟用 CIS 與 IPAM 控制器整合所必需的。透過建立 F5 IPAM 資源來驗證 CIS 是否已啟用 IPAM 整合。</block>
  <block id="84ac0b78989fa6595723d5541b8ec470" category="list-text">建立 F5 IPAM 控制器所需的服務帳戶、角色和角色綁定。建立一個 YAML 檔案並貼上以下內容。</block>
  <block id="670c1074ae74616731a63f6b9462b94e" category="list-text">創建資源。</block>
  <block id="b7802bea6dc04d06b63232b6301621bb" category="list-text">建立一個 YAML 檔案並貼上下面提供的 F5 IPAM 部署定義。</block>
  <block id="6a1491ddca525bea3293eca6ea8019d0" category="admonition">更新下面的 spec.template.spec.containers[0].args 中的 ip-range 參數以反映與您的設定相對應的 ipamLabels 和 IP 位址範圍。</block>
  <block id="642252b62fe47e95caa77e3b06a7dbaf" category="admonition">ipam標籤<block ref="4795fc86aa645b109548974bcffefe07" prefix="[" category="inline-code"></block>和<block ref="0ce75607b46ab2a9cc08eab9ade2a24d" prefix=" " category="inline-code"></block>在下方的範例中] 需要為 LoadBalancer 類型的服務進行註釋，以便 IPAM 控制器從定義的範圍內偵測並指派 IP 位址。</block>
  <block id="8f253132259909c28624117b3476a672" category="list-text">建立 F5 IPAM 控制器部署。</block>
  <block id="43946dccec13f46420eb559911e4c526" category="list-text">驗證 F5 IPAM 控制器 pod 是否正在運作。</block>
  <block id="1362b3e7985b4f24d6c2ef4438ee1f0e" category="list-text">建立 F5 IPAM 模式。</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">確認</block>
  <block id="32172ccfad6e7060b8f5e091e296f09c" category="list-text">建立 LoadBalancer 類型的服務</block>
  <block id="0847be44e618094bc81c848c7d131399" category="list-text">檢查 IPAM 控制器是否為其指派了外部 IP。</block>
  <block id="0e51a0606ba7833099aa57bd61c62ba6" category="list-text">建立部署並使用建立的 LoadBalancer 服務。</block>
  <block id="5f905cb56a4d1b364cab7fc57f4de4e5" category="list-text">檢查 pod 是否正在運作。</block>
  <block id="51b4d723f0434284233dab97982b185d" category="list-text">檢查BIG-IP系統中是否為OpenShift中LoadBalancer類型的服務建立了對應的虛擬伺服器。導覽至本機流量 &gt; 虛擬伺服器 &gt; 虛擬伺服器清單。</block>
  <block id="91193cea3335c4666b7dc31ca767030c" category="inline-image-macro">驗證對應服務類型 LoadBalancer 的 BIG-IP 虛擬伺服器的創建</block>
  <block id="4d008c8f3e509bf0a00ad422757c0ea3" category="paragraph"><block ref="4d008c8f3e509bf0a00ad422757c0ea3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79a2d2fa50d2b47d02c0e9dbdfadc07f" category="doc">安裝 MetalLB 負載平衡器：Red Hat OpenShift 與NetApp</block>
  <block id="0b2da9b5fe81e13e88c9a05981a95a9e" category="paragraph">本頁列出了 MetalLB 負載平衡器的安裝和設定說明。</block>
  <block id="d719c733d0cd8753c048c8c3a025fd51" category="paragraph">MetalLB 是安裝在 OpenShift 叢集上的自架網路負載平衡器，可在不在雲端供應商上執行的叢集中建立類型負載平衡器的 OpenShift 服務。  MetalLB 共同支撐 LoadBalancer 服務的兩個主要功能是地址分配和對外通告。</block>
  <block id="28a4ce0a0514d0f6a6596fc7a9c5e725" category="section-title">MetalLB 配置選項</block>
  <block id="04c22d763ca95631f9c8789eb2c6e68f" category="paragraph">根據 MetalLB 如何宣布分配給 OpenShift 叢集之外的 LoadBalancer 服務的 IP 位址，它以兩種模式運作：</block>
  <block id="92f98c10e5e0c86bcae2e9cb58b700e3" category="list-text">*第 2 層模式。 *在此模式下，OpenShift 叢集中的一個節點擁有該服務的所有權，並回應該 IP 的 ARP 請求，以使其在 OpenShift 叢集外部可存取。由於只有節點通告 IP，因此有頻寬瓶頸和故障轉移速度慢的限制。有關詳細信息，請參閱文檔<block ref="4a1d14cac7ed68a2326a050e0f1fed80" category="inline-link-macro-rx"></block>。</block>
  <block id="13f78a1c753a58b3786e5664e7b01344" category="list-text">*BGP 模式。 *在此模式下，OpenShift 叢集中的所有節點都會與路由器建立 BGP 對等會話，並通告路由以將流量轉送至服務 IP。實現此目的的先決條件是將 MetalLB 與該網路中的路由器整合。由於BGP中的哈希機制，當服務的IP到節點映射發生變化時，會受到一定的限制。欲了解更多信息，請參閱文檔<block ref="fed7545a9b4a70bb7835cc8b07492cba" category="inline-link-macro-rx"></block>。</block>
  <block id="5fe238de20fea7c5ec86dde0a98c5841" category="admonition">為了本文檔的目的，我們在第 2 層模式下配置 MetalLB。</block>
  <block id="70bd399edc6825961c98dc29c2a49299" category="list-text">下載 MetalLB 資源。</block>
  <block id="d95ae9e4bae10f240e5577110ccbd7e6" category="list-text">編輯文件<block ref="130d214581bb0aa3e8759729c9fbc133" prefix=" " category="inline-code"></block>並刪除<block ref="635a57f17cd40dc65b36973c9e14f9d1" prefix=" " category="inline-code"></block>來自控制器部署和揚聲器 DaemonSet。</block>
  <block id="39bb715a16a6f4c1ab16bc3ad3654f0b" category="paragraph">*要刪除的行：*</block>
  <block id="803519c541b237245faa09039c50dcaa" category="list-text">創建<block ref="48f2018beab0b13a2087fae3aff05306" prefix=" " category="inline-code"></block>命名空間。</block>
  <block id="980aff973ca30f65ec180530f40def06" category="list-text">建立 MetalLB CR。</block>
  <block id="f87be5542b64a7f94a807699fd549479" category="list-text">在配置 MetalLB 揚聲器之前，請授予揚聲器 DaemonSet 提升的權限，以便它可以執行使負載平衡器工作所需的網路配置。</block>
  <block id="53747915d8e79873876b08edb1ce3671" category="list-text">透過建立配置 MetalLB<block ref="a941f8adb5ae079ebc739cb59407fd30" prefix=" " category="inline-code"></block>在<block ref="48f2018beab0b13a2087fae3aff05306" prefix=" " category="inline-code"></block>命名空間。</block>
  <block id="2b1e829362de1a86eeb131cdc4619908" category="list-text">現在，當建立負載平衡器服務時，MetalLB 會為服務指派一個 externalIP，並透過回應 ARP 請求來通告該 IP 位址。</block>
  <block id="234ce2b9b198f2acf2193cbd06120ff2" category="admonition">如果您希望在 BGP 模式下配置 MetalLB，請跳過上面的步驟 6 並按照 MetalLB 文件中的步驟進行操作<block ref="fed7545a9b4a70bb7835cc8b07492cba" category="inline-link-macro-rx"></block>。</block>
  <block id="8b14fb34f5313442bf2fdc4d80edc389" category="summary">本節專門為想要使用NetApp部署客製化 Red Hat OpenShift 的使用者探索負載平衡器選項。</block>
  <block id="87beaa6eff6159cd7270b2a4e71c10a4" category="doc">探索負載平衡器選項：Red Hat OpenShift 與NetApp</block>
  <block id="a802e9436bb9bcbfa2b88bb549e28503" category="paragraph">大多數情況下，Red Hat OpenShift 透過路由讓應用程式可供外界使用。透過為服務提供外部可存取的主機名稱來公開服務。  OpenShift 路由器可以使用定義的路由及其服務標識的端點來向外部用戶端提供這種命名連線。</block>
  <block id="3a06b5232ca55503083719c6af786f3e" category="paragraph">然而在某些情況下，應用程式需要部署和配置客製化的負載平衡器來公開適當的服務。 NetApp Trident Protect 就是一個例子。為了滿足這項需求，我們評估了許多自訂負載平衡器選項。本節介紹它們的安裝和配置。</block>
  <block id="6914d9014ff3e2cb99cabff26b55a0bc" category="paragraph">以下頁麵包含有關 Red Hat OpenShift 與NetApp解決方案中驗證的負載平衡器選項的更多資訊：</block>
  <block id="2b545f7c547a71eaeda9dcb451aea0c5" category="inline-link-macro">MetalLB</block>
  <block id="9adf34e2f63011b66b8b542aa8fcf41f" category="list-text"><block ref="9adf34e2f63011b66b8b542aa8fcf41f" category="inline-link-macro-rx"></block></block>
  <block id="10a93051f49f4080568cecc5ec30cd99" category="inline-link-macro">F5 BIG-IP</block>
  <block id="a8ca51979dec51b759b2c18acba777b3" category="list-text"><block ref="a8ca51979dec51b759b2c18acba777b3" category="inline-link-macro-rx"></block></block>
  <block id="3605e05aa598ff405b5edffc1bf474f1" category="summary">使用NetApp在 Red Hat OpenShift 上設定多租戶</block>
  <block id="2d242bb36ec91b32005f9296ff03a912" category="doc">架構</block>
  <block id="e838df8e9e1316fb79e26214a591ee38" category="paragraph">儘管NetApp ONTAP支援的 Red Hat OpenShift 和Trident預設不提供工作負載之間的隔離，但它們提供了可用於配置多租用戶的廣泛功能。為了更好地理解在由NetApp ONTAP支援的Trident的 Red Hat OpenShift 叢集上設計多租用戶解決方案，讓我們考慮一個具有一組需求的範例並概述圍繞它的配置。</block>
  <block id="730d963d9c66f4a5bdd4979297e1b636" category="paragraph">假設一個組織在 Red Hat OpenShift 叢集上執行兩個工作負載，這是兩個不同團隊正在進行的兩個專案的一部分。這些工作負載的資料駐留在由Trident在NetApp ONTAP NAS 後端動態配置的 PVC 上。該組織需要為這兩個工作負載設計一個多租戶解決方案，並隔離用於這些專案的資源，以確保維護安全性和效能，主要專注於為這些應用程式提供服務的資料。</block>
  <block id="0def896190af33e76b378083e4ded97b" category="paragraph">下圖描述了由NetApp ONTAP支援的具有Trident的 Red Hat OpenShift 叢集上的多租用戶解決方案。</block>
  <block id="743a88dbd6def144e417adba2c0cddbb" category="inline-image-macro">Red Hat OpenShift 叢集上的多租用戶功能，採用由NetApp ONTAP支援的Trident</block>
  <block id="1ae79d7066f79d8c3637683058374e9a" category="paragraph"><block ref="1ae79d7066f79d8c3637683058374e9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c438be737391744e2fed6f73c418638" category="section-title">技術要求</block>
  <block id="ff94444190436ee7694d15be2dde0f29" category="list-text">NetApp ONTAP儲存叢集</block>
  <block id="b645e117fe786bf56128cde2dec3971a" category="list-text">Red Hat OpenShift 叢集</block>
  <block id="0d46ef98dfe52c8d01c0c5ace93d8165" category="section-title">Red Hat OpenShift – 叢集資源</block>
  <block id="72710b926f57dad99b29203c63f4e3fd" category="paragraph">從 Red Hat OpenShift 叢集的角度來看，首先要啟動的頂層資源是專案。 OpenShift 專案可以看作是一個叢集資源，它將整個 OpenShift 叢集劃分為多個虛擬叢集。因此，專案層級的隔離為配置多租戶提供了基礎。</block>
  <block id="20e1834bb9396599a6dcf7d743aa1b36" category="paragraph">接下來是在叢集中配置 RBAC。最佳做法是讓所有開發人員在身分識別提供者 (IdP) 中將單一項目或工作負載配置到單一使用者群組。 Red Hat OpenShift 允許 IdP 整合和使用者群組同步，從而允許將來自 IdP 的使用者和群組匯入到叢集中。這有助於叢集管理員將專用於某個專案的叢集資源的存取隔離給從事該專案的使用者群組或群組，從而限制對任何叢集資源的未經授權的存取。要了解有關 IdP 與 Red Hat OpenShift 整合的更多信息，請參閱文檔<block ref="213cff8958909b80a9514e0c8321d8ef" category="inline-link-rx"></block>。</block>
  <block id="6d4e96186b1f4267def393ec42bf2d9e" category="paragraph">隔離作為 Red Hat OpenShift 叢集的持久性儲存提供者的共用儲存非常重要，以確保在每個專案的儲存上建立的磁碟區對於主機來說就像是在單獨的儲存空間上建立的一樣。為此，請在NetApp ONTAP上建立與專案或工作負載數量相同的 SVM（儲存虛擬機器），並將每個 SVM 專用於一個工作負載。</block>
  <block id="0611f127a7e1e7ef5bbd782030c2e34a" category="paragraph">在NetApp ONTAP上為不同的專案建立不同的 SVM 後，必須將每個 SVM 對應到不同的Trident後端。 Trident上的後端配置驅動持久性儲存到 OpenShift 叢集資源的分配，並且需要對應到 SVM 的詳細資訊。這至少應該是後端的協定驅動程式。或者，它允許您定義如何在儲存上配置卷，並為磁碟區的大小或聚合的使用等設定限制。關於Trident後端定義的詳細資訊可以參見<block ref="47a77763732c6cebe093a4a4d61aaa5b" category="inline-link-rx"></block>。</block>
  <block id="c4ff2177ae2f8ed9c3e5353068cf2195" category="section-title">Red Hat OpenShift – 儲存資源</block>
  <block id="891c9b8b0ce367c5e377a1ec23199619" category="paragraph">設定Trident後端後，下一步是設定 StorageClasses。配置與後端數量相同的儲存類，為每個儲存類提供僅在一個後端啟動磁碟區的存取權限。我們可以在定義儲存類別時使用 storagePools 參數將 StorageClass 對應到特定的Trident後端。定義儲存類別的詳細資訊可以在這裡找到<block ref="1266deb20a7d7c4814b1225e5e572606" category="inline-link-rx"></block>。因此，從 StorageClass 到Trident後端存在一對一映射，該映射指向一個 SVM。這可確保透過指派給該專案的 StorageClass 提出的所有儲存聲明均由專用於該專案的 SVM 提供服務。</block>
  <block id="76245f392269db8492c3610e325b1963" category="paragraph">由於儲存類別不是命名空間資源，我們如何確保另一個命名空間或專案中的 pod 對一個專案的儲存類別的儲存聲明被拒絕？答案是使用 ResourceQuotas。 ResourceQuotas 是控制每個專案資源總使用量的物件。它可以限制專案中物件可消耗的資源數量和總量。幾乎所有專案的資源都可以使用 ResourceQuotas 來限制，有效使用 ResourceQuotas 可以幫助組織削減因資源過度配置或過度消耗而導致的成本和中斷。請參閱文檔<block ref="9b2bb9683c8f6144876bed616f252527" category="inline-link-rx"></block>了解更多。</block>
  <block id="5402bb91006fe391aea122e11c3607db" category="paragraph">對於這種用例，我們需要限制特定專案中的 pod 從非專用於其專案的儲存類別中聲明儲存。為此，我們需要透過設定來限制其他儲存類別的持久性卷聲明<block ref="a21be23447e555ea751318f1aded4a38" prefix=" " category="inline-code"></block>為 0。此外，叢集管理員必須確保專案中的開發人員無權修改資源配額。</block>
  <block id="ad8905a47eb465223ebe7acf569732b1" category="doc">配置：叢集管理任務</block>
  <block id="552eab1d1ea09d0d1733b97dee6609a1" category="paragraph">Red Hat OpenShift 叢集管理員執行下列任務：</block>
  <block id="8a4ffd494b5e8af3ac1be2cd9ab254fb" category="list-text">以叢集管理員身分登入 Red Hat OpenShift 叢集。</block>
  <block id="7ccd4d72e4addf5c27c53bafaeb3fdbd" category="list-text">建立兩個項目，分別對應不同的工程。</block>
  <block id="6c98bfb16f2e9bbebd943c1f8592306d" category="list-text">為 project-1 建立開發人員角色。</block>
  <block id="14bd8c5f1032dd20f94d4434365c6530" category="admonition">本節提供的角色定義只是一個範例。必須根據最終使用者的要求來定義開發人員的角色。</block>
  <block id="3c73122271c9219b54ca745b732adc28" category="list-text">同樣，為 project-2 建立開發人員角色。</block>
  <block id="7428df2e0e503f4cabb43a4667bc1983" category="list-text">所有 OpenShift 和NetApp儲存資源通常由儲存管理員管理。儲存管理員的存取權限由安裝Trident時建立的 trident 操作員角色控制。除此之外，儲存管理員還需要存取 ResourceQuotas 來控制儲存的消耗方式。</block>
  <block id="cf17c458ea3abaad557d7cfc69886dbe" category="list-text">建立一個用於管理叢集中所有專案的 ResourceQuotas 的角色，並將其附加到儲存管理員。</block>
  <block id="da668ad9f53286056130ad0ab5a54978" category="list-text">確保叢集與組織的身分提供者集成，並且使用者群組與叢集群組同步。以下範例顯示身分提供者已與叢集整合並與使用者群組同步。</block>
  <block id="36e36b60ddb8f46fe0b9b4e8f4dce56f" category="list-text">為儲存管理員配置 ClusterRoleBindings。</block>
  <block id="38f22acd9ae9c74099644738d613baaa" category="admonition">對於儲存管理員，必須綁定兩個角色：trident-operator 和 resource-quotas。</block>
  <block id="ced38b1f1c19446862c601754b82b94c" category="list-text">為開發者建立 RoleBindings，將developer-project-1 角色綁定到 project-1 中對應的群組（ocp-project-1）。</block>
  <block id="2aa292f2ff8b13fe141ca55c27bc29c2" category="list-text">同樣的，在project-2中為開發者建立RoleBindings，將開發者角色綁定到對應的使用者群組。</block>
  <block id="254f642527b45bc260048e30704edb39" category="doc">配置</block>
  <block id="2edab6f378191e9c4bdd5225d7830871" category="paragraph">以下是使用NetApp在 Red Hat OpenShift 上設定多租用戶的先決條件。</block>
  <block id="4e92dab2ab2bbe684f09a2aca58c9e44" category="list-text">NetApp ONTAP叢集</block>
  <block id="f675b3d5e1e137870f481a742a3ec0af" category="list-text">在叢集上安裝的Trident</block>
  <block id="1db1a9d97c708824712706fc4267ec25" category="list-text">安裝了 tridentctl 和 oc 工具並新增至 $PATH 的管理員工作站</block>
  <block id="7cf4175762acfbabf9178d34f2504b28" category="list-text">ONTAP管理員存取權限</block>
  <block id="10a540d0ed57154e8676c5725af53935" category="list-text">叢集管理員存取 OpenShift 叢集</block>
  <block id="6340f6ab1111f349228595ebceb8f6db" category="list-text">集群與身分提供者集成</block>
  <block id="9e110c19bb79322a0b76199795550dea" category="list-text">配置身份提供者以有效區分不同團隊中的用戶</block>
  <block id="44b1200b793638d4a3aebd1bee591e12" category="paragraph">對於任何多租戶解決方案，任何使用者都不能存取超出所需的叢集資源。因此，作為多租戶配置的一部分而要配置的整個資源集被劃分到叢集管理員、儲存管理員和每個專案的開發人員之間。</block>
  <block id="1ceba10f8902735a18e8c3bb3e8a3052" category="paragraph">下表概述了不同使用者需要執行的不同任務：</block>
  <block id="bbbabdbe1b262f75d99d62880b953be1" category="cell">角色</block>
  <block id="ef615563c8e8ea902c7fcac3cd2c4246" category="cell">任務</block>
  <block id="064dceba374668ef0734be5f9e182682" category="cell">*集群管理員*</block>
  <block id="445b72f2cbecd97022bb6636eda3cbc7" category="cell">為不同的應用程式或工作負載建立項目</block>
  <block id="e033ab3bea3b8a20afb5852070df0203" category="cell">為 storage-admin 建立 ClusterRoles 和 RoleBindings</block>
  <block id="293d08622718634a8518b6fcc6376617" category="cell">為開發人員建立角色和角色綁定，並分配對特定專案的存取權限</block>
  <block id="3e97e469255cd3686174c371f50961f9" category="cell">[可選] 配置項目以在特定節點上調度 Pod</block>
  <block id="93ffd2b1215bc47cc78b020f89e922ef" category="cell">*儲存管理*</block>
  <block id="043ab42cdcbdacc4691c26ee52ed8ccd" category="cell">在NetApp ONTAP上建立 SVM</block>
  <block id="be09a24f118a66330a40633e9d5ebfca" category="cell">建立Trident後端</block>
  <block id="55995e8c220e05b3e75252cccf5752be" category="cell">建立儲存類別</block>
  <block id="2a5eb41b2d7fd04d01836f89ab790852" category="cell">建立儲存資源配額</block>
  <block id="4e00898ecc4e6640083ccff8d85fbe87" category="cell">*開發人員*</block>
  <block id="bfc5fb8ef5464441bc8b3ca7eda2892d" category="cell">驗證在指定專案中建立或修補 PVC 或 Pod 的權限</block>
  <block id="9e95c94350b2b7b51176ad958deb1388" category="cell">驗證在另一個專案中建立或修補 PVC 或 Pod 的權限</block>
  <block id="8c0b7954d326b4bcf2f42a57ef00eead" category="cell">驗證檢視或編輯項目、資源配額和儲存類別的權限</block>
  <block id="c48db988cd283c11f89d4dd85803ec0a" category="doc">使用NetApp在 Red Hat OpenShift 上設定多租戶</block>
  <block id="6d72da55d82cdd434045ba5df1a959b6" category="paragraph">許多在容器上執行多個應用程式或工作負載的組織傾向於為每個應用程式或工作負載部署一個 Red Hat OpenShift 叢集。這使得他們能夠對應用程式或工作負載實施嚴格隔離，優化效能並減少安全漏洞。但是，為每個應用程式部署單獨的 Red Hat OpenShift 叢集會帶來一系列問題。它增加了必須自行監控和管理每個叢集的營運開銷，由於不同應用程式的專用資源而增加了成本，並阻礙了有效的可擴展性。</block>
  <block id="332dcd535fa9ce865f462efb80829a35" category="paragraph">為了克服這些問題，可以考慮在單一 Red Hat OpenShift 叢集中執行所有應用程式或工作負載。但在這樣的架構下，資源隔離和應用安全漏洞是主要挑戰之一。一個工作負載中的任何安全漏洞都可能自然蔓延到另一個工作負載，從而擴大影響範圍。此外，由於預設沒有資源分配策略，因此一個應用程式突然不受控制地利用資源都會影響另一個應用程式的效能。</block>
  <block id="14a9bacc4b197037f54eb0c4c7e1970c" category="paragraph">因此，組織尋求能夠兼顧兩方面優勢的解決方案，例如，允許他們在單一叢集中運行所有工作負載，同時為每個工作負載提供專用叢集的優勢。</block>
  <block id="73c1b26ace2fc5fca6e6e78c00a61837" category="paragraph">一個有效的解決方案是在 Red Hat OpenShift 上設定多租用戶。多租戶是一種允許多個租戶在同一個叢集上共存的架構，對資源、安全性等進行適當的隔離。在此上下文中，租用戶可被視為叢集資源的子集，配置為由特定使用者群組用於專用目的。在 Red Hat OpenShift 叢集上配置多租戶具有以下優勢：</block>
  <block id="cde9f9f8fcae0cdc6624895868803d60" category="list-text">透過共享集群資源來減少資本支出和營運支出</block>
  <block id="943a49720e6c85fa9692af2a5ebd8829" category="list-text">降低營運和管理開銷</block>
  <block id="f51a58b3ab19c778652fcff9dd39ca55" category="list-text">保護工作負載免受安全漏洞的交叉污染</block>
  <block id="181cfddfdb055879df4d55323a14c473" category="list-text">保護工作負載免受資源爭用導致的意外效能下降</block>
  <block id="2ce277c26af86740eeeebd4cfa94c762" category="paragraph">對於完全實現的多租戶 OpenShift 集群，必須為屬於不同資源桶的集群資源配置配額和限制：運算、儲存、網路、安全性等。雖然我們在此解決方案中涵蓋了所有資源桶的某些方面，但我們專注於透過在由 NetApp ONTAP 支援的TridentNetApp分配的儲存資源上配置多租戶來隔離和保護同一 Red Hat OpenShift 叢集上多個工作負載所服務或使用的資料的ONTAP實踐。</block>
  <block id="ec22e01e7cd5087ef746b3db5852da6e" category="doc">擴充：新增更多項目</block>
  <block id="0e4136a9f4ad3204c07db26d3c28a546" category="paragraph">在多租用戶配置中，新增具有儲存資源的新項目需要額外的配置以確保不違反多租用戶原則。若要在多租戶叢集中新增更多項目，請完成以下步驟：</block>
  <block id="c8acb1fa89b1ec9d78799a2dd4aa8b59" category="list-text">以儲存管理員身分登入NetApp ONTAP叢集。</block>
  <block id="d0ed0d7b81278233c852e4a0d8aa123b" category="list-text">導航至<block ref="ba7ff8660fabd8daa8e7fbd0c74dd990" prefix=" " category="inline-code"></block>並點擊<block ref="ec211f7c20af43e742bf2570c3cb84f9" prefix=" " category="inline-code"></block>。建立一個專用於 project-3 的新 SVM。也要建立一個 vsadmin 帳戶來管理 SVM 及其資源。</block>
  <block id="5790e2b8b367726e78500054d959d6f7" category="inline-image-macro">建立 SVM 進行縮放</block>
  <block id="b3f681e948324bfca6c339bd9660347c" category="paragraph"><block ref="b3f681e948324bfca6c339bd9660347c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0c67e9a89c7ece3169ab5849bb0e411" category="list-text">以叢集管理員身分登入 Red Hat OpenShift 叢集。</block>
  <block id="c9e86337c7483c8d45e5e535829d2163" category="list-text">建立新項目。</block>
  <block id="1c01b62cc887329b006a88e9f959b5d4" category="list-text">確保在 IdP 上建立了 project-3 的使用者群組並與 OpenShift 叢集同步。</block>
  <block id="46c82384780a492254c43d461363d9ac" category="list-text">為 project-3 建立開發人員角色。</block>
  <block id="21ac9e9bbb2cfc707143311f4601af1c" category="admonition">本節提供的角色定義只是一個範例。必須根據最終使用者的要求來定義開發人員的角色。</block>
  <block id="8efa8222e644f71e636f98917439566d" category="list-text">為 project-3 中的開發人員建立 RoleBinding，將 development-project-3 角色綁定到 project-3 中對應的群組（ocp-project-3）。</block>
  <block id="e1f01c3341da15c9079bf5996c059811" category="list-text">以儲存管理員身分登入 Red Hat OpenShift 集群</block>
  <block id="2ca2d57f42208b6e7e9026b491595f41" category="list-text">建立Trident後端並將其對應到專用於 project-3 的 SVM。  NetApp建議使用 SVM 的 vsadmin 帳戶將後端連接到 SVM，而不是使用ONTAP叢集管理員。</block>
  <block id="c4dcda95616fac9215b5dac3cde37220" category="admonition">我們在此範例中使用 ontap-nas 驅動程式。根據用例使用適當的驅動程式建立後端。</block>
  <block id="8628ed29313534f54f01e0da36e66ab7" category="admonition">我們假設Trident已安裝在 trident 專案中。</block>
  <block id="55da75937cfedfe97c220c1e9d556d84" category="list-text">為 project-3 建立儲存類別並將其配置為使用專用於 project-3 的後端儲存池。</block>
  <block id="6efdcf6ed405066371d23375541816a1" category="list-text">建立 ResourceQuota 來限制 project-3 中的資源從專用於其他專案的儲存類別中請求儲存。</block>
  <block id="1dea1d57247580b530335ec2d484f8a5" category="list-text">修補其他專案中的 ResourceQuotas，以限制這些專案中的資源存取專用於 project-3 的儲存類別的儲存。</block>
  <block id="d008c60ddb28c0bbad1dfabdd77327fc" category="doc">配置：儲存管理任務</block>
  <block id="6c0ed744c737f30af364d229639c8288" category="paragraph">儲存管理員必須配置以下資源：</block>
  <block id="64244866ddff81ded5e6aaa49055c6aa" category="list-text">以管理員身分登入NetApp ONTAP叢集。</block>
  <block id="85ca996063b5ec233e56a20ba93c5f44" category="list-text">導航到儲存&gt;儲存虛擬機，然後按一下新增。透過提供所需的詳細信息，建立兩個 SVM，一個用於專案 1，另一個用於專案 2。也要建立一個 vsadmin 帳戶來管理 SVM 及其資源。</block>
  <block id="3f8bc17bf8dd138aa2915235f0a9c0d3" category="inline-image-macro">在ONTAP上建立 SVM</block>
  <block id="0b6bdd5822abd876e9985611641304dc" category="paragraph"><block ref="0b6bdd5822abd876e9985611641304dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b436e7799d01413277e05983e509574a" category="list-text">以儲存管理員身分登入 Red Hat OpenShift 叢集。</block>
  <block id="c9bd46366e9fb78552566f1e7a13633a" category="list-text">為 project-1 建立後端並將其對應到專用於該專案的 SVM。  NetApp建議使用 SVM 的 vsadmin 帳戶將後端連接到 SVM，而不是使用ONTAP叢集管理員。</block>
  <block id="f934b433773b966e5ebe0c7172decda4" category="admonition">我們在此範例中使用 ontap-nas 驅動程式。根據用例建立後端時使用適當的驅動程式。</block>
  <block id="4a6c648106c1ff38316705bf986de601" category="list-text">類似地為 project-2 建立Trident後端並將其對應到專用於 project-2 的 SVM。</block>
  <block id="9a45d41277a2e8ce29709826a31fb482" category="list-text">接下來，建立儲存類別。為 project-1 建立儲存類，並透過設定 storagePools 參數將其配置為使用專用於 project-1 的後端儲存池。</block>
  <block id="4350d40426f8c94f6ca046609969adb2" category="list-text">同樣，為 project-2 建立儲存類別並將其配置為使用專用於 project-2 的後端儲存池。</block>
  <block id="2ee847ebe129ae778860d6dd2da21cf6" category="list-text">建立 ResourceQuota 來限制 project-1 中的資源從專用於其他專案的儲存類別中請求儲存。</block>
  <block id="c689ae18a0f5e47541dcec4afb6e187a" category="list-text">類似地，建立一個 ResourceQuota 來限制 project-2 中的資源從專用於其他專案的儲存類別中請求儲存。</block>
  <block id="13148717f8faa9037f37d28971dfc219" category="doc">驗證</block>
  <block id="286c0d2f200233e63709210881b700c4" category="paragraph">若要驗證前面步驟中配置的多租用戶架構，請完成下列步驟：</block>
  <block id="627fd2c5e0310dc7409ea377e5d13045" category="section-title">驗證在指定專案中建立 PVC 或 Pod 的權限</block>
  <block id="f4da6475fc7e97756adf2751840e077d" category="list-text">以 ocp-project-1-user、project-1 中的開發人員身分登入。</block>
  <block id="2d7fbbcee3114769610fea6ef6f4cdf0" category="list-text">檢查建立新項目的權限。</block>
  <block id="12cdc5f68c3a0ca10544c0a57e866249" category="list-text">使用指派給 project-1 的儲存類別在 project-1 中建立 PVC。</block>
  <block id="145d2249af633a497182f76e714d1f2e" category="list-text">檢查與 PVC 關聯的 PV。</block>
  <block id="d424ec829e7a6f56de4d74835b97103a" category="list-text">驗證 PV 及其磁碟區是否在NetApp ONTAP上專用於 project-1 的 SVM 中建立。</block>
  <block id="a345b6be662b316a3b3e3cfbc7566b31" category="list-text">在 project-1 中建立一個 pod，並掛載上一個步驟所建立的 PVC。</block>
  <block id="7b929f9e235c85c6b73ed2ee867c5514" category="list-text">檢查 pod 是否正在運作以及是否安裝了磁碟區。</block>
  <block id="8c9885c86a67cc4c47a30d7e8d14badb" category="section-title">驗證在另一個專案中建立 PVC 或 Pod 或使用專用於另一個專案的資源的存取權限</block>
  <block id="8e27501b578972bd7b65468deaa482ca" category="list-text">使用指派給 project-2 的儲存類別在 project-1 中建立 PVC。</block>
  <block id="71bc5a6f1f0141981e0034b388233917" category="list-text">在 project-2 中建立 PVC。</block>
  <block id="1149bf04288dfa82d0e3b713a6e66aa1" category="list-text">確保 PVC<block ref="1ff946dbad16e896f78812f54d491d28" prefix=" " category="inline-code"></block>和<block ref="146dc2badf14b242d7e386acd7f9b2aa" prefix=" " category="inline-code"></block>沒有創造。</block>
  <block id="0d843e91c3b8f62457e19b2d32ecace3" category="list-text">在 project-2 中建立一個 pod。</block>
  <block id="83aa0a39007c30e71adde6fbf8180d9f" category="section-title">驗證檢視和編輯項目、資源配額和儲存類別的權限</block>
  <block id="43700888cdcd166f379f95bd1751ae63" category="list-text">檢查建立新項目的權限。</block>
  <block id="32579947c29f341292c3ce775140178b" category="list-text">驗證查看項目的存取權限。</block>
  <block id="9e97a1398bb4a0499bb69bf1c9e67d6a" category="list-text">檢查使用者是否可以檢視或編輯 project-1 中的 ResourceQuotas。</block>
  <block id="17a658c4329ed475a82d2e02c0406118" category="list-text">驗證使用者是否有權查看儲存類別。</block>
  <block id="aa177e49bfc4cc0182f57218ce6bdd4d" category="list-text">檢查存取權限以描述儲存類別。</block>
  <block id="4f0456294d6d4699e5b8694995c58fce" category="list-text">驗證使用者編輯儲存類別的權限。</block>
  <block id="8921c6e9843ba7487c77f4dce1467111" category="summary">NetApp Element軟體提供模組化、可擴展的效能，每個儲存節點為環境提供保證的容量和吞吐量。  NetApp Element系統可在單一叢集中從 4 個節點擴展到 100 個節點，並提供許多進階儲存管理功能。</block>
  <block id="5d77fe4a6bb4c5e88c5c18510b3c4749" category="doc">NetApp Element：Red Hat OpenShift 與NetApp</block>
  <block id="53c583e55a36ad49234df678a2dbcf45" category="paragraph">NetApp Element軟體提供模組化、可擴展的效能，每個儲存節點為環境提供保證的容量和吞吐量。  NetApp Element系統可在單一叢集中從 4 個節點擴展到 100 個節點，並提供許多進階儲存管理功能。</block>
  <block id="19c6fa5394ba7047e26a53d94179ebf9" category="paragraph"><block ref="19c6fa5394ba7047e26a53d94179ebf9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27765508a97a89684590658c3465fb70" category="inline-link">NetApp Solidfire 網站</block>
  <block id="d37eaafbb6dfb29673d63ff988ff4f41" category="paragraph">有關NetApp Element存儲系統的更多信息，請訪問<block ref="0d1d77e6774527457304fa15f73899a1" category="inline-link-rx"></block>。</block>
  <block id="bd4ffcaabbe4a4f83fbfaaa2e34dc8a3" category="section-title">iSCSI 登入重新導向和自我修復功能</block>
  <block id="dbafa7c074ef7efc3c778b69c0ad31b5" category="paragraph">NetApp Element軟體利用 iSCSI 儲存協議，這是在傳統 TCP/IP 網路上封裝 SCSI 命令的標準方法。當 SCSI 標準變更或乙太網路效能提升時，iSCSI 儲存協定將受益，而無需進行任何變更。</block>
  <block id="23e6b910b28346537f5696478fffe779" category="paragraph">儘管所有儲存節點都有一個管理 IP 和一個儲存 IP，但NetApp Element軟體會為叢集中的所有儲存流量公佈一個儲存虛擬 IP 位址（SVIP 位址）。作為 iSCSI 登入程序的一部分，儲存可以回應目標磁碟區已移至不同的位址，因此無法繼續協商流程。然後，主機會向新位址重新發出登入請求，整個過程不需要主機端重新配置。此過程稱為 iSCSI 登入重定向。</block>
  <block id="b8603f3d585261d0005c7c5e51108d19" category="paragraph">iSCSI 登入重新導向是NetApp Element軟體叢集的關鍵部分。當收到主機登入要求時，節點根據 IOPS 和磁碟區的容量需求決定叢集中的哪個成員應該處理流量。卷分佈在NetApp Element軟體叢集中，如果單一節點處理的捲流量過多或新增了新節點，則會重新分配。在整個陣列中分配給定卷的多個副本。</block>
  <block id="772db62cf9ecb837ed4f0a91a5963492" category="paragraph">透過這種方式，如果節點故障後進行磁碟區重新分配，則除了登出並登入並重新導向到新位置之外，對主機連線沒有影響。透過 iSCSI 登入重新導向， NetApp Element軟體叢集是一種可自我修復、橫向擴展的架構，能夠實現無中斷升級和運作。</block>
  <block id="5c8e89de2b8e6e2f103d858b59e5aca0" category="section-title">NetApp Element軟體叢集 QoS</block>
  <block id="16600c3602f9acbaa2286f34135f6bb8" category="paragraph">NetApp Element軟體叢集允許根據每個磁碟區動態配置 QoS。您可以使用每個磁碟區的 QoS 設定根據您定義的 SLA 來控制儲存效能。以下三個可設定參數定義 QoS：</block>
  <block id="d91a826908d0c27cf5d21d2152292ab0" category="list-text">*最低 IOPS。 * NetApp Element軟體叢集為磁碟區提供的最小持續 IOPS 數。為磁碟區配置的最小 IOPS 是磁碟區的保證效能等級。每卷的性能不會低於這個水平。</block>
  <block id="f8cd3dfe225577e230dc2699ebbbfe34" category="list-text">*最大 IOPS。 *  NetApp Element軟體叢集為特定磁碟區提供的最大持續 IOPS 數。</block>
  <block id="827b5871d6ce8f2203a567ef3024f072" category="list-text">*突發 IOPS。 *短時間突發場景下允許的最大 IOPS 數。突發持續時間設定是可設定的，預設為 1 分鐘。如果卷的運行速度低於最大 IOPS 水平，則會累積突發積分。當效能等級變得非常高並被推動時，磁碟區上允許出現超出最大 IOPS 的短時間突發 IOPS。</block>
  <block id="e95bb6f1e85d1ffe0eb983fd5e0fbde8" category="section-title">多租戶</block>
  <block id="086d1eacd91102f734387f0266326344" category="paragraph">安全多租戶透過以下功能實現：</block>
  <block id="97bee3e8d0db89b2cd19eba861763e7a" category="list-text">*安全認證。 *質詢握手身份驗證協定 (CHAP) 用於安全磁碟區存取。輕量級目錄存取協定 (LDAP) 用於安全存取叢集以進行管理和報告。</block>
  <block id="c417adb168446c2bb99969f24fb15dd1" category="list-text">卷訪問組 (VAG)。或者，可以使用 VAG 代替身份驗證，將任意數量的 iSCSI 啟動器特定的 iSCSI 限定名稱 (IQN) 對應到一個或多個磁碟區。若要存取 VAG 中的捲，啟動器的 IQN 必須位於該卷組允許的 IQN 清單中。</block>
  <block id="28328e0db9c18c9ada207997f806124f" category="list-text">租戶虛擬區域網路 (VLAN)。在網路級別，透過使用 VLAN 實現 iSCSI 啟動器和NetApp Element軟體叢集之間的端對端網路安全性。對於為隔離工作負載或租用戶而建立的任何 VLAN， NetApp Element Software 都會建立一個單獨的 iSCSI 目標 SVIP 位址，該位址只能透過特定的 VLAN 存取。</block>
  <block id="5fec85270e969240cc769f429b9c8cdc" category="list-text">*啟用 VRF 的 VLAN。 *為了進一步支援資料中心的安全性和可擴充性， NetApp Element軟體可讓您啟用任何租戶 VLAN 以實現類似 VRF 的功能。此功能增加了以下兩個關鍵功能：</block>
  <block id="fca8436836d48525b8d98babbfd68518" category="list-text">*L3 路由到租戶 SVIP 位址。 *此功能可讓您將 iSCSI 啟動器放置在與NetApp Element軟體叢集不同的網路或 VLAN 上。</block>
  <block id="eaea554ececf5b64515f0833c56b3de4" category="list-text">*重疊或重複的 IP 子網路。 *此功能可讓您為租用戶環境新增模板，從而允許每個對應的租用戶 VLAN 指派來自相同 IP 子網路的 IP 位址。此功能對於服務提供者環境中非常有用，因為 IP 空間的規模和保存非常重要。</block>
  <block id="c08531651ee4977d5020da1b84003631" category="section-title">企業儲存效率</block>
  <block id="78712bd6b2d8e5531e122b5e849fb842" category="paragraph">NetApp Element軟體叢集提高了整體儲存效率和效能。以下功能以內聯方式執行，始終處於開啟狀態，且不需要使用者手動設定：</block>
  <block id="6893566c26b28e197cebdefdcc6af3ae" category="list-text">*重複資料刪除*系統僅儲存唯一的 4K 區塊。任何重複的 4K 區塊都會自動與已儲存的資料版本相關聯。資料位於區塊驅動器上，並使用NetApp Element軟體 Helix 資料保護進行鏡像。該系統大大減少了容量消耗和系統內的寫入操作。</block>
  <block id="2e5dd3a69ccb3f04d7814fc742318204" category="list-text">*壓縮。 *在資料寫入NVRAM之前，壓縮是內聯執行的。資料被壓縮，儲存在 4K 區塊中，並在系統中保持壓縮狀態。這種壓縮顯著減少了整個叢集的容量消耗、寫入操作和頻寬消耗。</block>
  <block id="215de8162cb5ac909005881f92812fb0" category="list-text">*精簡配置。 *此功能可在您需要時提供適量的存儲，從而消除因磁碟區過度配置或捲利用不足而導致的容量消耗。</block>
  <block id="95f1b89c8e9c330fcfdc8ec84633bfe6" category="list-text">*螺旋。 *單一磁碟區的元資料儲存在元資料磁碟機上，並複製到輔助元資料磁碟機以實現冗餘。</block>
  <block id="da9c9b2b4164632e569069fe1e7c53ee" category="admonition">Element 是為自動化而設計的。所有儲存功能均可透過 API 取得。這些 API 是 UI 用來控制系統的唯一方法。</block>
  <block id="e4762763c905a271ba1e63609f0e0da0" category="paragraph">這兩種系統均由NetApp ONTAP資料管理軟體提供支持，這是業界最先進的資料管理軟體，具有高可用性、雲端整合、簡化的儲存管理功能，可提供您的資料結構所需的企業級速度、效率和安全性。</block>
  <block id="35f7c29efc923e8a7920a0b331095d71" category="section-title">Amazon FSx ONTAP</block>
  <block id="d744ebba12219aac3b1e9ca744e22939" category="paragraph">Amazon FSx ONTAP透過ONTAP流行的資料存取和管理功能在 AWS 雲端中提供完全託管的共用儲存。有關Amazon FSx ONTAP 的更多信息，請單擊<block ref="7573663d3852e00b0e56a5dac3594a6a" category="inline-link-rx"></block>。</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="section-title">Azure NetApp Files</block>
  <block id="b2ed084fcecb6db65b12c65588a0a926" category="paragraph">Azure NetApp Files是 Azure 原生的、第一方的、企業級的高效能檔案儲存服務。它提供卷宗服務，您可以為其建立NetApp帳戶、容量池和磁碟區。您還可以選擇服務和效能等級並管理資料保護。您可以使用熟悉且依賴的相同協定和工具來建立和管理高效能、高可用性和可擴展的檔案共用。有關Azure NetApp Files 的更多信息，請單擊<block ref="fc5eaf030008b3907c3925b272228bba" category="inline-link-rx"></block>。</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="section-title">Google Cloud NetApp Volumes</block>
  <block id="6a529e89f36a18cfaf22ebfd0be19ce9" category="paragraph">Google Cloud NetApp Volumes是一種完全託管的基於雲端的資料儲存服務，可提供進階資料管理功能和高度可擴展的效能。它允許您將基於檔案的應用程式移至 Google Cloud。它內建支援網路檔案系統（NFSv3 和 NFSv4.1）和伺服器訊息區塊（SMB）協議，因此您無需重新建置應用程序，並可以繼續為您的應用程式取得持久儲存。有關 Google Cloud NetApp VolumesP 的更多信息，請點擊<block ref="9ef49dd5917f54781359b5df82c18923" category="inline-link-rx"></block>。</block>
  <block id="0d1d64b47559f0c28c883e7e790b8363" category="summary">本節專門介紹實際使用者在將此解決方案部署到生產時可能需要執行的自訂，例如建立專用映像登錄檔或部署自訂負載平衡器執行個體。</block>
  <block id="becc5334b7f3d2f4f57fc42cd287fd54" category="inline-link-macro">探索負載平衡器選項</block>
  <block id="03915c22e7d8c9b4408637a36d6cf531" category="list-text"><block ref="03915c22e7d8c9b4408637a36d6cf531" category="inline-link-macro-rx"></block></block>
  <block id="261bdcc1d2c24d15c43c5947e69ea9e6" category="inline-link-macro">配置私有鏡像倉庫</block>
  <block id="4db9fc0f5dec1ff20a4f540d01f6a279" category="list-text"><block ref="4db9fc0f5dec1ff20a4f540d01f6a279" category="inline-link-macro-rx"></block></block>
  <block id="22d9c8b4bb9bf15ccdf545eeafc0726a" category="summary">AWS 上的 Red Hat OpenShift Service 是一個完全託管的 Kubernetes 平台，可讓開發人員在 AWS 雲端中建置和部署應用程式。</block>
  <block id="d2154db2b88b25388e0f4a7a9080bfc9" category="doc">AWS 上的 Red Hat OpenShift 服務</block>
  <block id="766d8f4095b175049f35406578d94edd" category="paragraph">AWS 上的 Red Hat OpenShift 服務 (ROSA) 是一項託管服務，您可以使用它在 AWS 上透過 Red Hat OpenShift 企業 Kubernetes 平台建置、擴充和部署容器化應用程式。  ROSA 簡化了將本機 Red Hat OpenShift 工作負載遷移到 AWS 的過程，並提供了與其他 AWS 服務的緊密整合。</block>
  <block id="d483e01f45d71ca0669987bbcc52540e" category="inline-link-macro">AWS 上的 Red Hat OpenShift 服務（AWS 文件）</block>
  <block id="bbb05e22e5510003079ee7cd19c0c6d2" category="inline-link-macro">AWS 上的 Red Hat OpenShift 服務（Red Hat 文件）</block>
  <block id="5ea6f8c087350d475e8efbd9a881ed93" category="paragraph">有關 ROSA 的更多信息，請參閱此處的文檔：<block ref="c87c8cdbb7e33ff8fe1cc4ee73c952c9" category="inline-link-macro-rx"></block> 。<block ref="bcb0e22b6c58858701d793bcb18b8c4b" category="inline-link-macro-rx"></block> 。</block>
  <block id="aa9095c5ba77e3549672e5c4fae1fedc" category="doc">裸機上的 OpenShift</block>
  <block id="a62e902f0d244d960eddf2f14d3afa6f" category="paragraph">OpenShift on Bare Metal 可在商用伺服器上自動部署 OpenShift 容器平台。</block>
  <block id="0e05c6235b67ae8e5b743c9ca77358fa" category="paragraph">OpenShift on Bare Metal 類似於 OpenShift 的虛擬部署，它可以輕鬆部署、快速配置和擴展 OpenShift 集群，同時支援尚未準備好容器化的應用程式的虛擬化工作負載。透過在裸機上部署，您不需要除了 OpenShift 環境之外管理主機虛擬機器管理程式環境所需的額外開銷。透過直接在裸機伺服器上部署，您還可以減少主機和 OpenShift 環境之間共用資源的實體開銷限制。</block>
  <block id="67a3852a946bc539243cc1e5f8982d03" category="section-title">OpenShift on Bare Metal 提供以下功能：</block>
  <block id="b6c4f27764ca359c19a70c2b1cbc1d97" category="list-text">*IPI 或輔助安裝程式部署* 透過在裸機伺服器上由安裝程式配置基礎架構 (IPI) 部署的 OpenShift 集群，客戶可以直接在商用伺服器上部署高度通用、易於擴展的 OpenShift 環境，而無需管理虛擬機器管理程式層。</block>
  <block id="f8ed0733873bb3b372f7a9467a850d93" category="list-text">*緊湊的叢集設計* 為了最大限度地減少硬體需求，裸機上的 OpenShift 允許使用者部署僅 3 個節點的集群，透過使 OpenShift 控制平面節點也可以充當工作節點和主機容器。</block>
  <block id="6579bfdd2d4dc076bdbb8cbece3b4cc0" category="list-text">*OpenShift 虛擬化* OpenShift 可以使用 OpenShift 虛擬化在容器內執行虛擬機器。此容器原生虛擬化在容器內執行 KVM 虛擬機器管理程序，並為 VM 儲存附加持久性磁碟區。</block>
  <block id="b0500e4f37101d510007bfaf623af7ed" category="list-text">*AI/ML 最佳化基礎架構* 透過將基於 GPU 的工作節點合併到您的 OpenShift 環境並利用 OpenShift Advanced Scheduling，為機器學習應用程式部署 Kubeflow 等應用程式。</block>
  <block id="19c939070c0b6ebbb52e1e0119b15301" category="section-title">網路設計</block>
  <block id="6bc136fcf409560a1029f6f323619bbf" category="paragraph">NetApp解決方案上的 Red Hat OpenShift 使用兩台資料交換器以 25Gbps 提供主要資料連線。它還使用兩個管理交換機，以 1Gbps 的速度提供儲存節點的帶內管理連接以及 IPMI 功能的帶外管理連接。</block>
  <block id="17fea9675576fc9c72deb9501a5fd16a" category="paragraph">對於 OpenShift 裸機 IPI 部署，您必須建立一個設定節點，也就是一台必須具有連接到單獨網路的網路介面的 Red Hat Enterprise Linux 8 機器。</block>
  <block id="8412476b5a3f9221e4b79f8abf725696" category="list-text">*設定網路* 此網路用於啟動裸機節點並安裝部署 OpenShift 叢集所需的映像和套件。</block>
  <block id="e6eb5af4aff65961a7f350b2222a4119" category="list-text">*裸機網路* 此網路用於集群部署後面向公眾的通訊。</block>
  <block id="7633522f66aaba6bc4bb2c25d299d287" category="paragraph">為了設定配置節點，客戶建立橋接接口，允許流量在節點本身和為部署目的而配置的 Bootstrap VM 上正確路由。叢集部署完成後，API 和 ingress VIP 位址從 bootstrap 節點遷移到新部署的叢集。</block>
  <block id="963d7d04e1f1692a7fc49ae899123dbd" category="paragraph">下圖描述了 IPI 部署期間和部署完成後的環境。</block>
  <block id="df03861ebb174b56c9b0df19a6687ad4" category="paragraph"><block ref="df03861ebb174b56c9b0df19a6687ad4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ac6c6948754bef1f31b658d9ec4e16a" category="paragraph"><block ref="7ac6c6948754bef1f31b658d9ec4e16a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1744781b12c15ad3b748bea44d9582b" category="section-title">VLAN 需求</block>
  <block id="c5a0639a1bbc3695e0ebaf4c3affe363" category="paragraph">Red Hat OpenShift 與NetApp解決方案旨在透過使用虛擬區域網路 (VLAN) 在邏輯上分離用於不同用途的網路流量。</block>
  <block id="87495e311a3944910e3cc0c7bee3d754" category="cell">VLAN</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="05808f0e86c04c2a062c2e041f9e0827" category="cell">VLAN ID</block>
  <block id="b7dff125c9fce628900142990708436f" category="cell">帶外管理網絡</block>
  <block id="3d9073c9e531118eb3aff0f20647c86f" category="cell">裸機節點與 IPMI 管理</block>
  <block id="c74d97b01eae257e44aa9d5bade97baf" category="cell">16</block>
  <block id="f53272342c85041784b2d5136e6eaa7d" category="cell">裸機網絡</block>
  <block id="44a94f76baabd05ab407f76c946326c8" category="cell">叢集可用時，OpenShift 服務的網絡</block>
  <block id="fc221309746013ac554571fbd180e1c8" category="cell">181</block>
  <block id="11405696f0e53417a3847f430a7b8ed0" category="cell">設定網路</block>
  <block id="846325c36d78e7582d8bfcab277ca67a" category="cell">透過 IPI 進行 PXE 啟動和安裝裸機節點的網絡</block>
  <block id="dfeb9598fbfb97cc6bbcc0aff2c785d6" category="cell">3485</block>
  <block id="eb5f501445f81cb1f7f4cf290565f9c8" category="admonition">儘管這些網路實際上是由 VLAN 分隔的，但每個實體連接埠都必須設定為存取模式並指派主 VLAN，因為在 PXE 啟動序列期間無法傳遞 VLAN 標籤。</block>
  <block id="3ab0ae61b5256f874297403903fd5afc" category="paragraph">在部署 OpenShift 容器平台之前，應具備以下基礎架構：</block>
  <block id="06a9d12a76441fd395abeba7bf0d7b91" category="list-text">至少有一個 DNS 伺服器提供可從帶內管理網路和 VM 網路存取的完整主機名稱解析。</block>
  <block id="35be109b995061abd3392d1b01fd0e9a" category="summary">Red Hat OpenStack 平台提供了一個整合的基礎來創建、部署和擴展安全可靠的私有 OpenStack 雲端。</block>
  <block id="5f6a8f3661e7319797d4eab6792350e6" category="doc">Red Hat OpenStack 平台上的 OpenShift</block>
  <block id="639813d9aa126816c3f9e9de2a45ce17" category="paragraph">OSP 是一種基礎設施即服務 (IaaS) 雲，由管理運算、儲存和網路資源的一系列控制服務實現。此環境使用基於 Web 的介面進行管理，允許管理員和使用者控制、配置和自動化 OpenStack 資源。此外，OpenStack 基礎架構透過廣泛的命令列介面和 API 實現，為管理員和最終用戶提供完全自動化功能。</block>
  <block id="dc34aa9761794ceabad79dc29944976e" category="paragraph">OpenStack專案是一個快速發展的社群項目，每六個月提供一次更新版本。最初，Red Hat OpenStack Platform 透過隨每個上游版本發布新版本並為每三個版本提供長期支援來跟上此發布週期。最近，隨著 OSP 16.0 版本（基於 OpenStack Train）的發布，Red Hat 選擇不跟上版本號，而是將新功能反向移植到子版本中。最新版本是 Red Hat OpenStack Platform 16.1，其中包括從 Ussuri 和 Victoria 上游版本移植的高級功能。</block>
  <block id="737c38dd225185612ac8fa148ae9583e" category="inline-link-macro">紅帽 OpenStack 平台網站</block>
  <block id="588d940c602fa8b127eead0a7b20f748" category="paragraph">有關 OSP 的更多信息，請參閱<block ref="52023575482d8580431ebeb833211aae" category="inline-link-macro-rx"></block>。</block>
  <block id="e2ab8aafc6151adfa655ffd5d2425e7d" category="section-title">OpenStack服務</block>
  <block id="ffd7a6889e6ea6965969472250235082" category="paragraph">OpenStack 平台服務以容器形式部署，從而將服務彼此隔離並實現輕鬆升級。 OpenStack 平台使用一組透過 Kolla 建置和管理的容器。服務的部署是透過從 Red Hat Custom Portal 提取容器映像來執行的。這些服務容器使用 Podman 指令進行管理，並使用 Red Hat OpenStack Director 進行部署、設定和維護。</block>
  <block id="cd9222eaa638072680ee36bdc3fda64c" category="paragraph"><block ref="cd9222eaa638072680ee36bdc3fda64c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2ba7e785c49050f48da9aacc45c2b85" category="cell">服務</block>
  <block id="7adea0d9c77aabccd8bb67ae0a832d59" category="cell">項目名稱</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">描述</block>
  <block id="2938c7f7e560ed972f8a4f68e80ff834" category="cell">儀表板</block>
  <block id="85fb7708d989f936cb51ef53a8af080f" category="cell">地平線</block>
  <block id="d5a9efab6df20a9e132b774795775dde" category="cell">用於管理 OpenStack 服務的基於 Web 瀏覽器的儀表板。</block>
  <block id="c9c5c65fb4af9cf90eb99b3b84424189" category="cell">身分</block>
  <block id="1ce2096c300f78bbb8389ca2603e6dd9" category="cell">Keystone</block>
  <block id="91c68681aadba9c0e8308f7d0b3cc416" category="cell">用於對 OpenStack 服務進行身份驗證和授權以及管理使用者、專案和角色的集中服務。</block>
  <block id="e7a39f4cb0dd0ffaaffe8fb0319dec67" category="cell">OpenStack網路</block>
  <block id="88fac409baf592beb25e285d8663edcb" category="cell">中子</block>
  <block id="0283e46fd80198d441eb742b88cf96f1" category="cell">提供 OpenStack 服務介面之間的連線。</block>
  <block id="4f0550f066ae72bb8c24fc3f59c323bf" category="cell">區塊儲存</block>
  <block id="a7173cc5cdd0e31df00cd34f058b1d33" category="cell">煤渣</block>
  <block id="597dab3a2b3c74e3c266b2f65ec28619" category="cell">管理虛擬機器 (VM) 的持久性區塊儲存磁碟區。</block>
  <block id="6e747c4965495f2e26bf17e647aa0083" category="cell">新星</block>
  <block id="f13c04e9c49274cd31bd8092c8f50304" category="cell">管理和配置在計算節點上運行的虛擬機器。</block>
  <block id="be53a0541a6d36f6ecb879fa2c584b08" category="cell">影像</block>
  <block id="10ec3a0506fab7073649337ca7be7979" category="cell">一瞥</block>
  <block id="d9ff71ddcb6bbbe8ad48ae8b678369d4" category="cell">用於儲存虛擬機器鏡像、磁碟區快照等資源的註冊服務。</block>
  <block id="670aaecb1a526fbed439dad3ec353a96" category="cell">物件儲存</block>
  <block id="ae832e9b5bda2699db45f3fa6aa8c556" category="cell">迅速</block>
  <block id="41c380458dfcdc118ef573a2d98c6acb" category="cell">允許使用者儲存和檢索文件和任意資料。</block>
  <block id="aa96a21412def0d916f43b639424f8e4" category="cell">遙測</block>
  <block id="8fb4b5e28f192236eaa9e4972f810dbd" category="cell">雲高儀</block>
  <block id="ed622b9c64858cc66a01c58893b5d39d" category="cell">提供雲端資源使用情況的測量。</block>
  <block id="d9cc1f843ea62c12a3e59afbbdc2f9ce" category="cell">編排</block>
  <block id="7d486371bb65b0633535ceba4189d8ed" category="cell">熱</block>
  <block id="abaa6ebae60b74638c54a43f3341db8e" category="cell">基於模板的編排引擎，支援自動建立資源堆疊。</block>
  <block id="5ddbd3cec63b14995bf6a5823b692de7" category="paragraph">Red Hat OpenShift 與NetApp解決方案使用兩台資料交換器以 25Gbps 提供主要資料連線。它還使用兩個額外的管理交換機，以 1Gbps 的速度提供儲存節點的帶內管理連接以及 IPMI 功能的帶外管理連接。</block>
  <block id="b81a67bf2ab52e16a62a9c71454c90ee" category="paragraph">Red Hat OpenStack Director 需要 IPMI 功能來使用 Ironic 裸機設定服務部署 Red Hat OpenStack Platform。</block>
  <block id="c546b983b02d8654c5b245147d99dcf0" category="paragraph">Red Hat OpenShift 與NetApp旨在透過使用虛擬區域網路 (VLAN) 在邏輯上分離用於不同用途的網路流量。此配置可以擴展以滿足客戶需求或為特定網路服務提供進一步的隔離。下表列出了在NetApp驗證解決方案時實施該解決方案所需的 VLAN。</block>
  <block id="414b4843c124e72b43bccf2948a53a41" category="cell">用於管理 Ironic 的實體節點和 IPMI 服務的網路。</block>
  <block id="567f5ee3e60ecdd5338b39cab0006510" category="cell">儲存基礎設施</block>
  <block id="e8cbca2d71bd2aeff622a07b4ffad6c2" category="cell">用於控制器節點直接對應磁碟區以支援 Swift 等基礎架構服務的網路。</block>
  <block id="757b505cfd34c64c85ca5b5690ee5293" category="cell">201</block>
  <block id="e103375dfc18f23e4fc072903e894fe9" category="cell">儲存煤渣</block>
  <block id="0bdfa6389eb47674a02f6049f342785d" category="cell">用於將區塊磁碟區直接對應並附加到環境中部署的虛擬執行個體的網路。</block>
  <block id="854d6fae5ee42911677c739ee1734486" category="cell">202</block>
  <block id="772d9a23b79ccb504fa0590644934c3b" category="cell">內部 API</block>
  <block id="e44f5f63400b0975b884dc2980ee3a61" category="cell">用於使用 API 通訊、RPC 訊息和資料庫通訊的 OpenStack 服務之間的通訊的網路。</block>
  <block id="34ed066df378efacc9b924ec161e7639" category="cell">301</block>
  <block id="6252d0571760e3d285e2e41a2b1e7743" category="cell">租戶</block>
  <block id="ea414c629935302b115bf3dabf5f827c" category="cell">Neutron 透過 VXLAN 隧道為每個租戶提供自己的網路。網路流量在每個租戶網路內是隔離的。每個租用戶網路都有一個與之關聯的 IP 子網，網路命名空間意味著多個租用戶網路可以使用相同的位址範圍而不會造成衝突。</block>
  <block id="577bcc914f9e55d5e4e4f82f9f00e7d4" category="cell">302</block>
  <block id="bfd15aa26ba0ced782240c4a8b7e517e" category="cell">儲存管理</block>
  <block id="cdc529b5e11a981e4597195c5f1c53b5" category="cell">OpenStack 物件儲存（Swift）使用此網路在參與的副本節點之間同步資料物件。代理服務充當使用者請求和底層儲存層之間的中介介面。代理接收傳入的請求並找到必要的副本以檢索請求的資料。</block>
  <block id="11b9842e0a271ff252c1903e7132cd68" category="cell">303</block>
  <block id="5214f1e2490f3878e307fd6f81f9f77f" category="cell">PXE</block>
  <block id="16d856c79e739181f35adfe5b791c650" category="cell">OpenStack Director 提供 PXE 啟動作為 Ironic 裸機設定服務的一部分，以協調 OSP Overcloud 的安裝。</block>
  <block id="966b6dfb6b0819cc10644bea3115cf20" category="cell">3484</block>
  <block id="b206a1b4ea1097761f78e8876f6da779" category="cell">外部的</block>
  <block id="f2feccaa3f5d086f0b16010ff463e369" category="cell">公共可用網絡，託管用於圖形管理的 OpenStack 儀表板（Horizon），並允許公共 API 呼叫來管理 OpenStack 服務。</block>
  <block id="7b9993fac4b9a60605aa2884eb40f4a3" category="cell">帶內管理網絡</block>
  <block id="32223320445c4cf46444e40ebde18b7e" category="cell">提供對系統管理功能（例如 SSH 存取、DNS 流量和網路時間協定 (NTP) 流量）的存取。該網路還充當非控制器節點的網關。</block>
  <block id="ab4f2b5fd96ca65349119909c1eada2d" category="cell">3486</block>
  <block id="0bad9231e1bf61bc343a986739f155c1" category="paragraph">在部署 OpenShift 容器平台之前，應具備以下基礎架構：</block>
  <block id="f2260a90424f1d412334d1b3467abd22" category="list-text">至少一個提供完整主機名稱解析的 DNS 伺服器。</block>
  <block id="d70672769aa84f2a999291a645e67355" category="list-text">至少有三個NTP伺服器可以為解決方案中的伺服器保持時間同步。</block>
  <block id="478a3526bd6097c6b7a330fd6aae410e" category="list-text">（可選）OpenShift 環境的出站網路連線。</block>
  <block id="9a14258452ea5da50d562e08e5b9291c" category="section-title">將 OpenShift 部署到至少三個運算節點的 OSP 私有雲</block>
  <block id="493fd05bc58266bcd8394072cbe81748" category="paragraph">本文檔中所述的經過驗證的架構透過部署三個 OSP 控制節點和兩個 OSP 運算節點，提供了適合 HA 操作的最小硬體部署。此架構確保了容錯配置，其中兩個運算節點都可以啟動虛擬實例，並且部署的虛擬機器可以在兩個虛擬機器管理程式之間遷移。</block>
  <block id="ebe803a768c48af52bca59e6ab7df9bf" category="paragraph">由於 Red Hat OpenShift 最初部署了三個主節點，因此雙節點配置可能會導致至少兩個主節點佔用同一個節點，如果該特定節點不可用，則可能導致 OpenShift 中斷。因此，Red Hat 的最佳實踐是部署至少三個 OSP 運算節點，以便 OpenShift 主機可以均勻分佈，並且解決方案可以獲得額外的容錯程度。</block>
  <block id="7a595c63e0ebc069af3da46e3d1c8fee" category="section-title">配置虛擬機器/主機親和性</block>
  <block id="bbfdc160550acbcdb4791a961a165d5d" category="paragraph">透過啟用 VM/主機親和性，可以將 OpenShift 主機分散在多個虛擬機器管理程式節點上。</block>
  <block id="cb346122cae28dfb1fcf0811f46296a2" category="paragraph">親和性是一種為虛擬機器和/或主機集合定義規則的方法，用於確定虛擬機器是否在同一主機或群組中的主機上一起執行，還是在不同的主機上運行。它透過建立由具有一組相同參數和條件的虛擬機器和/或主機組成的親和性群組應用於虛擬機器。根據親和性群組中的虛擬機器是運行在群組內的同一主機上還是運行在群組內的多個主機上，還是分別運行在不同的主機上，親和性群組的參數可以定義正親和性或負親和性。在 Red Hat OpenStack Platform 中，可以透過建立伺服器群組和設定篩選器來建立和強制執行主機親和性和反親和性規則，以便 Nova 在伺服器群組中部署的執行個體部署在不同的運算節點上。</block>
  <block id="9c0af999b760fac2aa82d9d105fa7a7e" category="paragraph">一個伺服器群組最多可以管理 10 個虛擬實例。可以透過更新 Nova 的預設配額來修改這一點。</block>
  <block id="de5bd213c3df23736df75636241f96de" category="admonition">OSP 伺服器群組存在特定的硬親和性/反親和性限制；如果沒有足夠的資源部署在單獨的節點上或沒有足夠的資源允許共享節點，則虛擬機器將無法啟動。</block>
  <block id="8aea038e418642b1735131358c24a866" category="inline-link-macro">如何為 OpenStack 實例配置親和性和反親和性？</block>
  <block id="b9b537b6c036ca53664ba24b95cb414b" category="paragraph">若要設定關聯群組，請參閱<block ref="e6d55bbdf0ab41341d925ad7a06c94d5" category="inline-link-macro-rx"></block>。</block>
  <block id="ed3ecd4254cc054c70ddee702d7ed519" category="section-title">使用自訂安裝檔進行 OpenShift 部署</block>
  <block id="5e059b05dcf86db414d6b8cdd66bcf0f" category="paragraph">IPI 透過本文檔前面討論的互動式精靈使 OpenShift 叢集的部署變得簡單。但是，您可能需要在叢集部署過程中變更一些預設值。</block>
  <block id="47a822101acb11c74a4877a3d0b77093" category="inline-link-macro">Red Hat OpenShift 在 OpenStack 上安裝自訂集群</block>
  <block id="cb8e8e87ec9c630a0a27910fe29abceb" category="summary">RHV 是企業虛擬資料中心平台，運行在 Red Hat Enterprise Linux (RHEL) 上並使用 KVM 虛擬機器管理程式。</block>
  <block id="f88eb30a75027b557910958c7306cb4e" category="doc">Red Hat 虛擬化上的 OpenShift</block>
  <block id="932e95da8a59703292a426466e703c7a" category="paragraph">Red Hat Virtualization (RHV) 是一個企業虛擬資料中心平台，運行在 Red Hat Enterprise Linux (RHEL) 上並使用 KVM 虛擬機器管理程式。</block>
  <block id="603bc85f6f6f4d9e5095745d9252f1d3" category="inline-link-macro">Red Hat 虛擬化網站</block>
  <block id="24749f872afed111082e4454a0583abd" category="paragraph">有關 RHV 的更多信息，請參閱<block ref="a046c007a57f7ff7a2197f69662fe957" category="inline-link-macro-rx"></block>。</block>
  <block id="7adf04762320f012179ffe68fb0aeb9f" category="paragraph">RHV 提供以下功能：</block>
  <block id="d198e9ca7e59f5313859da21138acb94" category="list-text">*虛擬機器和主機的集中管理* RHV 管理器在部署中作為實體機或虛擬機器 (VM) 運行，並提供基於 Web 的 GUI，以便從中央介面管理解決方案。</block>
  <block id="a2ae760ef875e32aa0f6e6cea19b7843" category="list-text">*自託管引擎* 為了最大限度地減少硬體需求，RHV 允許將 RHV 管理器 (RHV-M) 作為 VM 部署在運行來賓 VM 的同一主機上。</block>
  <block id="78f6af1e137635a3cea4ef964e21c7c6" category="list-text">*高可用性* 為避免主機故障時造成中斷，RHV 允許對虛擬機器進行高可用性配置。高可用性虛擬機器在叢集層級使用彈性策略進行控制。</block>
  <block id="dc4a50395fea041f4ee918e8c015755e" category="list-text">*高可擴展性* 單一 RHV 叢集最多可擁有 200 個虛擬機器管理程式主機，使其能夠支援大量虛擬機器託管資源密集型企業級工作負載的需求。</block>
  <block id="3fe956f564bcb16eb1d25ab6afdf9bf7" category="list-text">*增強的安全性* 從 RHV 繼承而來，RHV 採用安全虛擬化 (sVirt) 和安全增強 Linux (SELinux) 技術來提高主機和虛擬機器的安全性和強化程度。這些功能的主要優勢是虛擬機器及其相關資源的邏輯隔離。</block>
  <block id="c0a0160ce03d8575db0f84da4706c89b" category="paragraph"><block ref="c0a0160ce03d8575db0f84da4706c89b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd4c83df745cf56330120fb3ac308da2" category="paragraph">NetApp解決方案上的 Red Hat OpenShift 使用兩台資料交換器以 25Gbps 提供主要資料連線。它還使用兩個額外的管理交換機，以 1Gbps 的速度提供儲存節點的帶內管理連接以及 IPMI 功能的帶外管理。 OCP使用RHV上的虛擬機器邏輯網路進行叢集管理。本節介紹解決方案中使用的每個虛擬網段的安排和用途，並概述部署解決方案的先決條件。</block>
  <block id="2d7e48e226974692ed3f522a2baef6db" category="paragraph">RHV 上的 Red Hat OpenShift 旨在透過使用虛擬區域網路 (VLAN) 在邏輯上分離用於不同目的的網路流量。此配置可以擴展以滿足客戶需求或為特定網路服務提供進一步的隔離。下表列出了在NetApp驗證解決方案時實施該解決方案所需的 VLAN。</block>
  <block id="3c8c5d8387f173924ffeb2bf88084dba" category="cell">實體節點和IPMI的管理</block>
  <block id="c61d980d5248923d65a5dfe7f8818011" category="cell">虛擬機器網絡</block>
  <block id="f33bd5bca507f2b59fc0a43383ade71b" category="cell">虛擬訪客網路訪問</block>
  <block id="36a1694bce9815b7e38a9dad05ad42e0" category="cell">1172</block>
  <block id="c347686b0750301dfca053b321126bcc" category="cell">RHV-H 節點、RHV-Manager 和 ovirtmgmt 網路的管理</block>
  <block id="21c5bba1dd6aed9ab48c2b34c1a0adde" category="cell">3343</block>
  <block id="cd3718e8610b820344c9a0284fe84f90" category="cell">儲存網路</block>
  <block id="11967d5f57969ea4713204eace8fbf4e" category="cell">NetApp Element iSCSI 的儲存網絡</block>
  <block id="3083202a936b7d0ef8b680d7ae73fa1a" category="cell">3344</block>
  <block id="3de18ffc25309bd0755d8543a30ded78" category="cell">移民網絡</block>
  <block id="c87f7de78a1912f53050e58df90e1445" category="cell">虛擬客戶遷移網絡</block>
  <block id="38a77aa456fc813af07bb428f2363c8d" category="cell">3345</block>
  <block id="7e4be32047fe5b09a23fd956cd4e82f0" category="section-title">將 OpenShift 部署到至少三個節點的 RHV 集群</block>
  <block id="de4e964e7be880b328384cfedd5873d9" category="paragraph">本文檔中所述的經過驗證的架構透過部署兩個 RHV-H 虛擬機器管理程式節點並確保容錯配置（其中兩個主機都可以管理託管引擎並且部署的虛擬機器可以在兩個虛擬機器管理程式之間遷移）提供了適合 HA 操作的最小硬體部署。</block>
  <block id="4a3fe6077a529bcbe033bbb7d13027d6" category="paragraph">由於 Red Hat OpenShift 最初部署有三個主節點，因此在雙節點配置中可以確保至少兩個主節點佔用同一個節點，如果該特定節點不可用，則可能導致 OpenShift 中斷。因此，Red Hat 的最佳實踐是將至少三個 RHV-H 虛擬機器管理程式節點作為解決方案的一部分進行部署，以便 OpenShift 主機可以均勻分佈，並且解決方案可以獲得額外的容錯程度。</block>
  <block id="b98f17dd49fc6d1c2a9b58922fae2686" category="paragraph">您可以透過啟用 VM/主機親和性將 OpenShift 主機分散在多個虛擬機器管理程式節點上。</block>
  <block id="df1b58247681ba5f974a572d530dbdf9" category="paragraph">親和性是一種為虛擬機器和/或主機集合定義規則的方法，用於確定虛擬機器是否在同一主機或群組中的主機上一起執行，還是在不同的主機上運行。它透過建立由具有一組相同參數和條件的虛擬機器和/或主機組成的親和性群組應用於虛擬機器。根據親和性群組中的虛擬機器是運行在群組內的同一主機上還是運行在群組內的多個主機上，還是分別運行在不同的主機上，親和性群組的參數可以定義正親和性或負親和性。</block>
  <block id="02d7502b2b132a675665088322fde9b0" category="paragraph">參數定義的條件可以是硬執行，也可以是軟執行。硬執行確保親和性群組中的虛擬機器始終嚴格遵循正親和性或負親和性，而不考慮任何外部條件。軟執行確保為親和性群組中的虛擬機器設定更高的優先級，以便在可行的情況下遵循正或負親和性。在本文檔所描述的兩個或三個虛擬機器管理程式配置中，軟親和性是建議的設定。在較大的叢集中，硬親和性可以正確分配 OpenShift 節點。</block>
  <block id="5c00bc5cb1bdae240d18551e77806abd" category="inline-link-macro">紅帽 6.11。親和性群組文檔</block>
  <block id="1eb1f8a0b7a23bf292377ca6141c9764" category="paragraph">若要設定關聯群組，請參閱<block ref="71c7e3da1d9a2a54a294147a4cd2de31" category="inline-link-macro-rx"></block>。</block>
  <block id="2b083bcbbb2d2208e64c13cb183af44f" category="paragraph">IPI 透過本文檔前面討論的互動式精靈使 OpenShift 叢集的部署變得簡單。但是，作為叢集部署的一部分，可能需要更改一些預設值。</block>
  <block id="1050f3dc9e3ee559789e3b25f2e4f77e" category="inline-link-macro">Red Hat OpenShift 在 RHV 上安裝具有自訂的集群</block>
  <block id="cf0ddf5e6e47a8c8022acdc665895746" category="paragraph">在這些情況下，您可以執行並執行精靈，而無需立即部署叢集。而是創建一個配置文件，以便以後可以部署叢集。如果您想要變更任何 IPI 預設值，或想要在您的環境中部署多個相同的叢集用於其他用途（例如多租用戶），這將非常有用。有關為 OpenShift 建立自訂安裝配置的更多信息，請參閱<block ref="25daed5af84e217ef9044fffc5e957eb" category="inline-link-macro-rx"></block>。</block>
  <block id="2772c11e552b243e60a34490c4174ff9" category="doc">VMware vSphere 上的 OpenShift</block>
  <block id="f51df3c7eb6fd29ff4a45c600d597cdc" category="paragraph">有關 VMware vSphere 的更多信息，請參見<block ref="274345b8e0a166805c0e4fb3d51affbd" category="inline-link-macro-rx"></block>。</block>
  <block id="ca7c883830a501eece7802d17466780e" category="list-text">*VMware vCenter Server* VMware vCenter Server 從單一控制台統一管理所有主機和虛擬機，並彙總叢集、主機和虛擬機的效能監控。</block>
  <block id="b5833c22ec8627273b0415df731c3ce7" category="list-text">*VMware vSphere vMotion* VMware vCenter 可讓您以無中斷的方式根據請求在叢集中的節點之間熱遷移虛擬機器。</block>
  <block id="634e669a6bf01bf0ef2b676eae7beb33" category="list-text">*vSphere 高可用性* 為避免主機發生故障時造成中斷，VMware vSphere 允許將主機叢集化並配置為高可用性。因主機故障而中斷的虛擬機器將在叢集中的其他主機上短暫重新啟動，從而恢復服務。</block>
  <block id="435136c715673552d02d1fd739606dfc" category="list-text">*分散式資源調度程式 (DRS)* 可以設定 VMware vSphere 叢集以平衡其託管的虛擬機器的資源需求。存在資源爭用的虛擬機器可以熱遷移到叢集中的其他節點，以確保有足夠的資源可用。</block>
  <block id="a1c41e824fefb9fbdee9f72a9f61643f" category="paragraph"><block ref="a1c41e824fefb9fbdee9f72a9f61643f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c6371faa8d72dee8337811921707a4b" category="paragraph">NetApp解決方案上的 Red Hat OpenShift 使用兩台資料交換器以 25Gbps 提供主要資料連線。它還使用兩個額外的管理交換機，以 1Gbps 的速度提供儲存節點的帶內管理連接以及 IPMI 功能的帶外管理連接。 OCP 使用 VMware vSphere 上的 VM 邏輯網路進行叢集管理。本節描述了解決方案中使用的每個虛擬網路段的安排和用途，並概述了部署解決方案的先決條件。</block>
  <block id="e75b582a8823d532f6022b43ac209538" category="paragraph">VMware vSphere 上的 Red Hat OpenShift 旨在透過使用虛擬區域網路 (VLAN) 在邏輯上分離用於不同目的的網路流量。此配置可以擴展以滿足客戶需求或為特定網路服務提供進一步的隔離。下表列出了在NetApp驗證解決方案時實施該解決方案所需的 VLAN。</block>
  <block id="c846a1f843522d592b784a66368abed3" category="cell">ONTAP NFS 的儲存網絡</block>
  <block id="6cdd60ea0045eb7a6ec44c54d29ed402" category="cell">184</block>
  <block id="5e6094f6f2176409f469ee445fcf3f50" category="cell">ONTAP iSCSI 的儲存網絡</block>
  <block id="eecca5b6365d9607ee5a9d336962c534" category="cell">185</block>
  <block id="45cf0331a91fdc3679a78fdd8f7c60a7" category="cell">ESXi 節點、VCenter Server、 ONTAP Select的管理</block>
  <block id="e8e0dd181e4ee545195120626098bfba" category="cell">3480</block>
  <block id="3fb04953d95a94367bb133f862402bce" category="cell">3481</block>
  <block id="b7fede84c2be02ccb9c77107956560eb" category="cell">3482</block>
  <block id="bd690c49b77b8274786240fa94d9d880" category="section-title">將 OpenShift 部署到至少三個節點的 ESXi 集群</block>
  <block id="3500f2194985ef1b586c649fbe519d8d" category="paragraph">本文檔中所述的經過驗證的架構透過部署兩個 ESXi 虛擬機器管理程式節點並透過啟用 VMware vSphere HA 和 VMware vMotion 確保容錯配置，提供了適合 HA 操作的最低硬體部署。此配置允許已部署的虛擬機器在兩個虛擬機器管理程式之間遷移，並在一個主機不可用時重新啟動。</block>
  <block id="e79fa01ec6b411cfda4f8baad9f95cb0" category="paragraph">由於 Red Hat OpenShift 最初部署有三個主節點，因此在某些情況下，雙節點配置中至少有兩個主節點可以佔用同一個節點，如果該特定節點不可用，則可能導致 OpenShift 中斷。因此，Red Hat 的最佳實踐是必須部署至少三個 ESXi 虛擬機器管理程式節點，以便 OpenShift 主機可以均勻分佈，從而提供額外的容錯程度。</block>
  <block id="f5428382aa8b44d7ef6ca71195afc8ca" category="paragraph">透過啟用 VM 和主機親和性，可以確保 OpenShift 主機分佈在多個虛擬機器管理程式節點上。</block>
  <block id="7b65abec68958867d7dd5f43b3b06e08" category="inline-link-macro">Red Hat OpenShift 在 vSphere 上安裝具有自訂設定的集群</block>
  <block id="60d232b4b7425bdadb1962222b2c23ab" category="paragraph">在這些情況下，您可以執行精靈並執行任務而不立即部署集群，而是精靈會建立一個設定文件，稍後可以從中部署集群。如果您需要更改任何 IPI 預設值，或者想要在您的環境中部署多個相同的叢集用於其他用途（例如多租戶），這將非常有用。有關為 OpenShift 建立自訂安裝配置的更多信息，請參閱<block ref="425558ab055ee08d7eb4486f3ceb6631" category="inline-link-macro-rx"></block>。</block>
  <block id="81e1ccd46eb4fc86f01bc70f61ea35e0" category="summary">Red Hat OpenShift 容器平台將開發和 IT 營運整合在一個平台上，以便在本地和混合雲端基礎架構上一致地建置、部署和管理應用程式。  Red Hat OpenShift 基於開源創新和行業標準構建，包括 Kubernetes 和 Red Hat Enterprise Linux CoreOS，後者是專為基於容器的工作負載而設計的領先企業 Linux 發行版。</block>
  <block id="f122078c68f20c36897fec8a7c4a23e8" category="doc">OpenShift 概述</block>
  <block id="9c310f5e2dbb4c09c24ff6793a8ce4e2" category="paragraph">Red Hat OpenShift 容器平台將開發和 IT 營運整合在一個平台上，以便在本地和混合雲端基礎架構上一致地建置、部署和管理應用程式。  Red Hat OpenShift 基於開源創新和行業標準構建，包括 Kubernetes 和 Red Hat Enterprise Linux CoreOS，後者是專為基於容器的工作負載而設計的全球領先的企業 Linux 發行版。  OpenShift 是雲端原生運算基金會 (CNCF) 認證 Kubernetes 計畫的一部分，提供容器工作負載的可移植性和互通性。</block>
  <block id="b2b7104a419a54dcb2763bddc6a0a47c" category="section-title">Red Hat OpenShift 提供以下功能：</block>
  <block id="76ac5e7329e42786f73e51a65d2e7493" category="list-text">*自助服務配置* 開發人員可以使用他們最常用的工具快速輕鬆地按需創建應用程序，同時操作保留對整個環境的完全控制。</block>
  <block id="22b5b37aed7d2cfc95cfe160732caff9" category="list-text">*持久性儲存* 透過提供對持久性儲存的支持，OpenShift Container Platform 允許您同時執行有狀態應用程式和雲端原生無狀態應用程式。</block>
  <block id="2791382361fbd296cd1db54fa7343362" category="list-text">*持續整合和持續開發 (CI/CD)* 此原始碼平台可大規模管理建置和部署映像。</block>
  <block id="ebe44bbbf82d4d56407d7bd7d116334b" category="list-text">*開源標準* 這些標準除了其他開源技術外，還結合了開放容器計劃 (OCI) 和 Kubernetes 用於容器編排。您不會受到特定供應商的技術或業務路線圖的限制。</block>
  <block id="57b5e515a4be5d218b2f251533c94c15" category="list-text">*CI/CD 管道* OpenShift 為 CI/CD 管道提供開箱即用的支持，以便開發團隊可以自動化應用程式交付過程的每個步驟，並確保在對應用程式的程式碼或配置所做的每個更改上執行它。</block>
  <block id="910a2a0b5f3f5d1e49c5a0d1e0dc2138" category="list-text">*基於角色的存取控制 (RBAC)* 此功能提供團隊和使用者跟踪，以幫助組織大型開發人員群體。</block>
  <block id="b93adb654910a18d3a7ab4aa9939ce46" category="list-text">*自動建置和部署* OpenShift 為開發人員提供了建置容器化應用程式的選項，或讓平台從應用程式原始程式碼甚至二進位檔案建置容器。然後，該平台根據為應用程式定義的特性自動在整個基礎架構中部署這些應用程式。例如，為了符合第三方許可證，應該分配多少資源以及在基礎架構的什麼位置部署它們。</block>
  <block id="0e214dd7b6db6f54026d60bd23570448" category="list-text">*一致的環境* OpenShift 確保為開發人員提供的環境以及應用程式整個生命週期的環境都是一致的，從作業系統到程式庫、執行時間版本（例如 Java 執行時間），甚至正在使用的應用程式執行階段（例如 tomcat），以消除源自不一致環境的風險。</block>
  <block id="3324921ce520b5c2abe0d2521e8b040e" category="list-text">*配置管理* 平台內建配置和敏感資料管理，以確保無論使用哪種技術建立應用程式或部署在哪種環境中，都為應用程式提供一致且與環境無關的應用程式配置。</block>
  <block id="2d11325a996ec8e35070707ab180ca6c" category="list-text">*應用程式日誌和指標。 *快速反饋是應用程式開發的一個重要方面。  OpenShift 整合監控和日誌管理為開發人員提供即時指標，以便他們研究應用程式在變更中的行為，並能夠在應用程式生命週期中儘早解決問題。</block>
  <block id="93507554a1bd5b356e1ecf2a5fb0bd55" category="list-text">*安全性和容器目錄* OpenShift 提供多租用戶功能，並使用安全增強 Linux (SELinux)、CGroups 和安全計算模式 (seccomp) 建立的安全性來隔離和保護容器，從而保護使用者免受有害程式碼執行的侵害。它還透過 TLS 憑證為各個子系統提供加密，並提供對 Red Hat 認證容器（access.redhat.com/containers）的訪問，這些容器經過掃描和分級，特別強調安全性，以便為最終用戶提供經過認證、值得信賴和安全的應用程式容器。</block>
  <block id="ed30b5cf2bd807c1a940ff2564402dec" category="paragraph"><block ref="ed30b5cf2bd807c1a940ff2564402dec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe8c2f8039053e077a0ca678496b72aa" category="section-title">Red Hat OpenShift 的部署方法</block>
  <block id="9c2dd02f13d452b4422ac6c864933f01" category="paragraph">從 Red Hat OpenShift 4 開始，OpenShift 的部署方法包括使用使用者設定基礎架構 (UPI) 進行高度客製化的部署的手動部署或使用安裝程式設定基礎架構 (IPI) 進行全自動部署。</block>
  <block id="6e45cce163df251494c8f01f0567f19c" category="paragraph">在大多數情況下，IPI 安裝方法是首選方法，因為它允許為開發、測試和生產環境快速部署 OpenShift 叢集。</block>
  <block id="ec55e5ffb2376dada4b2eb066c1fd9fd" category="section-title">Red Hat OpenShift 的 IPI 安裝</block>
  <block id="a91a379e59fea6610134af1efa3dfe87" category="paragraph">OpenShift 的安裝程式設定基礎架構 (IPI) 部署涉及以下進階步驟：</block>
  <block id="d1befa03c79ca0b84ecc488dea96bc68" category="inline-link-macro">網站</block>
  <block id="e2fb3873f5444b3e2992591c137a7885" category="list-text">造訪 Red Hat OpenShift<block ref="07d9e126d73368020dd109a73fa50f95" category="inline-link-macro-rx"></block>並使用您的 SSO 憑證登入。</block>
  <block id="66f8ff89bd2c9146cb3273d416c60fd2" category="list-text">選擇您想要部署 Red Hat OpenShift 的環境。</block>
  <block id="16c98b3a2a53266c0fdbf68850eadfbc" category="paragraph"><block ref="16c98b3a2a53266c0fdbf68850eadfbc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5806bcee67fc8f13f0255068a186e42" category="list-text">在下一個畫面下載安裝程式、唯一的拉取金鑰和用於管理的 CLI 工具。</block>
  <block id="1d761031264b6e6deafa834577fad17c" category="paragraph"><block ref="1d761031264b6e6deafa834577fad17c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7586dbf5f3ac1a66383f6c201a17a341" category="inline-link-macro">安裝說明</block>
  <block id="c7daf823271052cb8912656769e85130" category="list-text">關注<block ref="031f6892cefd9bd35a861ba4dda1d58c" category="inline-link-macro-rx"></block>由 Red Hat 提供，可部署到您選擇的環境。</block>
  <block id="220887aee59c37fa79fc366cba7dad4e" category="section-title">NetApp驗證的 OpenShift 部署</block>
  <block id="d711fd24836980dd490f3c01dd3ee8de" category="paragraph">NetApp已在其實驗室中使用安裝程式設定基礎架構 (IPI) 部署方法在以下每個資料中心環境中測試並驗證了 Red Hat OpenShift 的部署：</block>
  <block id="5e6f3eb001d2c545db70619fea0a2136" category="list-text"><block ref="5e6f3eb001d2c545db70619fea0a2136" category="inline-link-macro-rx"></block></block>
  <block id="eecf112940bd2bc6a696459ef0be85c0" category="list-text"><block ref="eecf112940bd2bc6a696459ef0be85c0" category="inline-link-macro-rx"></block></block>
  <block id="5c18994e5a2e562fdefd56909cd7138d" category="list-text"><block ref="5c18994e5a2e562fdefd56909cd7138d" category="inline-link-macro-rx"></block></block>
  <block id="40f0760ba1ff291f49fcf9baf83e1458" category="list-text"><block ref="40f0760ba1ff291f49fcf9baf83e1458" category="inline-link-macro-rx"></block></block>
  <block id="ff749ece19ac134ace1669d645f2b265" category="summary">本節致力於建立和配置由Trident提供的持久性儲存支援的私有鏡像註冊表。</block>
  <block id="8252479af4b1df9b77ceaf67fa8cd07d" category="doc">建立私有鏡像倉庫</block>
  <block id="9c864113b9e4202e111b818a53d4f506" category="inline-link">Quay.io</block>
  <block id="4b4141875f954447d204e6f73d93e2a0" category="inline-link">DockerHub</block>
  <block id="508888fd9f92f35e5edd97bd8083e289" category="paragraph">對於大多數 Red Hat OpenShift 部署，使用公開註冊表<block ref="b9eeebbe4a68a648d570ea2173e5ef99" category="inline-link-rx"></block>或者<block ref="0252a6b70cc5017fa1445a78532155b6" category="inline-link-rx"></block>滿足大多數客戶的需求。然而，有時客戶可能希望託管他們自己的私人或定製圖像。</block>
  <block id="2bfd28946c23d8294bff3401d6004efd" category="paragraph">此程序記錄如何建立由Trident和NetApp ONTAP提供的持久磁碟區支援的私人映像註冊表。</block>
  <block id="5c6f1bdf00eb6d50d411c8fb4ed03e60" category="admonition">Trident Protect 需要一個登錄機碼來託管Astra容器所需的映像。以下部分介紹在 Red Hat OpenShift 叢集上設定私人註冊表以及推送支援安裝Trident Protect 所需的映像的步驟。</block>
  <block id="3434f6853d017037506e47f83a18c3eb" category="section-title">建立私有鏡像倉庫</block>
  <block id="8b2aacc194c3dc4c36ce93a57e31685c" category="list-text">從目前預設儲存類別中刪除預設註釋，並將 Trident 支援的儲存類別註釋為 OpenShift 叢集的預設儲存類別。</block>
  <block id="9b1c6f527a1a481b925397807f319e71" category="list-text">透過在以下位置輸入以下儲存參數來編輯 imageregistry 操作符<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>部分。</block>
  <block id="9ef71cd5ccaeb28206cd64b1d184019c" category="list-text">在<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>用於建立具有自訂主機名稱的 OpenShift 路由的部分。儲存並退出。</block>
  <block id="e0b23bc469102cf89472e5734da92a23" category="admonition">當您想要為路由指定自訂主機名稱時，可以使用上述路由配置。如果您希望 OpenShift 建立具有預設主機名稱的路由，則可以將下列參數新增至<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>部分：<block ref="b09e8357c45c55a2c3ca685c9742fa6e" prefix=" " category="inline-code"></block> 。</block>
  <block id="625bd6ae5e3ac822b187b90d50edb553" category="sidebar-title">自訂 TLS 證書</block>
  <block id="08e414328e39f86009287c06a5f23d23" category="paragraph">當您使用自訂主機名稱進行路由時，預設情況下，它會使用 OpenShift Ingress 操作員的預設 TLS 配置。但是，您可以向路由新增自訂 TLS 配置。為此，請完成以下步驟。</block>
  <block id="182eefb879e064799e4aacaefbd9c65d" category="list-text">使用路由的 TLS 憑證和金鑰建立一個秘密。</block>
  <block id="47f7f890b5c1bcb52ae163771dbf35b0" category="list-text">編輯 imageregistry 操作符，新增下列參數<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>部分。</block>
  <block id="9199ff34349c38138ad0275e447e6588" category="list-text">再次編輯imageregistry Operator，將Operator的管理狀態改為<block ref="80c202b1c3fd395a7bfe4d846c914bc3" prefix=" " category="inline-code"></block>狀態。儲存並退出。</block>
  <block id="2bc42a1a9a963d9a3ff2118466e5db07" category="list-text">如果滿足所有先決條件，則會為私有鏡像註冊表建立 PVC、pod 和服務。幾分鐘後，註冊表就會啟動。</block>
  <block id="1f3713e339193dd15865ca74785eaa2c" category="list-text">如果您正在為入口操作員 OpenShift 登錄路由使用預設 TLS 證書，則可以使用下列命令取得 TLS 證書。</block>
  <block id="295132dd97e1047a7c09e6a48054c469" category="list-text">為了允許 OpenShift 節點存取並從登錄中提取映像，請將憑證新增至 OpenShift 節點上的 docker 用戶端。在<block ref="34dd8d8a3478a983eb249305316984b0" prefix=" " category="inline-code"></block>命名空間使用 TLS 憑證並將其修補到叢集映像配置以使憑證受信任。</block>
  <block id="98f3e484001465a59149c551e8d88cf0" category="list-text">OpenShift 內部註冊表由身份驗證控制。所有OpenShift使用者都可以存取OpenShift登錄表，但登入使用者可以執行的操作取決於使用者權限。</block>
  <block id="561d4c8140016564eee98ecbc20f9add" category="list-text">若要允許使用者或一組使用者從登錄中提取圖像，必須為使用者指派 registry-viewer 角色。</block>
  <block id="88167e36ea0f872788407d0e01fc1382" category="list-text">若要允許使用者或使用者群組寫入或推送映像，必須為使用者指派註冊表編輯器角色。</block>
  <block id="5ba9e8f3c64be4c82249856cac87a071" category="list-text">為了讓 OpenShift 節點存取登錄機碼並推送或拉取映像，您需要設定拉取金鑰。</block>
  <block id="86e93d266c168d718105c402f43fc91e" category="list-text">然後可以將這個拉取機密修補到服務帳戶或在對應的 pod 定義中引用。</block>
  <block id="fe2033a9e377624583baa802ffd9ce6d" category="list-text">若要將其修補到服務帳戶，請執行下列命令。</block>
  <block id="59bd1dbdd3278e23e67bcabffbc4d55a" category="list-text">若要在 pod 定義中引用 pull secret，請將下列參數新增至<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>部分。</block>
  <block id="c0c3b4069e9a2e249507f67a6a2a3b07" category="list-text">若要從 OpenShift 節點以外的工作站推送或拉取映像，請完成下列步驟。</block>
  <block id="18f8bf05a7a278e63d921de74d2a5966" category="list-text">將 TLS 憑證新增至 docker 用戶端。</block>
  <block id="312eaa3acf94b813cfe857f63a602724" category="list-text">使用 oc login 指令登入 OpenShift。</block>
  <block id="cb4744e00672fbf6eba33b1b86d23ae0" category="list-text">使用 OpenShift 使用者憑證透過 podman/docker 指令登入註冊表。</block>
  <block id="abe31bcfb59f2265c2fb97dde407366c" category="open-title">podman</block>
  <block id="53557215e4d209eda16495dbe5f7c505" category="paragraph">+ 注意：如果您使用<block ref="e8ab325768ed90db02e4c6f72419e835" prefix=" " category="inline-code"></block>使用者登入私有註冊中心，然後使用令牌而不是密碼。</block>
  <block id="05b6053c41a2130afd6fc3b158bda4e6" category="open-title">碼頭工人</block>
  <block id="aa20d170f1ff336ec9079cf6dd1ccee3" category="list-text">推送或拉取映像。</block>
  <block id="01af0b1d2aec34820cc9569ad16903b2" category="summary">使用NetApp ONTAP在 AWS 上提供 Red Hat OpenShift 服務</block>
  <block id="8b92084315475b78ffdf89205153dbcc" category="paragraph">本文檔將概述如何將NetApp ONTAP與 AWS 上的 Red Hat OpenShift 服務 (ROSA) 結合使用。</block>
  <block id="11ee25da1c53e35aedb2b64af82e35f5" category="section-title">建立磁碟區快照</block>
  <block id="b3980ef9ebe2498773b00abbf7346228" category="paragraph">**1.建立應用程式磁碟區的快照** 在本節中，我們將展示如何建立與應用程式關聯的磁碟區的 trident 快照。這將是應用程式資料的時間點副本。如果應用程式資料遺失，我們可以從該時間點的副本恢復資料。注意：此快照與ONTAP中的原始磁碟區儲存在同一個聚合中（本地或雲端）。因此，如果ONTAP儲存聚合遺失，我們將無法從其快照中復原應用程式資料。</block>
  <block id="09be04d446e70cfb6ff2df63024654b6" category="paragraph">**一個。建立 VolumeSnapshotClass 將以下清單保存在名為volume-snapshot-class.yaml的檔案中</block>
  <block id="55594c435fa9e8bb616b0be43befd745" category="paragraph">使用上述清單建立快照。</block>
  <block id="1557cdba542c2fa13ddbfe40a0b129fd" category="inline-image-macro">快照類</block>
  <block id="0ead74279ea2f2f5dc61018f9a9188fa" category="paragraph"><block ref="0ead74279ea2f2f5dc61018f9a9188fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7f6a196914d4ab31fea78ac5a85e4d19" category="paragraph">**b.接下來，建立一個快照**透過建立 VolumeSnapshot 來建立現有 PVC 的快照，以取得 Postgresql 資料的時間點副本。這會建立一個幾乎不佔用檔案系統後端空間的 FSx 快照。將以下清單保存在名為volume-snapshot.yaml的檔案中：</block>
  <block id="a8491dba42c82c44a171bc46f5404dc8" category="paragraph">**c.建立磁碟區快照並確認已建立**</block>
  <block id="826181e7b216ae6bdc80ce324330edf8" category="paragraph">刪除資料庫模擬資料遺失（資料遺失可能因為多種原因發生，這裡我們只是透過刪除資料庫來模擬）</block>
  <block id="b5eaaa5f694a7f8ec5e907af460647fe" category="inline-image-macro">卷快照</block>
  <block id="8beba7afed22a52e156ea89f2d825761" category="paragraph"><block ref="8beba7afed22a52e156ea89f2d825761" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e765a5eeba2d96abf46cf9d172acc2da" category="paragraph">**d.刪除資料庫以模擬資料遺失（資料遺失可能由於多種原因而發生，這裡我們只是透過刪除資料庫來模擬）**</block>
  <block id="648f1fe4e83eb8d1e10ceddd054a16af" category="inline-image-macro">資料庫連線</block>
  <block id="a945297f31767f9fdc7a00038ce5621e" category="paragraph"><block ref="a945297f31767f9fdc7a00038ce5621e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06f050f984168d39dc83dd0579b1c89c" category="inline-image-macro">刪除資料庫</block>
  <block id="1f21dc6ff624760074d792823a39fa0a" category="paragraph"><block ref="1f21dc6ff624760074d792823a39fa0a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be9e1a30da76a525e62fbb18bdd4178e" category="section-title">從磁碟區快照還原</block>
  <block id="5c0cf9db5c3b84c42974da72d0a24a5f" category="paragraph">**1.從快照還原** 在本節中，我們將展示如何從應用程式磁碟區的 trident 快照還原應用程式。</block>
  <block id="348acf9f787e4f52c23fe741030e7288" category="paragraph">**一個。從快照建立磁碟區克隆**</block>
  <block id="1330e5f73c84b286e0473e750b920f10" category="paragraph">若要將磁碟區還原到先前的狀態，您必須根據所拍攝快照中的資料建立新的 PVC。為此，請將以下清單儲存在名為 pvc-clone.yaml 的檔案中</block>
  <block id="5e69cd248a9e8f98cc6d8afbb30d08e6" category="paragraph">使用上述清單，透過使用快照作為來源建立 PVC 來建立磁碟區的複製。應用清單並確保創建克隆。</block>
  <block id="2c188e0477897d45f212584dfc7fdae0" category="inline-image-macro">從快照複製 postgresql</block>
  <block id="f605c1e028d7877829279ce8d10c6898" category="paragraph"><block ref="f605c1e028d7877829279ce8d10c6898" category="inline-image-macro-rx" type="image"></block></block>
  <block id="90350dfdb6c3d9487986fa9f99f95e09" category="paragraph">**b.刪除原始 postgresql 安裝**</block>
  <block id="cda89a46d8022e9609d4859cc871eb53" category="inline-image-macro">postgresql應用程式刪除</block>
  <block id="4e65b97155c35d13bb6eec9d4b8dfdca" category="paragraph"><block ref="4e65b97155c35d13bb6eec9d4b8dfdca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e1124bbe05812664f1bb53318f98adc" category="paragraph">**c.使用新的克隆 PVC 建立新的 postgresql 應用程式**</block>
  <block id="124776275b10a0ba40e3bd6274be7c83" category="inline-image-macro">postgresql全新安裝</block>
  <block id="f1cbbcfb76d9b0649939d47dc6ac2cf3" category="paragraph"><block ref="f1cbbcfb76d9b0649939d47dc6ac2cf3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4a08c488f3333f3a820df54221df8a6" category="paragraph">**d.驗證應用程式 pod 處於運行狀態**</block>
  <block id="85973890993d0900631b8b22fa1cf8b5" category="paragraph"><block ref="85973890993d0900631b8b22fa1cf8b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="474252dd1c23c5b69905d58ce770745b" category="paragraph">**e.驗證 Pod 是否使用克隆作為其 PVC**</block>
  <block id="dfc862a6a8f1caa11721f754efafe529" category="inline-image-macro">postgresql新安裝說明</block>
  <block id="2a404262de3cef6d06024820d286dc72" category="paragraph"><block ref="2a404262de3cef6d06024820d286dc72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1e80ae72b073cfe7fd0d0405c745398" category="inline-image-macro">新的 pvc 是克隆</block>
  <block id="37a7b20081bfaed9cdfab54835aded85" category="paragraph"><block ref="37a7b20081bfaed9cdfab54835aded85" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43d7503c85f74702bc734d9d432fb0e1" category="paragraph">f) 若要驗證資料庫是否已如預期恢復，請返回容器控制台並顯示現有資料庫</block>
  <block id="2f73f0311fa1d86b40de0c1c739f7abd" category="inline-image-macro">資料庫已恢復</block>
  <block id="bb1d7cda904f317bdcfd71af4bac0957" category="paragraph"><block ref="bb1d7cda904f317bdcfd71af4bac0957" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a5ad64d595144c185c9cf2065162dec3" category="section-title">示範影片</block>
  <block id="26f71a935ef27829e35a6323d94b8bad" category="video-title">使用託管控制平面在 AWS 上將Amazon FSx for NetApp ONTAP與 Red Hat OpenShift 服務結合使用</block>
  <block id="5098c5ca08edf447dfba921ac6c41a25" category="paragraph">可以找到更多關於 Red Hat OpenShift 和 OpenShift 解決方案的視頻<block ref="7006d3b77ce0dcb153b683809f4deece" category="inline-link-macro-rx"></block>。</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">概況</block>
  <block id="4311d08133833f9e97125dcef97c9fdc" category="paragraph">在本節中，我們將展示如何利用 FSx for ONTAP作為在 ROSA 上運行的應用程式的持久性儲存層。它將展示在 ROSA 叢集上安裝NetApp Trident CSI 驅動程式、為ONTAP檔案系統配置 FSx 以及部署範例有狀態應用程式。它還將顯示備份和恢復應用程式資料的策略。透過此整合解決方案，您可以建立一個可輕鬆跨可用區擴展的共享儲存框架，從而簡化使用Trident CSI 驅動程式擴充、保護和復原資料的流程。</block>
  <block id="c6368ae044df0f7bb26ed60afda5c591" category="inline-link-macro">AWS 帳號</block>
  <block id="3a2b88b991502efccf922110610f9582" category="list-text"><block ref="27fc574b8ea5cd6312c40c8aa826b8e2" category="inline-link-macro-rx"></block></block>
  <block id="4d5fc243e74307805026926c423823b4" category="inline-link-macro">Red Hat 帳號</block>
  <block id="ead0695440dd103ed925a9fde225faf7" category="list-text"><block ref="ead0695440dd103ed925a9fde225faf7" category="inline-link-macro-rx"></block></block>
  <block id="5909d6a8cb5fdba182746c8c82b7f87b" category="inline-link-macro">具有適當的權限</block>
  <block id="82d51bb9563654dafcbc94464af7ffa1" category="list-text">IAM 用戶<block ref="6a9168d69dda19b401934afd113ebc28" category="inline-link-macro-rx"></block>建立並存取ROSA集群</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="inline-link-macro">AWS CLI</block>
  <block id="98301d59c6cad91a32be2e4205f6bb39" category="list-text"><block ref="98301d59c6cad91a32be2e4205f6bb39" category="inline-link-macro-rx"></block></block>
  <block id="a419a367cad390ff246057d1781b2530" category="inline-link-macro">ROSA CLI</block>
  <block id="e08f074ff23721e4a104f551d21fa4c3" category="list-text"><block ref="e08f074ff23721e4a104f551d21fa4c3" category="inline-link-macro-rx"></block></block>
  <block id="3df52b454b23400395f3356b8e39f05d" category="inline-link-macro">OpenShift 命令列介面</block>
  <block id="ade19ee4fd758bf4bf5ead653037461e" category="list-text"><block ref="f63ae7e9726ce546709ed5687d99d6e3" category="inline-link-macro-rx"></block>（oc）</block>
  <block id="55876228853abf632dec9346a4f372ec" category="inline-link-macro">文件</block>
  <block id="6169772de4c1376699dd5519ef849a1d" category="list-text">Helm 3<block ref="7422955daa7906b55a49c2790d5040a0" category="inline-link-macro-rx"></block></block>
  <block id="ac0bdc2a13da98cd87cc9846732afede" category="inline-link-macro">HCP ROSA 集群</block>
  <block id="5b29dcfe92cc64cc5df9701a1011b09d" category="list-text"><block ref="5b29dcfe92cc64cc5df9701a1011b09d" category="inline-link-macro-rx"></block></block>
  <block id="6cfc44b2c2ec15fe190acbc4646b6c22" category="inline-link-macro">造訪 Red Hat OpenShift Web 控制台</block>
  <block id="336243bc7fb89cbfadf1a2d16a596a78" category="list-text"><block ref="336243bc7fb89cbfadf1a2d16a596a78" category="inline-link-macro-rx"></block></block>
  <block id="ee0c1dfaba7c469f23fd557ebb77995c" category="paragraph">此圖顯示了部署在多個 AZ 中的 ROSA 集群。 ROSA叢集的主節點、基礎設施節點位於Red Hat的VPC中，而工作節點位於客戶帳戶中的VPC。我們將在同一個 VPC 內建立一個 FSx for ONTAP檔案系統，並在 ROSA 叢集中安裝Trident驅動程序，以允許該 VPC 的所有子網路連接到該檔案系統。</block>
  <block id="132ff3554e6f87fc7ae3dce747a6a1d9" category="inline-image-macro">羅莎建築</block>
  <block id="71d3bb805217b02e81f223639e55e358" category="paragraph"><block ref="71d3bb805217b02e81f223639e55e358" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6641666d7bc2748bab0ac80cdec3a2a3" category="section-title">初始設定</block>
  <block id="c5af70bdc5c6efbd8cd10d6598b895ab" category="paragraph">**1.為NetApp ONTAP配置 FSx**</block>
  <block id="b85c584b61dc3b605081a708aa8705be" category="paragraph">在與 ROSA 叢集相同的 VPC 中為NetApp ONTAP建立多可用區 FSx。有幾種方法可以做到這一點。提供了使用 CloudFormation Stack 建立 FSxN 的詳細信息</block>
  <block id="2cba622edc6d4968795eea73c5900a75" category="paragraph">**a.克隆 GitHub 儲存庫**</block>
  <block id="126de7a1e3e33e458f253bf96f890fdf" category="paragraph">**b.執行 CloudFormation 堆疊** 透過將參數值替換為您自己的值來執行以下命令：</block>
  <block id="3a9672194e38cf7334b7055576422bcc" category="paragraph">其中： region-name：與部署 ROSA 群集的區域相同 subnet1_ID：FSxN 的首選子網的 id subnet2_ID：FSxN 的備用子網的 id VPC_ID：部署 ROSA 群集的 VPC 的 id routetable1_ID、routetable2_our:CI 叢集的 VPC 的路由表 編號ONTAP安全群組入口規則允許的 CIDR 範圍，用於控制存取。您可以使用 0.0.0.0/0 或任何適當的 CIDR 來允許所有流量存取 FSx for ONTAP的特定連接埠。定義管理者密碼：登入 FSxN 的密碼 定義 SVM 密碼：登入將要建立的 SVM 的密碼。</block>
  <block id="a6ae7f0ee55faf7b97b2cbc5872a93d0" category="paragraph">使用Amazon FSx控制台驗證您的檔案系統和儲存虛擬機器 (SVM) 是否已創建，如下所示：</block>
  <block id="543716f57f2bf1a62603c1429f89e44c" category="inline-image-macro">FSxN 創建</block>
  <block id="073b640bb67b9059fbe0d2145d478aa6" category="paragraph"><block ref="073b640bb67b9059fbe0d2145d478aa6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eec1855fb68e23f0287d8f59d5edf663" category="paragraph">**2.為 ROSA 叢集安裝並設定Trident CSI 驅動程式**</block>
  <block id="94da387dbf8e17919540911ea6205752" category="paragraph">**b.安裝Trident**</block>
  <block id="5eb1ead7ec87a4346203b9b8cb12ab3c" category="paragraph">ROSA 叢集工作節點預先配置了 nfs 工具，使您能夠使用 NAS 協定進行儲存配置和存取。</block>
  <block id="f04d046e9cad09d82c9be581d1ae1fe9" category="paragraph">如果您想使用 iSCSI，則需要為 iSCSI 準備工作節點。從Trident 25.02 版本開始，您可以輕鬆準備 ROSA 叢集（或任何 OpenShift 叢集）的工作節點以在 FSxN 儲存體上執行 iSCSI 作業。有兩種簡單的方法可以安裝Trident 25.02（或更高版本），以自動為 iSCSI 準備工作節點。 1. 使用 tridentctl 工具從命令列使用 node-prep-flag。2.使用操作員中心的 Red Hat 認證的Trident操作員並對其進行自訂。  3.使用 Helm。</block>
  <block id="3b061feeaf044b14f22fd4354d79afa7" category="admonition">使用上述任何一種方法而不啟用節點準備將允許您僅使用 NAS 協定在 FSxN 上配置儲存。</block>
  <block id="07fbf7b1273a602b2229671f818216fa" category="paragraph">**方法一：使用 tridentctl 工具**</block>
  <block id="6d1fdd4584e069726e5ebeb241b77d14" category="inline-link-macro">此處的文檔</block>
  <block id="69e1842b48b70d86890f9f50dcce7d91" category="paragraph">使用 node-prep 標誌並安裝Trident ，如圖所示。在發出安裝命令之前，您應該已經下載了安裝程式包。請參閱<block ref="5695630188d786784930a38ef71042a1" category="inline-link-macro-rx"></block> 。</block>
  <block id="f3689db8513ce18a4c66c5b31f16e49b" category="paragraph">**方法 2：使用 Red Hat 認證的Trident Operator 並自訂** 從 OperatorHub 找到 Red Hat 認證的Trident Operator 並安裝它。</block>
  <block id="003f48c28a3b357b801ea863343fda51" category="inline-image-macro">操作員中心內的操作員</block>
  <block id="ac2f9d714248337ab7171f93e7865389" category="paragraph"><block ref="ac2f9d714248337ab7171f93e7865389" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7579c43cc636c72f9a519ec8568803b6" category="inline-image-macro">安裝操作員 1</block>
  <block id="3fda7053514ef7da788808811c3ff983" category="paragraph"><block ref="3fda7053514ef7da788808811c3ff983" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01d3e74f8acafd86528e465b4e5d2b1f" category="inline-image-macro">安裝操作員 2</block>
  <block id="492d2082d92d5cd0c3e9e645838ecbc0" category="paragraph"><block ref="492d2082d92d5cd0c3e9e645838ecbc0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ff79bc23e404a5a22df45a02dcebd11e" category="inline-image-macro">操作員安裝</block>
  <block id="af60b006d2159121472e259b5116d152" category="paragraph"><block ref="af60b006d2159121472e259b5116d152" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1fd12f7b251af1d44feb3dd418d94820" category="paragraph">接下來，建立Trident Orchestrator 實例。使用 YAML 視圖設定任何自訂值或在安裝期間啟用 iscsi 節點準備。</block>
  <block id="03a1abdc6d3af346b2afeca49ea90eaa" category="inline-image-macro">協調器創建</block>
  <block id="1f862bd9a62f6cf05c4007f3a09539ee" category="paragraph"><block ref="1f862bd9a62f6cf05c4007f3a09539ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8978eef87dc8f7572eedff6e2bd5c2a9" category="inline-image-macro">啟用 NodePrep</block>
  <block id="beaafa13a78bb1454ce9d121a69c597e" category="paragraph"><block ref="beaafa13a78bb1454ce9d121a69c597e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1b18286ecd267568f0113dbef9b4d16" category="inline-image-macro">已安裝 Orchestrator</block>
  <block id="fa7da0402cd81afbc44e492864f343d3" category="paragraph"><block ref="fa7da0402cd81afbc44e492864f343d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06188d1b14559c7901e64b986bb75929" category="inline-image-macro">安裝Trident</block>
  <block id="6d06278c3da710e307cd0f161f4c0594" category="paragraph"><block ref="6d06278c3da710e307cd0f161f4c0594" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1a41ba24dc9429264e7db57e757ee55" category="paragraph">使用上述任何一種方法安裝Trident將透過啟動 iscsid 和 multipathd 服務並在 /etc/multipath.conf 檔案中設定以下內容，為 iSCSI 準備 ROSA 叢集工作節點</block>
  <block id="fc90c887c8728c69121e5e2436cd9f6a" category="inline-image-macro">iscsid 活躍</block>
  <block id="03fdb4612a8d8373e4dabda87c00d9dc" category="paragraph"><block ref="03fdb4612a8d8373e4dabda87c00d9dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc0ff41f6ffa4ed9b929c0cb67ae52c3" category="inline-image-macro">多路徑激活</block>
  <block id="54ee16e07ddfba545d8643a9b28744b5" category="paragraph"><block ref="54ee16e07ddfba545d8643a9b28744b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7552381be5e7f0e3a0f82d85e0140723" category="inline-image-macro">multipath.conf 文件</block>
  <block id="c9706f66eb14af9dd9a7225c9fc62e9a" category="paragraph"><block ref="c9706f66eb14af9dd9a7225c9fc62e9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6645d37e9de7750f4279b2867540007" category="paragraph">**c.驗證所有Trident pod 是否處於運作狀態**</block>
  <block id="79ef2187f1254031122a8446b04ab77f" category="inline-image-macro">Trident吊艙運行</block>
  <block id="ad93df3ea6ac808e784ae10b0e0a1a81" category="paragraph"><block ref="ad93df3ea6ac808e784ae10b0e0a1a81" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e4070068ca9257738c0c1590dd5659b7" category="paragraph">**3.設定Trident CSI 後端以使用 FSx for ONTAP (ONTAP NAS)**</block>
  <block id="412b252fa44d1a73e3e7bf22113f99a2" category="inline-link-macro">ontap-nas驅動程式</block>
  <block id="5cda38c877ffa8a612ce7b7763e4390d" category="paragraph">Trident後端設定告訴Trident如何與儲存系統（在本例中為 FSx for ONTAP）通訊。為了建立後端，我們將提供要連接的儲存虛擬機器的憑證，以及叢集管理和 NFS 資料介面。我們將使用<block ref="14edcd5c25c37eab7c332a6849f58247" category="inline-link-macro-rx"></block>在 FSx 檔案系統中設定儲存磁碟區。</block>
  <block id="a06d8ea13f77dede2e54121fcba24d5f" category="paragraph">**一個。首先，使用以下 yaml** 為 SVM 憑證建立金鑰</block>
  <block id="368bea625fb1d17f4fb605b1adf6c105" category="admonition">您也可以從 AWS Secrets Manager 檢索為 FSxN 建立的 SVM 密碼，如下所示。</block>
  <block id="56ac301906b14ab3a1d90e48d5bf0099" category="inline-image-macro">AWS 機密管理器</block>
  <block id="840f406bc33ccaf7112de6db8d42639b" category="paragraph"><block ref="840f406bc33ccaf7112de6db8d42639b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0201b97b95896114d8c8a530cd34324" category="inline-image-macro">檢索秘密</block>
  <block id="13624b37c15993f43833f52bf3949e3c" category="paragraph"><block ref="13624b37c15993f43833f52bf3949e3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8c77dd8a86a3aa1229d7fb226ed698ff" category="paragraph">**b.接下來，使用以下命令將 SVM 憑證的金鑰新增至 ROSA 叢集**</block>
  <block id="f342ed808a344dca8cd316645b28a269" category="paragraph">您可以使用下列指令驗證該秘密是否已新增至 trident 命名空間中</block>
  <block id="c49bda1320107c50590e5da2e8bcc6b0" category="inline-image-macro">秘密應用</block>
  <block id="fe7736e2b80c8a5e7921962d7e45e9cd" category="paragraph"><block ref="fe7736e2b80c8a5e7921962d7e45e9cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="de0e33591485aa9503121693ac6d187d" category="paragraph">**c.接下來，建立後端物件**為此，請進入複製的 Git 儲存庫的 **fsx** 目錄。開啟檔案 backend-ontap-nas.yaml。取代以下內容：將 **managementLIF** 替換為管理 DNS 名稱，將 **dataLIF** 替換為Amazon FSx SVM 的 NFS DNS 名稱，將 **svm** 替換為 SVM 名稱。使用以下命令建立後端物件。</block>
  <block id="35919ebc3f38de293f75964141c70d38" category="paragraph">使用以下命令建立後端物件。</block>
  <block id="3061d849e31cb07387a1d37666690092" category="admonition">您可以從Amazon FSx控制台取得管理 DNS 名稱、NFS DNS 名稱和 SVM 名稱，如下面的螢幕截圖所示</block>
  <block id="918673e8fb38fdb35a598c5edcc41c6b" category="inline-image-macro">獲得生活</block>
  <block id="d3fbd0f4e568d661e7d0bf11c5dd77d5" category="paragraph"><block ref="d3fbd0f4e568d661e7d0bf11c5dd77d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="617dd2f4c60a9008ec760eb0fddb8e95" category="paragraph">**d.現在，執行以下命令來驗證後端物件是否已創建，並且階段顯示為綁定且狀態為成功**</block>
  <block id="2a88ee6aa0aa6aec1e1996086289d857" category="inline-image-macro">創建後端</block>
  <block id="e68d001e824ad78e342f3582683814fc" category="paragraph"><block ref="e68d001e824ad78e342f3582683814fc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4979a948fa2170accb8d9438300b96a" category="paragraph">**4.建立儲存類別** 現在已經設定了Trident後端，您可以建立一個 Kubernetes 儲存類別來使用該後端。儲存類別是叢集可用的資源物件。它描述並分類了您可以為應用程式請求的儲存類型。</block>
  <block id="1f18852d1e76226d0d4e171d80141cce" category="paragraph">**一個。查看 fsx 資料夾中的檔案 storage-class-csi-nas.yaml。 **</block>
  <block id="84952793b5afdcea8ab63448535d6b8e" category="paragraph">**b.在 ROSA 叢集中建立儲存類別並驗證 trident-csi 儲存類別是否已建立。 **</block>
  <block id="40d2fe88b435e73e3dbc83b404ff1b0b" category="paragraph"><block ref="40d2fe88b435e73e3dbc83b404ff1b0b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1b3d4a374bc6e11af0ea040aa8a1a80" category="paragraph">這完成了Trident CSI 驅動程式的安裝及其與 FSx for ONTAP檔案系統的連線。現在，您可以使用 FSx for ONTAP上的檔案磁碟區在 ROSA 上部署範例 Postgresql 有狀態應用程式。</block>
  <block id="0636e7d1057cc2a3e8d988583c421785" category="paragraph">**c.驗證沒有使用 trident-csi 儲存類別建立的 PVC 和 PV。 **</block>
  <block id="3e54fdb1a47731eff210cfcc69714e5c" category="inline-image-macro">不使用Trident 的PVC</block>
  <block id="0a84b167c70df61cbeed6faf35196bb5" category="paragraph"><block ref="0a84b167c70df61cbeed6faf35196bb5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="391518b1a16f4dd644fc4579501565e0" category="paragraph">**d.驗證應用程式是否可以使用Trident CSI 建立 PV。 **</block>
  <block id="830972d7ddeb03c795b08a148225a2d6" category="paragraph">使用 **fsx** 資料夾中提供的 pvc-trident.yaml 檔案建立 PVC。</block>
  <block id="d970fd0b3c991f4bbe44a6587210066b" category="inline-image-macro">使用Trident建立測試 PVC</block>
  <block id="57e19d8c3fd1957ddaad3a86b16d7064" category="paragraph"><block ref="57e19d8c3fd1957ddaad3a86b16d7064" category="inline-image-macro-rx" type="image"></block></block>
  <block id="41852c6999cb66fc6ee8adc857d41154" category="admonition">要使用 iSCSI，您應該已經在工作節點上啟用了 iSCSI（如前所示），並且需要建立 iSCSI 後端和儲存類別。以下是一些範例 yaml 檔案。</block>
  <block id="7a581ed3c7639c1ada55033248414f22" category="paragraph">**5.部署範例 Postgresql 有狀態應用程式**</block>
  <block id="6f8eddbdd9b105751799f66a50875bc6" category="paragraph">**一個。使用 helm 安裝 postgresql**</block>
  <block id="259fd35b5f9a43731297f8a140d1b21b" category="inline-image-macro">安裝 postgresql</block>
  <block id="fe93ad99824686a419fd89ad88b85621" category="paragraph"><block ref="fe93ad99824686a419fd89ad88b85621" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31cfab33a14cc72e5a344d295f4549ef" category="paragraph">**b.驗證應用程式 pod 是否正在運行，以及是否為該應用程式建立了 PVC 和 PV。 **</block>
  <block id="39403b6f7280bb5cec1e975702a82cf5" category="inline-image-macro">postgresql pods</block>
  <block id="1856ebdd54733bcfbf1943dec099798b" category="paragraph"><block ref="1856ebdd54733bcfbf1943dec099798b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f198211ed231d5aa514aba22cafd2f7d" category="inline-image-macro">postgresql pvc</block>
  <block id="20018dc0db2c6cceb0a271c957fbf7ed" category="paragraph"><block ref="20018dc0db2c6cceb0a271c957fbf7ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5d86849da5990d2b606eb41488c7eab5" category="inline-image-macro">postgresql pv</block>
  <block id="763e3ab25b2c9db0017f2081965387ae" category="paragraph"><block ref="763e3ab25b2c9db0017f2081965387ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6930e0118fbec85d7f8d0e9d6fcfac15" category="paragraph">**c.部署 Postgresql 客戶端**</block>
  <block id="0dad5f08af561e853cc9dd8bde3951b9" category="paragraph">**使用下列指令取得已安裝的 postgresql 伺服器的密碼。 **</block>
  <block id="37916fdf1075b74251bed74535d3a080" category="paragraph">**使用以下命令運行 postgresql 用戶端並使用密碼連接到伺服器**</block>
  <block id="5804396b7d4ecfdaae8ec2641975adf0" category="inline-image-macro">postgresql客戶端</block>
  <block id="334413543e8d842918cab1c6dd0f3fbf" category="paragraph"><block ref="334413543e8d842918cab1c6dd0f3fbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f465c438a10c54cb4a533ec5ddad8184" category="paragraph">**d.建立一個資料庫和一個表。為表建立一個模式，並在表中插入 2 行資料。 **</block>
  <block id="0a91e6d1ca35b9e277506ee61a3d5b02" category="inline-image-macro">postgresql 表、模式、行</block>
  <block id="4f8a864f9eba2322e44b9cc26e1f92a7" category="paragraph"><block ref="4f8a864f9eba2322e44b9cc26e1f92a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b888e639b3fe90bebf5a60ad61a3222" category="inline-image-macro">postgresql 第1行</block>
  <block id="92e86bdf8f47fdbbd9a9e904209087f8" category="paragraph"><block ref="92e86bdf8f47fdbbd9a9e904209087f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0a4b08f3c42a0e5f1dffde08d089781" category="inline-image-macro">postgresql 行2</block>
  <block id="745a9c8442f96e8a1041caac1b56044b" category="paragraph"><block ref="745a9c8442f96e8a1041caac1b56044b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b6eb32efa1f9b0356b2aaa4f3387649" category="summary">本參考文件提供了 Red Hat OpenShift 解決方案的部署驗證，該解決方案透過安裝程式設定基礎架構 (IPI) 在多個不同的資料中心環境中部署，並由NetApp進行驗證。它還詳細介紹如何利用Trident儲存編排器管理持久性存儲，從而實現與NetApp儲存系統的儲存整合。最後，我們探索並記錄了大量解決方案驗證和實際用例。</block>
  <block id="a0e01d06503f271c1de7acc0acd01733" category="doc">NVA-1160：Red Hat OpenShift 與NetApp</block>
  <block id="3f4b17e041e63192875c654812122484" category="paragraph">NetApp 的Alan Cowles 和 Nikhil M Kulkarni</block>
  <block id="4711a0fd2fa3c3625080f399e5261ecd" category="paragraph">Red Hat OpenShift 與NetApp解決方案的架構旨在透過以下用例為客戶提供卓越的價值：</block>
  <block id="44815e873492015d6a8ab6362de8da6c" category="list-text">易於部署和管理使用 IPI（安裝程式設定基礎架構）在裸機、Red Hat OpenStack 平台、Red Hat 虛擬化和 VMware vSphere 上部署的 Red Hat OpenShift。</block>
  <block id="03bb323d052d033ea0b5b2cab17f1219" category="list-text">將企業容器和虛擬化工作負載的功能與 Red Hat OpenShift 結合起來，在 OSP、RHV 或 vSphere 上虛擬部署，或在具有 OpenShift Virtualization 的裸機上部署。</block>
  <block id="5398fd75a8bd7a6e753462420c9c0aa7" category="list-text">真實世界的配置和用例突顯了 Red Hat OpenShift 與NetApp儲存和Trident（ Kubernetes 的開源儲存編排器）一起使用時的功能。</block>
  <block id="8ca11bfd783c730b04c0c77fc7574406" category="list-text">能夠同時運行虛擬化和容器化工作負載</block>
  <block id="0111977afdb7fa380f806edbe8438163" category="list-text">能夠根據工作負載需求獨立擴展基礎設施</block>
  <block id="42c487483a8feee3cc0365881a4cc265" category="paragraph">NetApp的 Red Hat OpenShift 承認這些挑戰，並提出了一種解決方案，透過在客戶選擇的資料中心環境中實施 RedHat OpenShift IPI 的全自動部署來幫助解決每個問題。</block>
  <block id="d3d8eb53a347d6ffc9fb157d9ac8398b" category="paragraph">Red Hat OpenShift 與NetApp解決方案由以下主要元件組成：</block>
  <block id="fd89bb4228981d3b22187eb451421cd6" category="section-title">紅帽 OpenShift 容器平台</block>
  <block id="70240bc0debcb080aa08dbd9e7b9a525" category="paragraph">欲了解更多信息，請訪問 OpenShift 網站<block ref="35d5a627a33ce17e4bd125258d59fbc4" category="inline-link-rx"></block>。</block>
  <block id="02af9749588c0e25a52f0551041473b1" category="paragraph">Trident是一個開源且完全支援的容器和 Kubernetes 發行版（包括 Red Hat OpenShift）儲存編排器。</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="cell">儲存</block>
  <block id="8b2b7bab9251640fb5c8caa0b8a8ff98" category="cell">9.8、9.9.1、9.12.1</block>
  <block id="601712ded7a71b0842984ad41b6aad39" category="cell">12.3</block>
  <block id="765bb3744268ca0de607208bfdc8a37a" category="cell">儲存編排</block>
  <block id="9f1cef20c22f2c879e7f62586b151463" category="cell">22.01.0、23.04、23.07、23.10、24.02</block>
  <block id="d7ac58512991ed45f3abecbfbb9cddf1" category="cell">容器編排</block>
  <block id="19b5452422900052aa9895c31e3bb9bd" category="cell">4.6 EUS，4.7，4.8，4.10，4.11，4.12，4.13，4.14</block>
  <block id="e3024b13494086daa1b9813a799ba41a" category="cell">資料中心虛擬化</block>
  <block id="38890f5544003fcf40576b9458f3e3ce" category="cell">7.0、8.0.2</block>
  <block id="472d13eb415cd6107aeef3a1ae6cd705" category="summary">NetApp提供了許多產品來幫助我們的客戶在基於容器的環境中協調和管理持久數據，例如 Red Hat OpenShift。</block>
  <block id="dd99886a26d3b0bfc6c607830f9e7019" category="doc">了解NetApp Trident與 Red Hat OpenShift 的集成</block>
  <block id="54283b72e941e950513b99a2293f70b8" category="paragraph">了解NetApp Trident保護，該保護已通過 OpenShift 虛擬化解決方案的應用程式和持久性儲存管理驗證。</block>
  <block id="c4c4d8eb1a938d23dbd4e3561819fbf1" category="paragraph">Trident是由NetApp維護的開源儲存配置器和編排器， NetApp Trident保護可協助您在基於容器的環境（例如 Red Hat OpenShift）中編排和管理持久性資料。</block>
  <block id="900bda04002ffdec7966ea3d7d98194b" category="paragraph"><block ref="900bda04002ffdec7966ea3d7d98194b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd351007d4a671a321b6881f730d0dc3" category="paragraph">以下頁麵包含有關NetApp產品的更多信息，這些產品已在 Red Hat OpenShift with NetApp解決方案中經過應用程式和持久性儲存管理驗證：</block>
  <block id="38a66e64d72c4bab859830a3603ac8eb" category="list-text"><block ref="38a66e64d72c4bab859830a3603ac8eb" category="inline-link-macro-rx"></block></block>
  <block id="593761100422aee4bdc18b693f31d86b" category="inline-link-macro">Trident保護文檔</block>
  <block id="678a9deea346abba1fb1c0458355563f" category="list-text"><block ref="678a9deea346abba1fb1c0458355563f" category="inline-link-macro-rx"></block></block>
  <block id="e38be1dc20a2b358b917b60fe2677b39" category="doc">NetApp Element iSCSI 配置</block>
  <block id="dc5fa659e0452a77d6006f5b72f8b334" category="paragraph">要實現Trident與NetApp Element儲存系統的集成，您必須建立一個後端，以便使用 iSCSI 協定與儲存系統進行通訊。</block>
  <block id="05ca7295321cb9b417a251e75557c6c5" category="list-text">下載的安裝檔案中提供了範例後端文件<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block>資料夾層次結構。對於服務於 iSCSI 的NetApp Element系統，複製<block ref="7989420add0b5baae954e866987ef264" prefix=" " category="inline-code"></block>文件到您的工作目錄並編輯該文件。</block>
  <block id="27ef1192cd037c8978195be045fa054e" category="list-text">編輯使用者、密碼和 MVIP 值<block ref="b7ae24ea48e61624a7e4078daa60bd78" prefix=" " category="inline-code"></block>線。</block>
  <block id="d1b7418d19df7144a98dfde725db068c" category="list-text">編輯<block ref="dcda39e13b00bf6bd40a507e1833a6f5" prefix=" " category="inline-code"></block>價值。</block>
  <block id="dd7f72325e6f60ea7163b071e4d5e2cc" category="list-text">有了這個後端文件，運行以下命令來創建您的第一個後端。</block>
  <block id="b73d05719d0ea2964c963f6f83a34d3d" category="admonition">有一個可選字段稱為<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>這是在這個文件中定義的。在 iSCSI 後端，可以將此值設定為特定的 Linux 檔案系統類型（XFS、ext4 等），或者可以刪除它以允許 OpenShift 決定使用哪種檔案系統。</block>
  <block id="7183f006fd74d941c838f003380f3f46" category="list-text">運行<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>命令來建立儲存類別。</block>
  <block id="02eb9c3824b0b8eae9723daa7a2912d1" category="list-text">透過發出<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>命令。創建可能需要一些時間，具體取決於所創建的備份卷的大小，因此您可以在創建完成時觀察該過程。</block>
  <block id="3ae96676432caea17595a22525bd9660" category="admonition">有一個可選字段稱為<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>這是在這個文件中定義的。在 iSCSI 後端，可以將此值設定為特定的 Linux 檔案系統類型（XFS、ext4 等）或刪除以允許 OpenShift 決定使用哪種檔案系統。</block>
  <block id="92637d8d513510f7c1f5bfac6e1cce9b" category="summary">要實現Trident與NetApp ONTAP儲存系統的集成，您必須建立一個能夠與儲存系統通訊的後端。</block>
  <block id="81736240a8dded7baeec2c203b1eb6d5" category="paragraph">Trident是一個開源且完全支援的容器和 Kubernetes 發行版（包括 Red Hat OpenShift）儲存編排器。  Trident可與整個NetApp儲存產品組合搭配使用，包括NetApp ONTAP和 Element 儲存系統，並且還支援 NFS 和 iSCSI 連線。  Trident允許最終用戶從其NetApp儲存系統配置和管理存儲，而無需儲存管理員的干預，從而加速 DevOps 工作流程。</block>
  <block id="60f45090e62b24e31c59f9c7dc58c655" category="paragraph">Trident的開發週期很快，和 Kubernetes 一樣，每年發布四次。</block>
  <block id="b2169686f146425f673c85dda25027f8" category="paragraph">已測試過哪個版本的Trident以及可以找到哪個 Kubernetes 發行版的支援矩陣<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="38461cd3f4ed507e77fed6009d4cca3e" category="inline-link-macro">Trident產品文檔</block>
  <block id="8becdc5dafaea9a42a00541b5232c9ec" category="paragraph">請參閱<block ref="c9828f1cebf8b202dc4a588c02a65aac" category="inline-link-macro-rx"></block>有關安裝和配置的詳細資訊。</block>
  <block id="e1c8e443ef4456b5817cd51fd4b2ee21" category="section-title">下載Trident</block>
  <block id="f95d0437e813349fa018b7f0e68e9a7d" category="paragraph">若要在已部署的使用者叢集上安裝Trident並配置持久性卷，請完成下列步驟：</block>
  <block id="5e2edd55fd0252c36cb87a4ce11d6e74" category="list-text">將安裝檔案下載到管理工作站並提取內容。目前版本的Trident可以下載<block ref="3ee34cf4d0ca59ba61404ff20cc8cec4" category="inline-link-rx"></block>。</block>
  <block id="422269f9bb560b76869cbd586b8370d5" category="list-text">從下載的軟體包中提取Trident安裝。</block>
  <block id="52d012c119e8e080d08f6a1592f8f9ec" category="section-title">使用 Helm 安裝Trident Operator</block>
  <block id="645e283a7a985805ce0d9bb25f595243" category="list-text">首先設定用戶集群的<block ref="deabc6332aa53495b56c51d2e3eca54f" prefix=" " category="inline-code"></block>文件作為環境變量，這樣您就不必引用它，因為Trident沒有選項來傳遞此文件。</block>
  <block id="449774824d889f1d6ebc0bbcc4920493" category="list-text">執行 Helm 指令從 helm 目錄中的 tarball 安裝Trident運算符，同時在使用者叢集中建立 trident 命名空間。</block>
  <block id="64e437a845e5de3c8e50925ebdfce295" category="list-text">您可以透過檢查命名空間中執行的 pod 或使用 tridentctl 二進位檔案檢查已安裝的版本來驗證Trident是否已成功安裝。</block>
  <block id="3ce67d5de6974f67e0048e6fdbf89498" category="admonition">在某些情況下，客戶環境可能需要客製化Trident部署。在這些情況下，也可以手動安裝Trident操作符並更新包含的清單以自訂部署。</block>
  <block id="8bd534d3b6bc8d2541df052e053ed65d" category="section-title">手動安裝Trident Operator</block>
  <block id="cbf12fa3027f198c72da11f748b09ad1" category="list-text">首先，設定用戶集群的<block ref="deabc6332aa53495b56c51d2e3eca54f" prefix=" " category="inline-code"></block>文件作為環境變量，這樣您就不必引用它，因為Trident沒有選項來傳遞此文件。</block>
  <block id="5d710ec7d521df428edd75c1885ee89b" category="list-text">這<block ref="c84ef67352bb6783ff2881f9f2821c2a" prefix=" " category="inline-code"></block>目錄包含定義所有必要資源的清單。使用適當的清單，創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源定義。</block>
  <block id="0ac11186fb38b2e9d4acd38d03f61b5c" category="list-text">如果不存在，請使用提供的清單在叢集中建立Trident命名空間。</block>
  <block id="004c51fe71b5c654f88a31270ec6c8e9" category="list-text">建立Trident操作員部署所需的資源，例如<block ref="5c24ffd6438853b537bd99b3fccd3340" prefix=" " category="inline-code"></block>對於操作員來說，<block ref="d7d354d0f9d0780e168c895c92a32c24" prefix=" " category="inline-code"></block>和<block ref="e866afd8290d5c73cda6260e04e6eef0" prefix=" " category="inline-code"></block>到<block ref="5c24ffd6438853b537bd99b3fccd3340" prefix=" " category="inline-code"></block>，一個專門的<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block>或操作員本身。</block>
  <block id="3d00f4c634c80f7ad592e1e41f6190fa" category="list-text">您可以使用以下命令在部署操作員後檢查其狀態：</block>
  <block id="b34dd67c198ad4cf0088bd29c7ef4658" category="list-text">部署操作員後，我們現在可以使用它來安裝Trident。這需要創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="e32d70a13ba1767d9a373fe9a0535531" category="section-title">準備工作節點以進行存儲</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="section-title">NFS</block>
  <block id="4b4d60be85b0c53c72ae4b8a05deacef" category="paragraph">大多數 Kubernetes 發行版都附帶預設安裝的用於掛載 NFS 後端的軟體包和實用程序，包括 Red Hat OpenShift。</block>
  <block id="89c771069f269704306d4ca7b118cc7d" category="paragraph">但是，對於 NFSv3，沒有在客戶端和伺服器之間協商並發的機制。因此，必須手動將客戶端 sunrpc 插槽表條目的最大數量與伺服器上支援的值同步，以確保 NFS 連線的最佳效能，而無需伺服器減小連線的視窗大小。</block>
  <block id="9c2d7353683234845149cb6710dc11f8" category="paragraph">對於ONTAP，支援的 sunrpc 插槽表條目的最大數量為 128，即ONTAP一次可以處理 128 個並發 NFS 請求。但是，預設情況下，Red Hat CoreOS/Red Hat Enterprise Linux 每個連線最多有 65,536 個 sunrpc 插槽表條目。我們需要將此值設為 128，這可以使用 OpenShift 中的 Machine Config Operator (MCO) 來完成。</block>
  <block id="88cd6afaae477b942c9ab5d396e43cfb" category="paragraph">若要修改 OpenShift 工作節點中的最大 sunrpc 插槽表條目數，請完成下列步驟：</block>
  <block id="7b8e6ef8272a81ebcc108ee3fcf4eac8" category="list-text">登入 OCP 網路控制台並導覽至 Compute &gt; Machine Configs。點選建立機器配置。複製並貼上 YAML 文件，然後按一下「建立」。</block>
  <block id="e7a7478f209d8b5dcaf38a593ce749b3" category="list-text">建立 MCO 後，需要在所有工作節點上套用組態並逐一重新啟動。整個過程大約需要20到30分鐘。使用以下命令驗證機器配置是否已套用<block ref="1b2628e311828c98f0307b49309b67ee" prefix=" " category="inline-code"></block>並確保工人的機器配置池已更新。</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="section-title">iSCSI</block>
  <block id="693642fbb464db49c22715a536e99c3f" category="paragraph">要準備工作節點以允許透過 iSCSI 協定映射區塊儲存卷，您必須安裝必要的軟體包來支援該功能。</block>
  <block id="cccb85b5e6a9a19187087f71254d1fb2" category="paragraph">在 Red Hat OpenShift 中，這是透過在部署叢集後將 MCO（機器配置操作員）應用於叢集來處理的。</block>
  <block id="068d2023b916134a0573aaad841124e4" category="paragraph">若要設定工作節點以執行 iSCSI 服務，請完成下列步驟：</block>
  <block id="c25282bfd8c140d1f79c25362637f744" category="paragraph">不使用多路徑時：</block>
  <block id="541c76e8762c84e3e0488f91c8062e08" category="paragraph">使用多路徑時：</block>
  <block id="d9f036d3b9f84b626f8a777480066cab" category="list-text">配置建立後，大約需要 20 到 30 分鐘將配置套用到工作節點並重新載入它們。使用以下命令驗證機器配置是否已套用<block ref="1b2628e311828c98f0307b49309b67ee" prefix=" " category="inline-code"></block>並確保工人的機器配置池已更新。您也可以登入工作節點來確認 iscsid 服務正在執行（如果使用多路徑，則 multipathd 服務正在執行）。</block>
  <block id="6e16409ed6038c106c7fa1dfbfb9da0f" category="admonition">也可以透過執行以下命令來確認 MachineConfig 已成功應用且服務已如預期啟動<block ref="5c237bbde25a8cf47cdca465191a6c1d" prefix=" " category="inline-code"></block>帶有適當標誌的命令。</block>
  <block id="b09d268106fd9cbfffd1dc848382a150" category="section-title">建立儲存系統後端</block>
  <block id="7446a4d317fe341cdd6730f4f855e457" category="paragraph">完成Trident Operator 安裝後，您必須為正在使用的特定NetApp儲存平台設定後端。按照下面的連結繼續設定並設定Trident。</block>
  <block id="615767b52353571ac174e22f1a984aa3" category="inline-link-macro">NetApp ONTAP NFS</block>
  <block id="1b794fc78293a8889c11095120e67f57" category="list-text"><block ref="1b794fc78293a8889c11095120e67f57" category="inline-link-macro-rx"></block></block>
  <block id="c93e7ef2934826b1393251e9f7d9e331" category="inline-link-macro">NetApp ONTAP iSCSI</block>
  <block id="4faa271e943611ed64a2234b66837008" category="list-text"><block ref="4faa271e943611ed64a2234b66837008" category="inline-link-macro-rx"></block></block>
  <block id="d0e0904111acb167badbf5f196ad1205" category="inline-link-macro">NetApp Element iSCSI</block>
  <block id="686ca4813230d348cbdb8a206d97d043" category="list-text"><block ref="686ca4813230d348cbdb8a206d97d043" category="inline-link-macro-rx"></block></block>
  <block id="1191c85631a935ab269322999330546b" category="doc">使用Trident Protect 為容器應用程式和虛擬機器提供資料保護</block>
  <block id="7c99164314b2cf8a73c17279eaccfc7b" category="paragraph">此解決方案展示如何使用Trident Protect 對容器和虛擬機器執行資料保護作業。</block>
  <block id="62a324e3ba7eee76fbaa20cdc8eb741d" category="list-text">有關在 OpenShift Container 平台中為容器應用程式建立快照和備份以及從中復原的詳細信息，請參閱<block ref="e0e2cfcdc6ab531229c62cad93f941d2" category="inline-link-macro-rx"></block>。</block>
  <block id="b4ee1a672c20b5bc7a97af7bdc1a2b4f" category="list-text">有關在 OpenShift Container 平台上部署的 OpenShift Virtualization 中建立和恢復虛擬機備份的詳細信息，請參閱<block ref="33cd3071c79f9f90e5d317d7c3ee6940" category="inline-link-macro-rx"></block>。</block>
  <block id="3a724344bfc1b086a678d66814f20dd7" category="summary">本節提供使用 Jenkins 部署持續整合和持續交付或部署管道的步驟，以驗證解決方案的運作。</block>
  <block id="b830a759b7bbee23da50f11979fb8f27" category="doc">使用持久性儲存部署 Jenkins CI/CD 管道：Red Hat OpenShift 與NetApp</block>
  <block id="ff587ce314d6f90660779e9d75cafe53" category="paragraph">本節提供使用 Jenkins 部署持續整合/持續交付或部署 (CI/CD) 管道以驗證解決方案運作的步驟。</block>
  <block id="9eb8af4dd2c3557a24b914601b6ae465" category="section-title">建立Jenkins部署所需的資源</block>
  <block id="93b3852e5c67975dd33b1769b24a4a85" category="paragraph">若要建立部署 Jenkins 應用程式所需的資源，請完成以下步驟：</block>
  <block id="9fd493573e73cb0e5e55e97306249596" category="list-text">建立一個名為 Jenkins 的新專案。</block>
  <block id="8007dd5ea548a9597a6fd0d0837cf904" category="paragraph"><block ref="8007dd5ea548a9597a6fd0d0837cf904" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d256abce3dbdfed83e337956e42f60f" category="list-text">在這個例子中，我們部署了具有持久性儲存的 Jenkins。為了支持 Jenkins 構建，請建立 PVC。導覽至儲存 &gt; 持久性卷聲明，然後按一下建立持久性卷聲明。選擇剛剛建立的儲存類，確保持久性磁碟區聲明名稱為jenkins，選擇適當的大小和存取模式，然後按一下建立。</block>
  <block id="e5d5518aa4ae9a3e5207fe245d35147b" category="paragraph"><block ref="e5d5518aa4ae9a3e5207fe245d35147b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9272f40a21ca3dad814c4e3886b40776" category="section-title">使用持久性儲存部署 Jenkins</block>
  <block id="939a7b51bfb262627185af768c3c1024" category="paragraph">若要使用持久性儲存部署 Jenkins，請完成下列步驟：</block>
  <block id="d31d340fd6b135cac2cfac7b04a34c10" category="list-text">在左上角，將角色從管理員變更為開發人員。點擊 +新增並選擇來自目錄。在按關鍵字過濾欄中，搜尋 jenkins。選擇具有持久性儲存的 Jenkins 服務。</block>
  <block id="a1a1bd76420a8c683be6dccdb404f07e" category="paragraph"><block ref="a1a1bd76420a8c683be6dccdb404f07e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6baa4bd25992de2d17278ade0d3090ad" category="list-text">點選<block ref="42dcbbaa226af66223d0680206ea8547" prefix=" " category="inline-code"></block>。</block>
  <block id="fe6fbabc1e025fca5155c581760a956c" category="paragraph"><block ref="fe6fbabc1e025fca5155c581760a956c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7b4a6da6ab2733552de61d67b38a39e" category="list-text">預設情況下，會填入 Jenkins 應用程式的詳細資訊。根據您的需求，修改參數並點擊“建立”。此過程創建了在 OpenShift 上支援 Jenkins 所需的所有資源。</block>
  <block id="cfd19feb2a18d2cf0379c59a1d59ee6c" category="paragraph"><block ref="cfd19feb2a18d2cf0379c59a1d59ee6c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb86f2dea9912af1bb1677c9cf33e619" category="list-text">Jenkins pod 大約需要 10 到 12 分鐘才能進入就緒狀態。</block>
  <block id="aca4c194891259971d42b8e40824c60f" category="paragraph"><block ref="aca4c194891259971d42b8e40824c60f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da33835bff86a0b0c8be6c67dcf677bb" category="list-text">實例化 Pod 後，導覽至「網路」&gt;「路由」。若要開啟 Jenkins 網頁，請點選 jenkins 路由提供的 URL。</block>
  <block id="8bf5ffa50f8001acbf2c5c8de7fb1a38" category="paragraph"><block ref="8bf5ffa50f8001acbf2c5c8de7fb1a38" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d59d1324dea050a2c0ffc376de411aa0" category="list-text">由於在建立 Jenkins 應用程式時使用了 OpenShift OAuth，因此請按一下使用 OpenShift 登入。</block>
  <block id="2136aeeb0aeb36fefd84f6ba7b527ed7" category="paragraph"><block ref="2136aeeb0aeb36fefd84f6ba7b527ed7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="70a742210f3e3599821b3a11b682144c" category="list-text">授權 Jenkins 服務帳戶存取 OpenShift 使用者。</block>
  <block id="5bb584ba03a4447f210abaaa6fc3421d" category="paragraph"><block ref="5bb584ba03a4447f210abaaa6fc3421d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b07934b6023389a7e3e183b45e3b7448" category="list-text">將顯示 Jenkins 歡迎頁面。因為我們使用的是 Maven 構建，所以請先完成 Maven 安裝。導航至“管理 Jenkins”&gt;“全域工具配置”，然後在“Maven”子標題中按一下“新增 Maven”。輸入您選擇的名稱並確保選擇了“自動安裝”選項。按一下「Save（儲存）」。</block>
  <block id="ba97815cd1398364c5d732df404570f4" category="paragraph"><block ref="ba97815cd1398364c5d732df404570f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fd32305bf380bf893ef2407eae75f5d" category="list-text">現在您可以建立一個管道來示範 CI/CD 工作流程。在主頁上，按一下左側功能表中的「建立新作業」或「新專案」。</block>
  <block id="5ec90d2545035ac497202eb7ae3434fc" category="paragraph"><block ref="5ec90d2545035ac497202eb7ae3434fc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b6fc174a3fad5c396413febe1d4ba50" category="list-text">在建立專案頁面上，輸入您選擇的名稱，選擇管道，然後按一下確定。</block>
  <block id="c4dec2852d55117421867d65e456a7ad" category="paragraph"><block ref="c4dec2852d55117421867d65e456a7ad" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd55d787cacfb25983e0a24b58ba6d48" category="list-text">選擇管道選項卡。從嘗試範例管道下拉選單中，選擇 Github + Maven。程式碼會自動填入。按一下「Save（儲存）」。</block>
  <block id="86ec92271960dd23f1614721c07bc989" category="paragraph"><block ref="86ec92271960dd23f1614721c07bc989" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0191ad3b841f8db403ec4749d571eb4b" category="list-text">按一下「立即建置」以透過準備、建置和測試階段觸發開發。完成整個建置過程並顯示建置結果可能需要幾分鐘。</block>
  <block id="d469f4aef2bd2d92449c1ae5dd63a196" category="paragraph"><block ref="d469f4aef2bd2d92449c1ae5dd63a196" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b04b355d9fc6a2e23965649ebdd0aa31" category="list-text">每當程式碼發生任何變化時，都可以重建管道來修補新版本的軟體，從而實現持續整合和持續交付。按一下「最近變更」可追蹤自上一版本以來的變更。</block>
  <block id="440d5f7885e3509845c5c7594e97c253" category="paragraph"><block ref="440d5f7885e3509845c5c7594e97c253" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eeaa3ef2816f113fd1978b036eefc4a4" category="doc">解決方案驗證與用例：Red Hat OpenShift 與NetApp</block>
  <block id="9e766e668731b912ea84be747f0d6b4b" category="paragraph">本頁提供的範例是 Red Hat OpenShift 與NetApp的解決方案驗證和用例。</block>
  <block id="6f60a8e202d6d4f297230695ffa9c1a6" category="inline-link-macro">使用持久性儲存部署 Jenkins CI/CD 管道</block>
  <block id="89f2747d937bded57a2c1e838e594245" category="list-text"><block ref="89f2747d937bded57a2c1e838e594245" category="inline-link-macro-rx"></block></block>
  <block id="e85b6a5686bf01c916e1c3b442e8db44" category="inline-link-macro">使用NetApp在 Red Hat OpenShift 上設定多租戶</block>
  <block id="9f029585631b58c48d4feb22dd3adcfc" category="list-text"><block ref="9f029585631b58c48d4feb22dd3adcfc" category="inline-link-macro-rx"></block></block>
  <block id="65cd53ff19e601ea00bf9688be4dd86a" category="inline-link-macro">搭載NetApp ONTAP 的Red Hat OpenShift 虛擬化</block>
  <block id="db5c644103ff390dadcec3094fd498e8" category="list-text"><block ref="db5c644103ff390dadcec3094fd498e8" category="inline-link-macro-rx"></block></block>
  <block id="87ed6881ea79ec2ef5ad87983c7493be" category="list-text"><block ref="87ed6881ea79ec2ef5ad87983c7493be" category="inline-link-macro-rx"></block></block>
  <block id="7a9d54f11a08f06fafb146a95a28fcae" category="doc">使用第三方工具對容器應用程式和虛擬機器進行資料保護</block>
  <block id="a78517d99e4cf029d76c3e543b762f94" category="paragraph">此解決方案展示如何使用與 Red Hat OpenShift Container 平台中的 OADP 操作員整合的 Velero 對容器和虛擬機器執行資料保護操作。</block>
  <block id="f7da192deb097319c1dea250e677bc33" category="list-text">有關在 OpenShift Container 平台中建立和恢復容器應用程式備份的詳細信息，請參閱<block ref="d255861b913ae322076bc5eef85ea279" category="inline-link-macro-rx"></block>。</block>
  <block id="8264d7dad2a4ce20d002e352b2c274b2" category="list-text">有關在 OpenShift Container 平台上部署的 OpenShift Virtualization 中建立和恢復虛擬機備份的詳細信息，請參閱<block ref="6df0f4cfdc0e8a7995e4abc22155ea26" category="inline-link-macro-rx"></block>。</block>
  <block id="b43c4021858544ebd3a492d082a7f349" category="doc">NetApp儲存系統概述</block>
  <block id="34ea8ef199c59f90c815aa0dd2bc6fd6" category="summary">演示本文檔中記錄的一些功能。</block>
  <block id="27619261561b45c6dad352a91cdae06e" category="doc">觀看有關 Anthos 與NetApp合作的視頻</block>
  <block id="4c57bd0d34bd5f3e139a2dd80505a84e" category="paragraph">透過精選的影片和演示，探索NetApp與 Google Anthos 的主要功能和部署場景。這些資源展示了最佳實踐、整合步驟和實際用例。</block>
  <block id="4ccf3ae7bb3d8838f325717cd35d1dfd" category="section-title">裸機上的 Anthos 部署與設置</block>
  <block id="89b38443846cc99ba1113890e7270acc" category="video-title">在裸機上部署 Anthos - Anthos 與NetApp合作</block>
  <block id="daaab4f89e6b91dc8ffb4fdf89e47081" category="section-title">Anthos 上的Trident部署和設置</block>
  <block id="986f033962d58171ac0c17b40b399faa" category="video-title">在 Anthos 1.14 叢集上部署Trident</block>
  <block id="f97a2ba852f10a885c65ef482f17b6aa" category="doc">觀看有關 Red Hat OpenShift 與NetApp 的視頻</block>
  <block id="e54e8dbc73d626c0aaf7a69ca95da1c7" category="paragraph">透過一系列影片探索 Red Hat OpenShift 與NetApp的集成，這些影片展示了災難復原、虛擬機器保護、儲存管理以及使用Trident和 Ansible 的自動化等關鍵功能。</block>
  <block id="5f3bea6f8bc9cc87c687e620901ed154" category="section-title">災難復原和資料保護</block>
  <block id="14aef6a2e48da70f33e219a771d4aa3e" category="video-title">使用Trident Protect 進行虛擬機器災難復原</block>
  <block id="e0da49b5df3487900e358f73e4c78a73" category="video-title">使用Trident Protect 保護虛擬機</block>
  <block id="a85a32282b2e3fdd418e3251483f172d" category="video-title">使用Trident的進階資料管理功能對 OpenShift VM 進行故障轉移/故障復原（僅提供早期存取程式）</block>
  <block id="1370341e126c18547913cbfd911a6ab8" category="section-title">OpenShift 虛擬化與 VM 管理</block>
  <block id="1fd6120f233d6d8be5481ea6bcbdb646" category="video-title">使用 iSCSI 儲存在 OpenShift Virtualization 中建立 VM</block>
  <block id="6771541141e5915f17a20a6760780a0d" category="video-title">使用ONTAP SAN（iSCSI）儲存類別在 OpenShift 虛擬化中部署新虛擬機</block>
  <block id="160569b817ed2a17a8d2b23c2bc20b8d" category="video-title">使用 OpenShift 虛擬化部署虛擬機器 - Red Hat OpenShift 與NetApp</block>
  <block id="05c17630778983e447b6370533d21bce" category="video-title">使用Amazon FSx for NetApp ONTAP在 ROSA 上的 OpenShift 虛擬化中即時遷移虛擬機</block>
  <block id="1a77203f1aab519882f2e846b9d9b719" category="video-title">使用 Red Hat MTV 將虛擬機器遷移到具有NetApp ONTAP儲存的 OpenShift 虛擬化</block>
  <block id="0308f182e68fef9b68dd1683d1bf1e96" category="video-title">工作負載遷移 - Red Hat OpenShift 與NetApp</block>
  <block id="f572afcba8a95128ddd328e44a23a189" category="video-title">安裝 OpenShift 虛擬化 - Red Hat OpenShift 與NetApp</block>
  <block id="e110e2333a8febc7917146824eb919fd" category="video-title">適用於 Red Hat 虛擬化上的 Red Hat OpenShift 的NetApp HCI</block>
  <block id="4c9fa62158545d2793dcf18d7f24353c" category="section-title">應用程式部署和儲存</block>
  <block id="c636e83e557395cd7de62e9306bafd01" category="video-title">使用ONTAP NAS 儲存類別部署 postgresql 容器應用程式</block>
  <block id="ab98c7b38a5a6431e4ec0050bafac980" category="section-title">自動化與集成</block>
  <block id="c403d01ff536a70cb8d31b064fbbd59c" category="video-title">Ansible 自動化部署Trident並在 OpenShift 叢集上建立儲存類</block>
  <block id="fd934cb2f55bec946103e4f90ff84691" category="video-title">Cloud Insights與 Openshift Virtualization 集成</block>
  <block id="9288a4df569f8cbeebc3a4aa9cef9cf4" category="inline-link-macro">使用 Ansible 安裝NetApp Trident、StorageClasses 和 Backend 的劇本可以在 github 中找到。</block>
  <block id="ec765b62758379ce6dcc1dc7ff0258bc" category="paragraph">**GitHub 中的 Ansible 範例程式碼**<block ref="df3073ceed8f3ce793912644c2d5a488" category="inline-link-macro-rx"></block></block>
  <block id="e6b62a38cb04c5bd5e6dc934c39d11bf" category="section-title">雲端和混合集成</block>
  <block id="c9e349766e4968ee277d240ff7b169e6" category="video-title">使用 OpenShift 虛擬化部署虛擬機器 - Red Hat OpenShift 與NetApp</block>
  <block id="1ff76fb7d3302370628b1ccc6226b6a5" category="summary">NetApp容器解決方案附件的最新變更日誌。</block>
  <block id="fb548f8c1b2df619579952261b15aaa1" category="doc">NetApp容器解決方案的新功能</block>
  <block id="7900a4657b5879f994050b5813a75ce6" category="paragraph">了解容器解決方案的新功能。</block>
  <block id="bab52961b58c502c7991d35556c25367" category="section-title">2025年8月18日</block>
  <block id="47e26e0d5bbeef43c544dd9ae72e66b0" category="inline-link-macro">NetApp解決方案系列</block>
  <block id="840125a006aee7dc0e8efd313e7b614e" category="paragraph">NetApp解決方案網站現在是<block ref="f083b096ae581e72c5ab727ef8bd5732" category="inline-link-macro-rx"></block>，其中包括以下網站：</block>
  <block id="e87298059f60b0844dc971f315184cf5" category="inline-link-macro">NetApp人工智慧解決方案</block>
  <block id="ac42ca0e1f789a8367b40d9824726778" category="list-text"><block ref="ac42ca0e1f789a8367b40d9824726778" category="inline-link-macro-rx"></block></block>
  <block id="9cae574c1dc1ca50a949c1e889637ba7" category="list-text">NetApp容器解決方案</block>
  <block id="3947417923606d3599bcba7a82f71f1b" category="inline-link-macro">NetApp資料管理解決方案</block>
  <block id="56c054d4bb919790ebe189f7a7d11c3c" category="list-text"><block ref="56c054d4bb919790ebe189f7a7d11c3c" category="inline-link-macro-rx"></block></block>
  <block id="9bb3e58246c5654a6d8e08a7bddd60ec" category="inline-link-macro">NetApp資料庫解決方案</block>
  <block id="3e2420ab1ec1d6e02b32b017d3ba969a" category="list-text"><block ref="3e2420ab1ec1d6e02b32b017d3ba969a" category="inline-link-macro-rx"></block></block>
  <block id="a37049a2a78422ac5627c7987db5c337" category="inline-link-macro">NetApp公有雲與混合雲解決方案</block>
  <block id="144417321224efbf0afc2ae665a84a46" category="list-text"><block ref="144417321224efbf0afc2ae665a84a46" category="inline-link-macro-rx"></block></block>
  <block id="2729aba3baa90aaaed37b282e515f6e4" category="inline-link-macro">適用於 SAP 的NetApp解決方案</block>
  <block id="5e056430559fb77ac659dbb71ecce256" category="list-text"><block ref="5e056430559fb77ac659dbb71ecce256" category="inline-link-macro-rx"></block></block>
  <block id="4ead908c2ca3b4c7156e0e703642415d" category="inline-link-macro">NetApp虛擬化解決方案</block>
  <block id="3100186c9f62cec85ac05309c5d10217" category="list-text"><block ref="3100186c9f62cec85ac05309c5d10217" category="inline-link-macro-rx"></block></block>
  <block id="a14474dbd054111be339c0985fc9a679" category="sidebar">NetApp容器解決方案是經過驗證的許多流行的基於 Kubernetes 的容器編排器的部署及其與NetApp儲存管理系統和軟體的整合。</block>
  <block id="ef55276f0238c6b1a3f893bc026b5644" category="sidebar">NetApp容器解決方案是經過驗證的許多流行的基於 Kubernetes 的容器編排器的部署及其與NetApp儲存管理系統和軟體的整合。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">開始</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">什麼是新的</block>
  <block id="3beb4861bd4493a3bf12353ac6ae3ded" category="sidebar">了解適用於容器的NetApp Trident</block>
  <block id="d6b9ea32b921a9f56de32062ba4b94f3" category="sidebar">部落格</block>
  <block id="de42653a3a04e4aefa258105632011d4" category="sidebar">影片和演示</block>
  <block id="e2ed9dce9d5bb40e79fc6d3008de22ff" category="sidebar">Anthos 與NetApp合作</block>
  <block id="c0c4b60d27032c028c91440e9d3be949" category="sidebar">解決方案概述</block>
  <block id="f9468c81b3d59ac0030570c4f58e95f1" category="sidebar">用例</block>
  <block id="c232cfc0ae9806d3ad6d34a51df58229" category="sidebar">Red Hat OpenShift 與NetApp</block>
  <block id="1758083ef63bb4ae8b59ef124a858366" category="sidebar">關於 Red Hat OpenShift</block>
  <block id="9bcb78f243173b51be948352a4456070" category="sidebar">關於 AWS 上的 OpenShift</block>
  <block id="0906b68b3611de6c610f9203cb79845d" category="sidebar">合作夥伴解決方案</block>
  <block id="608fd0ec5cdb56ad3d3e6d9595ec6f19" category="sidebar">Anthos 網站</block>
  <block id="4f08bd7fd1651ff7d7a087a393044ace" category="sidebar">Red Hat OpenShift 網站</block>
  <block id="e95b75f557af9310f3d9c6299286a533" category="sidebar">解決方案請求和回饋</block>
  <block id="22d04ecae9fae88d0b8d4548a46a545b" category="sidebar">請求自動化</block>
  <block id="776ab15fef436c9315c14738509d299e" category="sidebar">提出新的解決方案</block>
  <block id="cfdaac8ef24ac5b2612570c34da00954" category="sidebar">提供解決方案回饋</block>
  <block id="bc436006a66168dc26ba4aaa56259fc4" category="sidebar">觀看有關使用NetApp 的容器的影片和演示</block>
  <block id="9b43113f4ddf8646d9d3550adc52d9cc" category="sidebar">一系列影片和示範討論了 NetApp 眾多容器解決方案的功能</block>
  <block id="57e5461f846280ec63710c1932950345" category="sidebar">Anthos 部署與設置</block>
  <block id="7598fa17e487d462cc4c58c4f4edc666" category="sidebar">Trident部署與設定</block>
  <block id="ae05797d002b77737a10ce3d62b7521d" category="sidebar">容器解決方案</block>
  <block id="554cfab3938e21d9270bd6b75931f96f" category="sidebar">影片</block>
  <block id="65002e037ae0f2ae1b3677530fc669d8" category="sidebar">了解 Anthos</block>
  <block id="ca76b01854045afd9b2809e7bcc687f8" category="sidebar">Anthos 概覽</block>
  <block id="aff9a6321d1ed0024673788596604472" category="sidebar">NetApp儲存整合概述</block>
  <block id="10918e6d6b467ead62e231572756b997" category="sidebar">NetApp Trident概述</block>
  <block id="9345c0974c905f3596d841f244c22e5d" category="sidebar">關於進階配置選項</block>
  <block id="c75fbfce0df55a295dd56b886d37911e" category="sidebar">探索負載平衡器選項</block>
  <block id="be104e488c8f33c89311c1e663fe2fc9" category="sidebar">關於負載平衡器選項</block>
  <block id="494c2eed2603622becf6572708a95792" category="sidebar">安裝 F5 BIG-IP 負載平衡器</block>
  <block id="42431abbf41572fb3a742e2224103321" category="sidebar">安裝 MetalLB 負載平衡器</block>
  <block id="de02c3a4f8f11d5389014a1c339819e3" category="sidebar">安裝 SeeSaw 負載平衡器</block>
  <block id="b67ebd5055f44472bc8cc303b27348ab" category="sidebar">解決方案驗證和用例</block>
  <block id="d5fa78be95ea5725d94d99c1c3256b64" category="sidebar">將應用程式部署到 Anthos 集群</block>
  <block id="0f68b904e33d9ac04605aecc958bcf52" category="sidebar">附加資訊</block>
  <block id="8c0e1e9d7a2f970b214d619b5fa0be13" category="sidebar">紅帽 OpenShift</block>
  <block id="a538d4259ee82a61664e8ada23312723" category="sidebar">Openshift 概述</block>
  <block id="a6a1645c28213b20c97824fbabb75d40" category="sidebar">裸機上的 OpenShift</block>
  <block id="851356a71afbb03afddb87a2cc236dfa" category="sidebar">Red Hat OpenStack 上的 OpenShift</block>
  <block id="d274b30da0a80eb8fef4041be8dc61cb" category="sidebar">AWS 上的 OpenShift</block>
  <block id="e8702ba57ee337d95935bdfe835583a3" category="sidebar">安裝 MetalLB 負載平衡器</block>
  <block id="833985b983ff7df9c79b80582559ca3d" category="sidebar">安裝 F5 BIG-IP 負載平衡器</block>
  <block id="0f78dfd96e58728c792d5da431682fa2" category="sidebar">建立私有鏡像倉庫</block>
  <block id="c62cd9d117c8f05ed30e61fdac1fd3c2" category="sidebar">驗證和用例概述</block>
  <block id="155cec080f89e880c1455f720f539ad1" category="sidebar">使用持久性儲存部署 Jenkins CI/CD 管道</block>
  <block id="23c55d3f2cb16ab386974fba42bbb268" category="sidebar">配置多租戶</block>
  <block id="41b8bf9258cb177b1e65b4140af230fa" category="sidebar">關於配置多租戶</block>
  <block id="282155126a94a0702cfd80daf38d4362" category="sidebar">配置概述</block>
  <block id="7984cdcb84b94f3ec5af3c2aa0bc9f9c" category="sidebar">配置前提條件</block>
  <block id="9128ba91c39e3e8f2e38f4b8e1f68158" category="sidebar">集群管理員任務</block>
  <block id="23eebb1148810d58d22f0f1dde752583" category="sidebar">儲存管理員任務</block>
  <block id="bc967dc2d57e6eff184a821bf7577a80" category="sidebar">縮放</block>
  <block id="fe85f2b34449ea90dbe48fd5910fe08c" category="sidebar">Kubernetes 的高階叢集管理</block>
  <block id="473de3786e8c237f46d47486bfafec79" category="sidebar">關於 ACM for Kubernetes</block>
  <block id="8d75b4b5f32c5f99a16eb75780f51c78" category="sidebar">為 Kubernetes 部署 ACM</block>
  <block id="d6bf2b10101446c7afd28ff94926fc44" category="sidebar">透過操作員部署</block>
  <block id="c0fb0083e5136a2c72891f49a3e6ceb4" category="sidebar">集群生命週期管理</block>
  <block id="e4ae510b1e81812b0dae0bebf4231fe7" category="sidebar">創建資源</block>
  <block id="384020c4d4a2b25e93d0325c98b23380" category="sidebar">使用Trident Protect 進行資料保護</block>
  <block id="da473976b9cde07503715dadcfbf21d9" category="sidebar">使用第三方工具進行資料保護</block>
  <block id="092bf78f9c97ba171b8232ddff585392" category="sidebar">附加資訊</block>
  <block id="bdede1d84f059aba6c8c7f443f0dcf8a" category="sidebar">使用 FSxN 在 AWS 上提供 Red Hat OpenShift 服務</block>
  <block id="5e21330fc0890f55a17acc561df2e1f0" category="sidebar">AWS 上的 OpenShift 服務工作流程</block>
  <block id="ff98a347124fc4408f955fa479a08047" category="paragraph">若要設定關聯群組，請參閱下方適用於您的 VMware vSphere 版本的對應連結。</block>
  <block id="70dec797486e96f0b66f5b6f6232e97e" category="inline-link">vSphere 9.0 文件：使用 DRS 關聯性規則</block>
  <block id="28f3c4952f8984dbba3cb64144d23c55" category="paragraph"><block ref="013ce530ab8ab67ba2512060eb3ef551" category="inline-link-rx"></block>https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/7-0/vsphere-resource-management/using-drs-clusters-to-manage-resources/using-vm-host-affinity-rules.html[vSphere 7.0sources/using-vm-host-affinity-rules.html[vSphere 7.0 親性規則）。</block>
  <block id="75aced0054edcf64f0ce28e9417b9ecc" category="paragraph">在這種情況下，您可以執行精靈並執行任務，而無需立即部署叢集；它會建立一個設定文件，稍後可以從中部署叢集。如果您需要更改任何 IPI 預設值，或者如果您想在環境中部署多個相同的叢集以用於多租戶等其他用途，這將非常有用。有關建立 OpenShift 自訂安裝配置的更多信息，請參閱 <block ref="d119246d08531f99b62e09f0007159a5" category="inline-link-macro-rx"></block>。</block>
  <block id="7eec9c349f16a2215195b8598e8dea11" category="paragraph">若要配置親緣組，請參閱 <block ref="cf8e958cf9893349b91e0cb26eb4a70a" category="inline-link-macro-rx"></block>。</block>
  <block id="b9aaad555d183234dc95454f14ebcc62" category="sidebar">探索 NetApp 全面的影片庫，了解 Anthos 和 OpenShift 平台上的容器解決方案。每個系列都專注於特定的使用案例和整合場景。</block>
</blocks>